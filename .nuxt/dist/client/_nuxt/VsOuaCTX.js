var vd=Object.defineProperty;var gd=(t,e,a)=>e in t?vd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var ce=(t,e,a)=>gd(t,typeof e!="symbol"?e+"":e,a);import{J as mi,i as Z,K as rt,L as sn,M as ii,j as ot,N as Et,O as Ki,z as Ct,P as X,o as I,c as G,e as Mt,Q as ht,d as Be,w as Se,R as de,S as at,T as kt,l as y,U as nt,V as io,G as Ae,W as _n,x as Q,X as Xi,Y as yd,E as Fe,b as _e,F as Te,n as Bt,Z as ri,D as ct,$ as Pl,a0 as ro,a1 as bd,q as wa,a2 as wd,k as Ni,a3 as Bi,a4 as _d,a5 as kd,a6 as Pd,a7 as kn,a8 as ki,a9 as Td}from"./OmrnE3d5.js";function me(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ce(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function qt(t,e){const a=me(t);return isNaN(e)?Ce(t,NaN):(e&&a.setDate(a.getDate()+e),a)}function Vt(t,e){const a=me(t);if(isNaN(e))return Ce(t,NaN);if(!e)return a;const n=a.getDate(),i=Ce(t,a.getTime());i.setMonth(a.getMonth()+e+1,0);const r=i.getDate();return n>=r?i:(a.setFullYear(i.getFullYear(),i.getMonth(),n),a)}function Tl(t,e){const{years:a=0,months:n=0,weeks:i=0,days:r=0,hours:s=0,minutes:o=0,seconds:l=0}=e,u=me(t),c=n||a?Vt(u,n+a*12):u,d=r||i?qt(c,r+i*7):c,p=o+s*60,b=(l+p*60)*1e3;return Ce(t,d.getTime()+b)}function Sd(t,e){const a=+me(t);return Ce(t,a+e)}const Sl=6048e5,Fd=864e5,xd=6e4,Fl=36e5,Dd=1e3;function Od(t,e){return Sd(t,e*Fl)}let Ad={};function on(){return Ad}function Wt(t,e){var o,l,u,c;const a=on(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??a.weekStartsOn??((c=(u=a.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=me(t),r=i.getDay(),s=(r<n?7:0)+r-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function mn(t){return Wt(t,{weekStartsOn:1})}function xl(t){const e=me(t),a=e.getFullYear(),n=Ce(t,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const i=mn(n),r=Ce(t,0);r.setFullYear(a,0,4),r.setHours(0,0,0,0);const s=mn(r);return e.getTime()>=i.getTime()?a+1:e.getTime()>=s.getTime()?a:a-1}function so(t){const e=me(t);return e.setHours(0,0,0,0),e}function Hi(t){const e=me(t),a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return a.setUTCFullYear(e.getFullYear()),+t-+a}function Dl(t,e){const a=so(t),n=so(e),i=+a-Hi(a),r=+n-Hi(n);return Math.round((i-r)/Fd)}function Cd(t){const e=xl(t),a=Ce(t,0);return a.setFullYear(e,0,4),a.setHours(0,0,0,0),mn(a)}function Md(t,e){const a=e*3;return Vt(t,a)}function Ss(t,e){return Vt(t,e*12)}function oo(t,e){const a=me(t),n=me(e),i=a.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Ol(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ei(t){if(!Ol(t)&&typeof t!="number")return!1;const e=me(t);return!isNaN(Number(e))}function lo(t){const e=me(t);return Math.trunc(e.getMonth()/3)+1}function Ed(t,e){const a=me(t),n=me(e);return a.getFullYear()-n.getFullYear()}function $d(t,e){const a=me(t),n=me(e),i=oo(a,n),r=Math.abs(Ed(a,n));a.setFullYear(1584),n.setFullYear(1584);const s=oo(a,n)===-i,o=i*(r-+s);return o===0?0:o}function Al(t,e){const a=me(t.start),n=me(t.end);let i=+a>+n;const r=i?+a:+n,s=i?n:a;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=r;)l.push(me(s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return i?l.reverse():l}function Xa(t){const e=me(t),a=e.getMonth(),n=a-a%3;return e.setMonth(n,1),e.setHours(0,0,0,0),e}function Rd(t,e){const a=me(t.start),n=me(t.end);let i=+a>+n;const r=i?+Xa(a):+Xa(n);let s=Xa(i?n:a),o=1;const l=[];for(;+s<=r;)l.push(me(s)),s=Md(s,o);return i?l.reverse():l}function Id(t){const e=me(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Cl(t){const e=me(t),a=e.getFullYear();return e.setFullYear(a+1,0,0),e.setHours(23,59,59,999),e}function si(t){const e=me(t),a=Ce(t,0);return a.setFullYear(e.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Ml(t,e){var o,l,u,c;const a=on(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??a.weekStartsOn??((c=(u=a.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=me(t),r=i.getDay(),s=(r<n?-7:0)+6-(r-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function uo(t){const e=me(t),a=e.getMonth(),n=a-a%3+3;return e.setMonth(n,0),e.setHours(23,59,59,999),e}const Nd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bd=(t,e,a)=>{let n;const i=Nd[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function hr(t){return(e={})=>{const a=e.width?String(e.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const Ud={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ld={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zd={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hd={date:hr({formats:Ud,defaultWidth:"full"}),time:hr({formats:Ld,defaultWidth:"full"}),dateTime:hr({formats:zd,defaultWidth:"full"})},jd={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qd=(t,e,a,n)=>jd[t];function On(t){return(e,a)=>{const n=a!=null&&a.context?String(a.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,o=a!=null&&a.width?String(a.width):s;i=t.formattingValues[o]||t.formattingValues[s]}else{const s=t.defaultWidth,o=a!=null&&a.width?String(a.width):t.defaultWidth;i=t.values[o]||t.values[s]}const r=t.argumentCallback?t.argumentCallback(e):e;return i[r]}}const Yd={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vd={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gd={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qd=(t,e)=>{const a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Jd={ordinalNumber:Qd,era:On({values:Yd,defaultWidth:"wide"}),quarter:On({values:Vd,defaultWidth:"wide",argumentCallback:t=>t-1}),month:On({values:Wd,defaultWidth:"wide"}),day:On({values:Gd,defaultWidth:"wide"}),dayPeriod:On({values:Kd,defaultWidth:"wide",formattingValues:Xd,defaultFormattingWidth:"wide"})};function An(t){return(e,a={})=>{const n=a.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],r=e.match(i);if(!r)return null;const s=r[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?ec(o,d=>d.test(s)):Zd(o,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=a.valueCallback?a.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function Zd(t,e){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return a}function ec(t,e){for(let a=0;a<t.length;a++)if(e(t[a]))return a}function tc(t){return(e,a={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],r=e.match(t.parsePattern);if(!r)return null;let s=t.valueCallback?t.valueCallback(r[0]):r[0];s=a.valueCallback?a.valueCallback(s):s;const o=e.slice(i.length);return{value:s,rest:o}}}const ac=/^(\d+)(th|st|nd|rd)?/i,nc=/\d+/i,ic={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rc={any:[/^b/i,/^(a|c)/i]},sc={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oc={any:[/1/i,/2/i,/3/i,/4/i]},lc={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dc={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cc={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hc={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fc={ordinalNumber:tc({matchPattern:ac,parsePattern:nc,valueCallback:t=>parseInt(t,10)}),era:An({matchPatterns:ic,defaultMatchWidth:"wide",parsePatterns:rc,defaultParseWidth:"any"}),quarter:An({matchPatterns:sc,defaultMatchWidth:"wide",parsePatterns:oc,defaultParseWidth:"any",valueCallback:t=>t+1}),month:An({matchPatterns:lc,defaultMatchWidth:"wide",parsePatterns:uc,defaultParseWidth:"any"}),day:An({matchPatterns:dc,defaultMatchWidth:"wide",parsePatterns:cc,defaultParseWidth:"any"}),dayPeriod:An({matchPatterns:hc,defaultMatchWidth:"any",parsePatterns:pc,defaultParseWidth:"any"})},El={code:"en-US",formatDistance:Bd,formatLong:Hd,formatRelative:qd,localize:Jd,match:fc,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mc(t){const e=me(t);return Dl(e,si(e))+1}function Fs(t){const e=me(t),a=+mn(e)-+Cd(e);return Math.round(a/Sl)+1}function xs(t,e){var c,d,p,m;const a=me(t),n=a.getFullYear(),i=on(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=Ce(t,0);s.setFullYear(n+1,0,r),s.setHours(0,0,0,0);const o=Wt(s,e),l=Ce(t,0);l.setFullYear(n,0,r),l.setHours(0,0,0,0);const u=Wt(l,e);return a.getTime()>=o.getTime()?n+1:a.getTime()>=u.getTime()?n:n-1}function vc(t,e){var o,l,u,c;const a=on(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??a.firstWeekContainsDate??((c=(u=a.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=xs(t,e),r=Ce(t,0);return r.setFullYear(i,0,n),r.setHours(0,0,0,0),Wt(r,e)}function Ds(t,e){const a=me(t),n=+Wt(a,e)-+vc(a,e);return Math.round(n/Sl)+1}function $e(t,e){const a=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return a+n}const Ta={y(t,e){const a=t.getFullYear(),n=a>0?a:1-a;return $e(e==="yy"?n%100:n,e.length)},M(t,e){const a=t.getMonth();return e==="M"?String(a+1):$e(a+1,2)},d(t,e){return $e(t.getDate(),e.length)},a(t,e){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,e){return $e(t.getHours()%12||12,e.length)},H(t,e){return $e(t.getHours(),e.length)},m(t,e){return $e(t.getMinutes(),e.length)},s(t,e){return $e(t.getSeconds(),e.length)},S(t,e){const a=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,a-3));return $e(i,e.length)}},ln={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},co={G:function(t,e,a){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,e,a){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return Ta.y(t,e)},Y:function(t,e,a,n){const i=xs(t,n),r=i>0?i:1-i;if(e==="YY"){const s=r%100;return $e(s,2)}return e==="Yo"?a.ordinalNumber(r,{unit:"year"}):$e(r,e.length)},R:function(t,e){const a=xl(t);return $e(a,e.length)},u:function(t,e){const a=t.getFullYear();return $e(a,e.length)},Q:function(t,e,a){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return $e(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,a){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return $e(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,a){const n=t.getMonth();switch(e){case"M":case"MM":return Ta.M(t,e);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,a){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return $e(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,a,n){const i=Ds(t,n);return e==="wo"?a.ordinalNumber(i,{unit:"week"}):$e(i,e.length)},I:function(t,e,a){const n=Fs(t);return e==="Io"?a.ordinalNumber(n,{unit:"week"}):$e(n,e.length)},d:function(t,e,a){return e==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):Ta.d(t,e)},D:function(t,e,a){const n=mc(t);return e==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):$e(n,e.length)},E:function(t,e,a){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,a,n){const i=t.getDay(),r=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return $e(r,2);case"eo":return a.ordinalNumber(r,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,a,n){const i=t.getDay(),r=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return $e(r,e.length);case"co":return a.ordinalNumber(r,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,a){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return $e(i,e.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,a){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,a){const n=t.getHours();let i;switch(n===12?i=ln.noon:n===0?i=ln.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,a){const n=t.getHours();let i;switch(n>=17?i=ln.evening:n>=12?i=ln.afternoon:n>=4?i=ln.morning:i=ln.night,e){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,a){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return Ta.h(t,e)},H:function(t,e,a){return e==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):Ta.H(t,e)},K:function(t,e,a){const n=t.getHours()%12;return e==="Ko"?a.ordinalNumber(n,{unit:"hour"}):$e(n,e.length)},k:function(t,e,a){let n=t.getHours();return n===0&&(n=24),e==="ko"?a.ordinalNumber(n,{unit:"hour"}):$e(n,e.length)},m:function(t,e,a){return e==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ta.m(t,e)},s:function(t,e,a){return e==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):Ta.s(t,e)},S:function(t,e){return Ta.S(t,e)},X:function(t,e,a){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return po(n);case"XXXX":case"XX":return ja(n);case"XXXXX":case"XXX":default:return ja(n,":")}},x:function(t,e,a){const n=t.getTimezoneOffset();switch(e){case"x":return po(n);case"xxxx":case"xx":return ja(n);case"xxxxx":case"xxx":default:return ja(n,":")}},O:function(t,e,a){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ho(n,":");case"OOOO":default:return"GMT"+ja(n,":")}},z:function(t,e,a){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ho(n,":");case"zzzz":default:return"GMT"+ja(n,":")}},t:function(t,e,a){const n=Math.trunc(t.getTime()/1e3);return $e(n,e.length)},T:function(t,e,a){const n=t.getTime();return $e(n,e.length)}};function ho(t,e=""){const a=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),r=n%60;return r===0?a+String(i):a+String(i)+e+$e(r,2)}function po(t,e){return t%60===0?(t>0?"-":"+")+$e(Math.abs(t)/60,2):ja(t,e)}function ja(t,e=""){const a=t>0?"-":"+",n=Math.abs(t),i=$e(Math.trunc(n/60),2),r=$e(n%60,2);return a+i+e+r}const fo=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$l=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gc=(t,e)=>{const a=t.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return fo(t,e);let r;switch(n){case"P":r=e.dateTime({width:"short"});break;case"PP":r=e.dateTime({width:"medium"});break;case"PPP":r=e.dateTime({width:"long"});break;case"PPPP":default:r=e.dateTime({width:"full"});break}return r.replace("{{date}}",fo(n,e)).replace("{{time}}",$l(i,e))},as={p:$l,P:gc},yc=/^D+$/,bc=/^Y+$/,wc=["D","DD","YY","YYYY"];function Rl(t){return yc.test(t)}function Il(t){return bc.test(t)}function ns(t,e,a){const n=_c(t,e,a);if(console.warn(n),wc.includes(t))throw new RangeError(n)}function _c(t,e,a){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tc=/^'([^]*?)'?$/,Sc=/''/g,Fc=/[a-zA-Z]/;function aa(t,e,a){var c,d,p,m,b,w,M,x;const n=on(),i=(a==null?void 0:a.locale)??n.locale??El,r=(a==null?void 0:a.firstWeekContainsDate)??((d=(c=a==null?void 0:a.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,s=(a==null?void 0:a.weekStartsOn)??((w=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((x=(M=n.locale)==null?void 0:M.options)==null?void 0:x.weekStartsOn)??0,o=me(t);if(!ei(o))throw new RangeError("Invalid time value");let l=e.match(Pc).map(S=>{const P=S[0];if(P==="p"||P==="P"){const E=as[P];return E(S,i.formatLong)}return S}).join("").match(kc).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const P=S[0];if(P==="'")return{isToken:!1,value:xc(S)};if(co[P])return{isToken:!0,value:S};if(P.match(Fc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:S}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:r,weekStartsOn:s,locale:i};return l.map(S=>{if(!S.isToken)return S.value;const P=S.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&Il(P)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&Rl(P))&&ns(P,e,String(t));const E=co[P[0]];return E(o,P,i.localize,u)}).join("")}function xc(t){const e=t.match(Tc);return e?e[1].replace(Sc,"'"):t}function Dc(t){return me(t).getDay()}function Oc(t){const e=me(t),a=e.getFullYear(),n=e.getMonth(),i=Ce(t,0);return i.setFullYear(a,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Ac(){return Object.assign({},on())}function _a(t){return me(t).getHours()}function Cc(t){let a=me(t).getDay();return a===0&&(a=7),a}function Ca(t){return me(t).getMinutes()}function xe(t){return me(t).getMonth()}function vn(t){return me(t).getSeconds()}function we(t){return me(t).getFullYear()}function gn(t,e){const a=me(t),n=me(e);return a.getTime()>n.getTime()}function oi(t,e){const a=me(t),n=me(e);return+a<+n}function pn(t,e){const a=me(t),n=me(e);return+a==+n}function Mc(t,e){const a=e instanceof Date?Ce(e,0):new e(0);return a.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),a.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),a}const Ec=10;class Nl{constructor(){ce(this,"subPriority",0)}validate(e,a){return!0}}class $c extends Nl{constructor(e,a,n,i,r){super(),this.value=e,this.validateValue=a,this.setValue=n,this.priority=i,r&&(this.subPriority=r)}validate(e,a){return this.validateValue(e,this.value,a)}set(e,a,n){return this.setValue(e,a,this.value,n)}}class Rc extends Nl{constructor(){super(...arguments);ce(this,"priority",Ec);ce(this,"subPriority",-1)}set(a,n){return n.timestampIsSet?a:Ce(a,Mc(a,Date))}}class Me{run(e,a,n,i){const r=this.parse(e,a,n,i);return r?{setter:new $c(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}validate(e,a,n){return!0}}class Ic extends Me{constructor(){super(...arguments);ce(this,"priority",140);ce(this,"incompatibleTokens",["R","u","t","T"])}parse(a,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"});case"GGGGG":return i.era(a,{width:"narrow"});case"GGGG":default:return i.era(a,{width:"wide"})||i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"})}}set(a,n,i){return n.era=i,a.setFullYear(i,0,1),a.setHours(0,0,0,0),a}}const Ge={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Zt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ke(t,e){return t&&{value:e(t.value),rest:t.rest}}function ze(t,e){const a=e.match(t);return a?{value:parseInt(a[0],10),rest:e.slice(a[0].length)}:null}function ea(t,e){const a=e.match(t);if(!a)return null;if(a[0]==="Z")return{value:0,rest:e.slice(1)};const n=a[1]==="+"?1:-1,i=a[2]?parseInt(a[2],10):0,r=a[3]?parseInt(a[3],10):0,s=a[5]?parseInt(a[5],10):0;return{value:n*(i*Fl+r*xd+s*Dd),rest:e.slice(a[0].length)}}function Bl(t){return ze(Ge.anyDigitsSigned,t)}function qe(t,e){switch(t){case 1:return ze(Ge.singleDigit,e);case 2:return ze(Ge.twoDigits,e);case 3:return ze(Ge.threeDigits,e);case 4:return ze(Ge.fourDigits,e);default:return ze(new RegExp("^\\d{1,"+t+"}"),e)}}function ji(t,e){switch(t){case 1:return ze(Ge.singleDigitSigned,e);case 2:return ze(Ge.twoDigitsSigned,e);case 3:return ze(Ge.threeDigitsSigned,e);case 4:return ze(Ge.fourDigitsSigned,e);default:return ze(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Os(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ul(t,e){const a=e>0,n=a?e:1-e;let i;if(n<=50)i=t||100;else{const r=n+50,s=Math.trunc(r/100)*100,o=t>=r%100;i=t+s-(o?100:0)}return a?i:1-i}function Ll(t){return t%400===0||t%4===0&&t%100!==0}class Nc extends Me{constructor(){super(...arguments);ce(this,"priority",130);ce(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(a,n,i){const r=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ke(qe(4,a),r);case"yo":return Ke(i.ordinalNumber(a,{unit:"year"}),r);default:return Ke(qe(n.length,a),r)}}validate(a,n){return n.isTwoDigitYear||n.year>0}set(a,n,i){const r=a.getFullYear();if(i.isTwoDigitYear){const o=Ul(i.year,r);return a.setFullYear(o,0,1),a.setHours(0,0,0,0),a}const s=!("era"in n)||n.era===1?i.year:1-i.year;return a.setFullYear(s,0,1),a.setHours(0,0,0,0),a}}class Bc extends Me{constructor(){super(...arguments);ce(this,"priority",130);ce(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(a,n,i){const r=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ke(qe(4,a),r);case"Yo":return Ke(i.ordinalNumber(a,{unit:"year"}),r);default:return Ke(qe(n.length,a),r)}}validate(a,n){return n.isTwoDigitYear||n.year>0}set(a,n,i,r){const s=xs(a,r);if(i.isTwoDigitYear){const l=Ul(i.year,s);return a.setFullYear(l,0,r.firstWeekContainsDate),a.setHours(0,0,0,0),Wt(a,r)}const o=!("era"in n)||n.era===1?i.year:1-i.year;return a.setFullYear(o,0,r.firstWeekContainsDate),a.setHours(0,0,0,0),Wt(a,r)}}class Uc extends Me{constructor(){super(...arguments);ce(this,"priority",130);ce(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(a,n){return ji(n==="R"?4:n.length,a)}set(a,n,i){const r=Ce(a,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),mn(r)}}class Lc extends Me{constructor(){super(...arguments);ce(this,"priority",130);ce(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(a,n){return ji(n==="u"?4:n.length,a)}set(a,n,i){return a.setFullYear(i,0,1),a.setHours(0,0,0,0),a}}class zc extends Me{constructor(){super(...arguments);ce(this,"priority",120);ce(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(a,n,i){switch(n){case"Q":case"QQ":return qe(n.length,a);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(a,{width:"wide",context:"formatting"})||i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"})}}validate(a,n){return n>=1&&n<=4}set(a,n,i){return a.setMonth((i-1)*3,1),a.setHours(0,0,0,0),a}}class Hc extends Me{constructor(){super(...arguments);ce(this,"priority",120);ce(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(a,n,i){switch(n){case"q":case"qq":return qe(n.length,a);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(a,{width:"wide",context:"standalone"})||i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"})}}validate(a,n){return n>=1&&n<=4}set(a,n,i){return a.setMonth((i-1)*3,1),a.setHours(0,0,0,0),a}}class jc extends Me{constructor(){super(...arguments);ce(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ce(this,"priority",110)}parse(a,n,i){const r=s=>s-1;switch(n){case"M":return Ke(ze(Ge.month,a),r);case"MM":return Ke(qe(2,a),r);case"Mo":return Ke(i.ordinalNumber(a,{unit:"month"}),r);case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(a,{width:"wide",context:"formatting"})||i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"})}}validate(a,n){return n>=0&&n<=11}set(a,n,i){return a.setMonth(i,1),a.setHours(0,0,0,0),a}}class qc extends Me{constructor(){super(...arguments);ce(this,"priority",110);ce(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(a,n,i){const r=s=>s-1;switch(n){case"L":return Ke(ze(Ge.month,a),r);case"LL":return Ke(qe(2,a),r);case"Lo":return Ke(i.ordinalNumber(a,{unit:"month"}),r);case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(a,{width:"wide",context:"standalone"})||i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"})}}validate(a,n){return n>=0&&n<=11}set(a,n,i){return a.setMonth(i,1),a.setHours(0,0,0,0),a}}function Yc(t,e,a){const n=me(t),i=Ds(n,a)-e;return n.setDate(n.getDate()-i*7),n}class Vc extends Me{constructor(){super(...arguments);ce(this,"priority",100);ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(a,n,i){switch(n){case"w":return ze(Ge.week,a);case"wo":return i.ordinalNumber(a,{unit:"week"});default:return qe(n.length,a)}}validate(a,n){return n>=1&&n<=53}set(a,n,i,r){return Wt(Yc(a,i,r),r)}}function Wc(t,e){const a=me(t),n=Fs(a)-e;return a.setDate(a.getDate()-n*7),a}class Gc extends Me{constructor(){super(...arguments);ce(this,"priority",100);ce(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(a,n,i){switch(n){case"I":return ze(Ge.week,a);case"Io":return i.ordinalNumber(a,{unit:"week"});default:return qe(n.length,a)}}validate(a,n){return n>=1&&n<=53}set(a,n,i){return mn(Wc(a,i))}}const Kc=[31,28,31,30,31,30,31,31,30,31,30,31],Xc=[31,29,31,30,31,30,31,31,30,31,30,31];class Qc extends Me{constructor(){super(...arguments);ce(this,"priority",90);ce(this,"subPriority",1);ce(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(a,n,i){switch(n){case"d":return ze(Ge.date,a);case"do":return i.ordinalNumber(a,{unit:"date"});default:return qe(n.length,a)}}validate(a,n){const i=a.getFullYear(),r=Ll(i),s=a.getMonth();return r?n>=1&&n<=Xc[s]:n>=1&&n<=Kc[s]}set(a,n,i){return a.setDate(i),a.setHours(0,0,0,0),a}}class Jc extends Me{constructor(){super(...arguments);ce(this,"priority",90);ce(this,"subpriority",1);ce(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(a,n,i){switch(n){case"D":case"DD":return ze(Ge.dayOfYear,a);case"Do":return i.ordinalNumber(a,{unit:"date"});default:return qe(n.length,a)}}validate(a,n){const i=a.getFullYear();return Ll(i)?n>=1&&n<=366:n>=1&&n<=365}set(a,n,i){return a.setMonth(0,i),a.setHours(0,0,0,0),a}}function As(t,e,a){var d,p,m,b;const n=on(),i=(a==null?void 0:a.weekStartsOn)??((p=(d=a==null?void 0:a.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(m=n.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??0,r=me(t),s=r.getDay(),l=(e%7+7)%7,u=7-i,c=e<0||e>6?e-(s+u)%7:(l+u)%7-(s+u)%7;return qt(r,c)}class Zc extends Me{constructor(){super(...arguments);ce(this,"priority",90);ce(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(a,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}validate(a,n){return n>=0&&n<=6}set(a,n,i,r){return a=As(a,i,r),a.setHours(0,0,0,0),a}}class eh extends Me{constructor(){super(...arguments);ce(this,"priority",90);ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(a,n,i,r){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+r.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Ke(qe(n.length,a),s);case"eo":return Ke(i.ordinalNumber(a,{unit:"day"}),s);case"eee":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeeee":return i.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}validate(a,n){return n>=0&&n<=6}set(a,n,i,r){return a=As(a,i,r),a.setHours(0,0,0,0),a}}class th extends Me{constructor(){super(...arguments);ce(this,"priority",90);ce(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(a,n,i,r){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+r.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Ke(qe(n.length,a),s);case"co":return Ke(i.ordinalNumber(a,{unit:"day"}),s);case"ccc":return i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"ccccc":return i.day(a,{width:"narrow",context:"standalone"});case"cccccc":return i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(a,{width:"wide",context:"standalone"})||i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"})}}validate(a,n){return n>=0&&n<=6}set(a,n,i,r){return a=As(a,i,r),a.setHours(0,0,0,0),a}}function ah(t,e){const a=me(t),n=Cc(a),i=e-n;return qt(a,i)}class nh extends Me{constructor(){super(...arguments);ce(this,"priority",90);ce(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(a,n,i){const r=s=>s===0?7:s;switch(n){case"i":case"ii":return qe(n.length,a);case"io":return i.ordinalNumber(a,{unit:"day"});case"iii":return Ke(i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),r);case"iiiii":return Ke(i.day(a,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Ke(i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),r);case"iiii":default:return Ke(i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),r)}}validate(a,n){return n>=1&&n<=7}set(a,n,i){return a=ah(a,i),a.setHours(0,0,0,0),a}}class ih extends Me{constructor(){super(...arguments);ce(this,"priority",80);ce(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(a,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,n,i){return a.setHours(Os(i),0,0,0),a}}class rh extends Me{constructor(){super(...arguments);ce(this,"priority",80);ce(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(a,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,n,i){return a.setHours(Os(i),0,0,0),a}}class sh extends Me{constructor(){super(...arguments);ce(this,"priority",80);ce(this,"incompatibleTokens",["a","b","t","T"])}parse(a,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}set(a,n,i){return a.setHours(Os(i),0,0,0),a}}class oh extends Me{constructor(){super(...arguments);ce(this,"priority",70);ce(this,"incompatibleTokens",["H","K","k","t","T"])}parse(a,n,i){switch(n){case"h":return ze(Ge.hour12h,a);case"ho":return i.ordinalNumber(a,{unit:"hour"});default:return qe(n.length,a)}}validate(a,n){return n>=1&&n<=12}set(a,n,i){const r=a.getHours()>=12;return r&&i<12?a.setHours(i+12,0,0,0):!r&&i===12?a.setHours(0,0,0,0):a.setHours(i,0,0,0),a}}class lh extends Me{constructor(){super(...arguments);ce(this,"priority",70);ce(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(a,n,i){switch(n){case"H":return ze(Ge.hour23h,a);case"Ho":return i.ordinalNumber(a,{unit:"hour"});default:return qe(n.length,a)}}validate(a,n){return n>=0&&n<=23}set(a,n,i){return a.setHours(i,0,0,0),a}}class uh extends Me{constructor(){super(...arguments);ce(this,"priority",70);ce(this,"incompatibleTokens",["h","H","k","t","T"])}parse(a,n,i){switch(n){case"K":return ze(Ge.hour11h,a);case"Ko":return i.ordinalNumber(a,{unit:"hour"});default:return qe(n.length,a)}}validate(a,n){return n>=0&&n<=11}set(a,n,i){return a.getHours()>=12&&i<12?a.setHours(i+12,0,0,0):a.setHours(i,0,0,0),a}}class dh extends Me{constructor(){super(...arguments);ce(this,"priority",70);ce(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(a,n,i){switch(n){case"k":return ze(Ge.hour24h,a);case"ko":return i.ordinalNumber(a,{unit:"hour"});default:return qe(n.length,a)}}validate(a,n){return n>=1&&n<=24}set(a,n,i){const r=i<=24?i%24:i;return a.setHours(r,0,0,0),a}}class ch extends Me{constructor(){super(...arguments);ce(this,"priority",60);ce(this,"incompatibleTokens",["t","T"])}parse(a,n,i){switch(n){case"m":return ze(Ge.minute,a);case"mo":return i.ordinalNumber(a,{unit:"minute"});default:return qe(n.length,a)}}validate(a,n){return n>=0&&n<=59}set(a,n,i){return a.setMinutes(i,0,0),a}}class hh extends Me{constructor(){super(...arguments);ce(this,"priority",50);ce(this,"incompatibleTokens",["t","T"])}parse(a,n,i){switch(n){case"s":return ze(Ge.second,a);case"so":return i.ordinalNumber(a,{unit:"second"});default:return qe(n.length,a)}}validate(a,n){return n>=0&&n<=59}set(a,n,i){return a.setSeconds(i,0),a}}class ph extends Me{constructor(){super(...arguments);ce(this,"priority",30);ce(this,"incompatibleTokens",["t","T"])}parse(a,n){const i=r=>Math.trunc(r*Math.pow(10,-n.length+3));return Ke(qe(n.length,a),i)}set(a,n,i){return a.setMilliseconds(i),a}}class fh extends Me{constructor(){super(...arguments);ce(this,"priority",10);ce(this,"incompatibleTokens",["t","T","x"])}parse(a,n){switch(n){case"X":return ea(Zt.basicOptionalMinutes,a);case"XX":return ea(Zt.basic,a);case"XXXX":return ea(Zt.basicOptionalSeconds,a);case"XXXXX":return ea(Zt.extendedOptionalSeconds,a);case"XXX":default:return ea(Zt.extended,a)}}set(a,n,i){return n.timestampIsSet?a:Ce(a,a.getTime()-Hi(a)-i)}}class mh extends Me{constructor(){super(...arguments);ce(this,"priority",10);ce(this,"incompatibleTokens",["t","T","X"])}parse(a,n){switch(n){case"x":return ea(Zt.basicOptionalMinutes,a);case"xx":return ea(Zt.basic,a);case"xxxx":return ea(Zt.basicOptionalSeconds,a);case"xxxxx":return ea(Zt.extendedOptionalSeconds,a);case"xxx":default:return ea(Zt.extended,a)}}set(a,n,i){return n.timestampIsSet?a:Ce(a,a.getTime()-Hi(a)-i)}}class vh extends Me{constructor(){super(...arguments);ce(this,"priority",40);ce(this,"incompatibleTokens","*")}parse(a){return Bl(a)}set(a,n,i){return[Ce(a,i*1e3),{timestampIsSet:!0}]}}class gh extends Me{constructor(){super(...arguments);ce(this,"priority",20);ce(this,"incompatibleTokens","*")}parse(a){return Bl(a)}set(a,n,i){return[Ce(a,i),{timestampIsSet:!0}]}}const yh={G:new Ic,y:new Nc,Y:new Bc,R:new Uc,u:new Lc,Q:new zc,q:new Hc,M:new jc,L:new qc,w:new Vc,I:new Gc,d:new Qc,D:new Jc,E:new Zc,e:new eh,c:new th,i:new nh,a:new ih,b:new rh,B:new sh,h:new oh,H:new lh,K:new uh,k:new dh,m:new ch,s:new hh,S:new ph,X:new fh,x:new mh,t:new vh,T:new gh},bh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_h=/^'([^]*?)'?$/,kh=/''/g,Ph=/\S/,Th=/[a-zA-Z]/;function is(t,e,a,n){var w,M,x,S,P,E,q,D;const i=Ac(),r=(n==null?void 0:n.locale)??i.locale??El,s=(n==null?void 0:n.firstWeekContainsDate)??((M=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:M.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(x=i.locale)==null?void 0:x.options)==null?void 0:S.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((E=(P=n==null?void 0:n.locale)==null?void 0:P.options)==null?void 0:E.weekStartsOn)??i.weekStartsOn??((D=(q=i.locale)==null?void 0:q.options)==null?void 0:D.weekStartsOn)??0;if(e==="")return t===""?me(a):Ce(a,NaN);const l={firstWeekContainsDate:s,weekStartsOn:o,locale:r},u=[new Rc],c=e.match(wh).map(_=>{const L=_[0];if(L in as){const U=as[L];return U(_,r.formatLong)}return _}).join("").match(bh),d=[];for(let _ of c){!(n!=null&&n.useAdditionalWeekYearTokens)&&Il(_)&&ns(_,e,t),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Rl(_)&&ns(_,e,t);const L=_[0],U=yh[L];if(U){const{incompatibleTokens:R}=U;if(Array.isArray(R)){const ue=d.find(fe=>R.includes(fe.token)||fe.token===L);if(ue)throw new RangeError(`The format string mustn't contain \`${ue.fullToken}\` and \`${_}\` at the same time`)}else if(U.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);d.push({token:L,fullToken:_});const te=U.run(t,_,r.match,l);if(!te)return Ce(a,NaN);u.push(te.setter),t=te.rest}else{if(L.match(Th))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(_==="''"?_="'":L==="'"&&(_=Sh(_)),t.indexOf(_)===0)t=t.slice(_.length);else return Ce(a,NaN)}}if(t.length>0&&Ph.test(t))return Ce(a,NaN);const p=u.map(_=>_.priority).sort((_,L)=>L-_).filter((_,L,U)=>U.indexOf(_)===L).map(_=>u.filter(L=>L.priority===_).sort((L,U)=>U.subPriority-L.subPriority)).map(_=>_[0]);let m=me(a);if(isNaN(m.getTime()))return Ce(a,NaN);const b={};for(const _ of p){if(!_.validate(m,l))return Ce(a,NaN);const L=_.set(m,b,l);Array.isArray(L)?(m=L[0],Object.assign(b,L[1])):m=L}return Ce(a,m)}function Sh(t){return t.match(_h)[1].replace(kh,"'")}function mo(t,e){const a=Xa(t),n=Xa(e);return+a==+n}function Fh(t,e){return qt(t,-e)}function zl(t,e){const a=me(t),n=a.getFullYear(),i=a.getDate(),r=Ce(t,0);r.setFullYear(n,e,15),r.setHours(0,0,0,0);const s=Oc(r);return a.setMonth(e,Math.min(i,s)),a}function Re(t,e){let a=me(t);return isNaN(+a)?Ce(t,NaN):(e.year!=null&&a.setFullYear(e.year),e.month!=null&&(a=zl(a,e.month)),e.date!=null&&a.setDate(e.date),e.hours!=null&&a.setHours(e.hours),e.minutes!=null&&a.setMinutes(e.minutes),e.seconds!=null&&a.setSeconds(e.seconds),e.milliseconds!=null&&a.setMilliseconds(e.milliseconds),a)}function xh(t,e){const a=me(t);return a.setHours(e),a}function Hl(t,e){const a=me(t);return a.setMilliseconds(e),a}function Dh(t,e){const a=me(t);return a.setMinutes(e),a}function jl(t,e){const a=me(t);return a.setSeconds(e),a}function ta(t,e){const a=me(t);return isNaN(+a)?Ce(t,NaN):(a.setFullYear(e),a)}function yn(t,e){return Vt(t,-e)}function Oh(t,e){const{years:a=0,months:n=0,weeks:i=0,days:r=0,hours:s=0,minutes:o=0,seconds:l=0}=e,u=yn(t,n+a*12),c=Fh(u,r+i*7),d=o+s*60,m=(l+d*60)*1e3;return Ce(t,c.getTime()-m)}function ql(t,e){return Ss(t,-e)}function Pn(){const t=bd();return I(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...t},[_e("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),_e("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),_e("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),_e("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Pn.compatConfig={MODE:3};function Yl(){return I(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_e("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),_e("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Yl.compatConfig={MODE:3};function Cs(){return I(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_e("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Cs.compatConfig={MODE:3};function Ms(){return I(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_e("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Ms.compatConfig={MODE:3};function Es(){return I(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_e("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),_e("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Es.compatConfig={MODE:3};function $s(){return I(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_e("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}$s.compatConfig={MODE:3};function Rs(){return I(),G("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[_e("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Rs.compatConfig={MODE:3};const Pt=(t,e)=>e?new Date(t.toLocaleString("en-US",{timeZone:e})):new Date(t),Is=(t,e,a)=>rs(t,e,a)||K(),Ah=(t,e,a)=>{const n=e.dateInTz?Pt(new Date(t),e.dateInTz):K(t);return a?_t(n,!0):n},rs=(t,e,a)=>{if(!t)return null;const n=a?_t(K(t),!0):K(t);return e?e.exactMatch?Ah(t,e,a):Pt(n,e.timezone):n},Ch=t=>{if(!t)return 0;const e=new Date,a=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),n=new Date(e.toLocaleString("en-US",{timeZone:t})),i=n.getTimezoneOffset()/60;return(+a-+n)/(1e3*60*60)-i};var Ut=(t=>(t.month="month",t.year="year",t))(Ut||{}),qa=(t=>(t.top="top",t.bottom="bottom",t))(qa||{}),Za=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Za||{}),dt=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(dt||{});const Mh=["timestamp","date","iso"];var vt=(t=>(t.up="up",t.down="down",t.left="left",t.right="right",t))(vt||{}),Ne=(t=>(t.arrowUp="ArrowUp",t.arrowDown="ArrowDown",t.arrowLeft="ArrowLeft",t.arrowRight="ArrowRight",t.enter="Enter",t.space=" ",t.esc="Escape",t.tab="Tab",t.home="Home",t.end="End",t.pageUp="PageUp",t.pageDown="PageDown",t))(Ne||{});function vo(t){return e=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${e}T00:00:00+00:00`)).slice(0,2)}function Eh(t){return e=>aa(Pt(new Date(`2017-01-0${e}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:t})}const $h=(t,e,a)=>{const n=[1,2,3,4,5,6,7];let i;if(t!==null)try{i=n.map(Eh(t))}catch{i=n.map(vo(e))}else i=n.map(vo(e));const r=i.slice(0,a),s=i.slice(a+1,i.length);return[i[a]].concat(...s).concat(...r)},Ns=(t,e,a)=>{const n=[];for(let i=+t[0];i<=+t[1];i++)n.push({value:+i,text:Kl(i,e)});return a?n.reverse():n},Vl=(t,e,a)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(r=>{const s=r<10?`0${r}`:r;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(t!==null)try{const r=a==="long"?"LLLL":"LLL";return n.map((s,o)=>{const l=aa(Pt(s,"UTC"),r,{locale:t});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:o}})}catch{}const i=new Intl.DateTimeFormat(e,{month:a,timeZone:"UTC"});return n.map((r,s)=>{const o=i.format(r);return{text:o.charAt(0).toUpperCase()+o.substring(1),value:s}})},Rh=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],Ze=t=>{const e=y(t);return e!=null&&e.$el?e==null?void 0:e.$el:e},Ih=t=>({type:"dot",...t??{}}),Wl=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Bs={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},tt=t=>t,go=t=>t===0?t:!t||isNaN(+t)?null:+t,yo=t=>t===null,Gl=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Nh=t=>{const e=[],a=n=>n.filter(i=>i);for(let n=0;n<t.length;n+=3){const i=[t[n],t[n+1],t[n+2]];e.push(a(i))}return e},li=(t,e,a)=>{const n=a!=null,i=e!=null;if(!n&&!i)return!1;const r=+a,s=+e;return n&&i?+t>r||+t<s:n?+t>r:i?+t<s:!1},bn=(t,e)=>Nh(t).map(a=>a.map(n=>{const{active:i,disabled:r,isBetween:s,highlighted:o}=e(n);return{...n,active:i,disabled:r,className:{dp__overlay_cell_active:i,dp__overlay_cell:!i,dp__overlay_cell_disabled:r,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:r&&i,dp__cell_in_between:s,"dp--highlighted":o}}})),Oa=(t,e,a=!1)=>{t&&e.allowStopPropagation&&(a&&t.stopImmediatePropagation(),t.stopPropagation())},Bh=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function Uh(t,e){let a=[...document.querySelectorAll(Bh())];a=a.filter(i=>!t.contains(i)||i.hasAttribute("data-datepicker-instance"));const n=a.indexOf(t);if(n>=0&&(e?n-1>=0:n+1<=a.length))return a[n+(e?-1:1)]}const ss=(t,e)=>t==null?void 0:t.querySelector(`[data-dp-element="${e}"]`),Kl=(t,e)=>new Intl.NumberFormat(e,{useGrouping:!1,style:"decimal"}).format(t),Us=t=>aa(t,"dd-MM-yyyy"),pr=t=>Array.isArray(t),qi=(t,e)=>e.get(Us(t)),Lh=(t,e)=>t?e?e instanceof Map?!!qi(t,e):e(K(t)):!1:!0,wt=(t,e,a=!1,n)=>{if(t.key===Ne.enter||t.key===Ne.space)return a&&t.preventDefault(),e();if(n)return n(t)},zh=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].some(t=>navigator.userAgent.includes(t))||navigator.userAgent.includes("Mac")&&"ontouchend"in document,bo=(t,e,a,n,i,r)=>{const s=is(t,e.slice(0,t.length),new Date,{locale:r});return ei(s)&&Ol(s)?n||i?s:Re(s,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},Hh=(t,e,a,n,i,r)=>{const s=Array.isArray(a)?a[0]:a;if(typeof e=="string")return bo(t,e,s,n,i,r);if(Array.isArray(e)){let o=null;for(const l of e)if(o=bo(t,l,s,n,i,r),o)break;return o}return typeof e=="function"?e(t):null},K=t=>t?new Date(t):new Date,jh=(t,e,a)=>{if(e){const i=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0"),s=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),l=a?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${i}-${r}T${s}:${o}:${l}.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},_t=(t,e)=>{const a=K(JSON.parse(JSON.stringify(t))),n=Re(a,{hours:0,minutes:0,seconds:0,milliseconds:0});return e?Id(n):n},Aa=(t,e,a,n)=>{let i=t?K(t):K();return(e||e===0)&&(i=xh(i,+e)),(a||a===0)&&(i=Dh(i,+a)),(n||n===0)&&(i=jl(i,+n)),Hl(i,0)},je=(t,e)=>!t||!e?!1:oi(_t(t),_t(e)),De=(t,e)=>!t||!e?!1:pn(_t(t),_t(e)),Ve=(t,e)=>!t||!e?!1:gn(_t(t),_t(e)),Qi=(t,e,a)=>t!=null&&t[0]&&t!=null&&t[1]?Ve(a,t[0])&&je(a,t[1]):t!=null&&t[0]&&e?Ve(a,t[0])&&je(a,e)||je(a,t[0])&&Ve(a,e):!1,Yt=t=>{const e=Re(new Date(t),{date:1});return _t(e)},fr=(t,e,a)=>e&&(a||a===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===e?[n,a]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},en=t=>({hours:_a(t),minutes:Ca(t),seconds:vn(t)}),Xl=(t,e)=>{if(e){const a=we(K(e));if(a>t)return 12;if(a===t)return xe(K(e))}},Ql=(t,e)=>{if(e){const a=we(K(e));return a<t?-1:a===t?xe(K(e)):void 0}},wn=t=>{if(t)return we(K(t))},Jl=(t,e)=>{const a=Ve(t,e)?e:t,n=Ve(e,t)?e:t;return Al({start:a,end:n})},qh=t=>{const e=Vt(t,1);return{month:xe(e),year:we(e)}},ha=(t,e)=>{const a=Wt(t,{weekStartsOn:+e}),n=Ml(t,{weekStartsOn:+e});return[a,n]},Zl=(t,e)=>{const a={hours:_a(K()),minutes:Ca(K()),seconds:e?vn(K()):0};return Object.assign(a,t)},xa=(t,e,a)=>[Re(K(t),{date:1}),Re(K(),{month:e,year:a,date:1})],ga=(t,e,a)=>{let n=t?K(t):K();return(e||e===0)&&(n=zl(n,e)),a&&(n=ta(n,a)),n},eu=(t,e,a,n,i)=>{if(!n||i&&!e||!i&&!a)return!1;const r=i?Vt(t,1):yn(t,1),s=[xe(r),we(r)];return i?!Vh(...s,e):!Yh(...s,a)},Yh=(t,e,a)=>je(...xa(a,t,e))||De(...xa(a,t,e)),Vh=(t,e,a)=>Ve(...xa(a,t,e))||De(...xa(a,t,e)),tu=(t,e,a,n,i,r,s)=>{if(typeof e=="function"&&!s)return e(t);const o=a?{locale:a}:void 0;return Array.isArray(t)?`${aa(t[0],r,o)}${i&&!t[1]?"":n}${t[1]?aa(t[1],r,o):""}`:aa(t,r,o)},un=t=>{if(t)return null;throw new Error(Bs.prop("partial-range"))},Pi=(t,e)=>{if(e)return t();throw new Error(Bs.prop("range"))},os=t=>Array.isArray(t)?ei(t[0])&&(t[1]?ei(t[1]):!0):t?ei(t):!1,Wh=(t,e)=>Re(e??K(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),mr=(t,e,a,n)=>{if(!t)return!0;if(n){const i=a==="max"?oi(t,e):gn(t,e),r={seconds:0,milliseconds:0};return i||pn(Re(t,r),Re(e,r))}return a==="max"?t.getTime()<=e.getTime():t.getTime()>=e.getTime()},vr=(t,e,a)=>t?Wh(t,e):K(a??e),wo=(t,e,a,n,i)=>{if(Array.isArray(n)){const s=vr(t,n[0],e),o=vr(t,n[1],e);return mr(n[0],s,a,!!e)&&mr(n[1],o,a,!!e)&&i}const r=vr(t,n,e);return mr(n,r,a,!!e)&&i},gr=t=>Re(K(),en(t)),Gh=(t,e)=>t instanceof Map?Array.from(t.values()).filter(a=>we(K(a))===e).map(a=>xe(a)):[],au=(t,e,a)=>typeof t=="function"?t({month:e,year:a}):!!t.months.find(n=>n.month===e&&n.year===a),Ls=(t,e)=>typeof t=="function"?t(e):t.years.includes(e),nu=t=>aa(t,"yyyy-MM-dd"),Cn=mi({menuFocused:!1,shiftKeyInMenu:!1}),iu=()=>{const t=a=>{Cn.menuFocused=a},e=a=>{Cn.shiftKeyInMenu!==a&&(Cn.shiftKeyInMenu=a)};return{control:X(()=>({shiftKeyInMenu:Cn.shiftKeyInMenu,menuFocused:Cn.menuFocused})),setMenuFocused:t,setShiftKey:e}},Ie=mi({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),yr=Z(null),Ti=Z(!1),br=Z(!1),wr=Z(!1),_r=Z(!1),ut=Z(0),Ye=Z(0),Ma=()=>{const t=X(()=>Ti.value?[...Ie.selectionGrid,Ie.actionRow].filter(d=>d.length):br.value?[...Ie.timePicker[0],...Ie.timePicker[1],_r.value?[]:[yr.value],Ie.actionRow].filter(d=>d.length):wr.value?[...Ie.monthPicker,Ie.actionRow]:[Ie.monthYear,...Ie.calendar,Ie.time,Ie.actionRow].filter(d=>d.length)),e=d=>{ut.value=d?ut.value+1:ut.value-1;let p=null;t.value[Ye.value]&&(p=t.value[Ye.value][ut.value]),!p&&t.value[Ye.value+(d?1:-1)]?(Ye.value=Ye.value+(d?1:-1),ut.value=d?0:t.value[Ye.value].length-1):p||(ut.value=d?ut.value-1:ut.value+1)},a=d=>{Ye.value===0&&!d||Ye.value===t.value.length&&d||(Ye.value=d?Ye.value+1:Ye.value-1,t.value[Ye.value]?t.value[Ye.value]&&!t.value[Ye.value][ut.value]&&ut.value!==0&&(ut.value=t.value[Ye.value].length-1):Ye.value=d?Ye.value-1:Ye.value+1)},n=d=>{let p=null;t.value[Ye.value]&&(p=t.value[Ye.value][ut.value]),p?p.focus({preventScroll:!Ti.value}):ut.value=d?ut.value-1:ut.value+1},i=()=>{e(!0),n(!0)},r=()=>{e(!1),n(!1)},s=()=>{a(!1),n(!0)},o=()=>{a(!0),n(!0)},l=(d,p)=>{Ie[p]=d},u=(d,p)=>{Ie[p]=d},c=()=>{ut.value=0,Ye.value=0};return{buildMatrix:l,buildMultiLevelMatrix:u,setTimePickerBackRef:d=>{yr.value=d},setSelectionGrid:d=>{Ti.value=d,c(),d||(Ie.selectionGrid=[])},setTimePicker:(d,p=!1)=>{br.value=d,_r.value=p,c(),d||(Ie.timePicker[0]=[],Ie.timePicker[1]=[])},setTimePickerElements:(d,p=0)=>{Ie.timePicker[p]=d},arrowRight:i,arrowLeft:r,arrowUp:s,arrowDown:o,clearArrowNav:()=>{Ie.monthYear=[],Ie.calendar=[],Ie.time=[],Ie.actionRow=[],Ie.selectionGrid=[],Ie.timePicker[0]=[],Ie.timePicker[1]=[],Ti.value=!1,br.value=!1,_r.value=!1,wr.value=!1,c(),yr.value=null},setMonthPicker:d=>{wr.value=d,c()},refSets:Ie}},_o=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),Kh=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:e=>`Month picker${e?" overlay":""}`,yearPicker:e=>`Year picker${e?" overlay":""}`,timeOverlay:e=>`${e} overlay`,...t??{}}),ko=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Xh=t=>{const e=typeof t=="object"&&t,a={static:!0,solo:!1};if(!t)return{...a,count:ko(!1)};const n=e?t:{},i=e?n.count??!0:t,r=ko(i);return Object.assign(a,n,{count:r})},Qh=(t,e,a)=>t||(typeof a=="string"?a:e),Jh=t=>typeof t=="boolean"?t?_o({}):!1:_o(t),Zh=t=>{const e={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...e,...t??{},enabled:!0}:{...e,enabled:t}},ep=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),tp=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),ap=t=>{const e={input:!1};return typeof t=="object"?{...e,...t??{},enabled:!0}:{enabled:t,...e}},np=t=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,...t??{}}),ip=t=>{const e={dates:Array.isArray(t)?t.map(a=>K(a)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...e,...t??{}}},rp=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},sp=t=>{const e={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...e,...t}:{enabled:t,...e}},op=t=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:t.emitTimezone??void 0,convertModel:t.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},kr=(t,e,a)=>new Map(t.map(n=>{const i=Is(n,e,a);return[Us(i),i]})),lp=(t,e)=>t.length?new Map(t.map(a=>{const n=Is(a.date,e);return[Us(n),a]})):null,up=t=>{var e;return{minDate:rs(t.minDate,t.timezone,t.isSpecific),maxDate:rs(t.maxDate,t.timezone,t.isSpecific),disabledDates:pr(t.disabledDates)?kr(t.disabledDates,t.timezone,t.isSpecific):t.disabledDates,allowedDates:pr(t.allowedDates)?kr(t.allowedDates,t.timezone,t.isSpecific):null,highlight:typeof t.highlight=="object"&&pr((e=t.highlight)==null?void 0:e.dates)?kr(t.highlight.dates,t.timezone):t.highlight,markers:lp(t.markers,t.timezone)}},dp=t=>typeof t=="boolean"?{enabled:t,dragSelect:!0,limit:null}:{enabled:!!t,limit:t.limit?+t.limit:null,dragSelect:t.dragSelect??!0},cp=t=>({...Object.fromEntries(Object.keys(t).map(e=>{const a=e,n=t[a],i=typeof t[a]=="string"?{[n]:!0}:Object.fromEntries(n.map(r=>[r,!0]));return[e,i]}))}),Ue=t=>{const e=()=>{const D=t.enableSeconds?":ss":"",_=t.enableMinutes?":mm":"";return t.is24?`HH${_}${D}`:`hh${_}${D} aa`},a=()=>{var D;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?e():t.weekPicker?`${((D=M.value)==null?void 0:D.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${e()}`:"MM/dd/yyyy"},n=D=>Zl(D,t.enableSeconds),i=()=>E.value.enabled?t.startTime&&Array.isArray(t.startTime)?[n(t.startTime[0]),n(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?n(t.startTime):null,r=X(()=>Xh(t.multiCalendars)),s=X(()=>i()),o=X(()=>Kh(t.ariaLabels)),l=X(()=>ep(t.filters)),u=X(()=>Jh(t.transitions)),c=X(()=>tp(t.actionRow)),d=X(()=>Qh(t.previewFormat,t.format,a())),p=X(()=>Zh(t.textInput)),m=X(()=>ap(t.inline)),b=X(()=>np(t.config)),w=X(()=>ip(t.highlight)),M=X(()=>rp(t.weekNumbers)),x=X(()=>op(t.timezone)),S=X(()=>dp(t.multiDates)),P=X(()=>up({minDate:t.minDate,maxDate:t.maxDate,disabledDates:t.disabledDates,allowedDates:t.allowedDates,highlight:w.value,markers:t.markers,timezone:x.value,isSpecific:t.monthPicker||t.yearPicker||t.quarterPicker})),E=X(()=>sp(t.range)),q=X(()=>cp(t.ui));return{defaultedTransitions:u,defaultedMultiCalendars:r,defaultedStartTime:s,defaultedAriaLabels:o,defaultedFilters:l,defaultedActionRow:c,defaultedPreviewFormat:d,defaultedTextInput:p,defaultedInline:m,defaultedConfig:b,defaultedHighlight:w,defaultedWeekNumbers:M,defaultedRange:E,propDates:P,defaultedTz:x,defaultedMultiDates:S,defaultedUI:q,getDefaultPattern:a,getDefaultStartTime:i}},hp=(t,e,a)=>{const n=Z(),{defaultedTextInput:i,defaultedRange:r,defaultedTz:s,defaultedMultiDates:o,getDefaultPattern:l}=Ue(e),u=Z(""),c=ii(e,"format"),d=ii(e,"formatLocale");Ct(n,()=>{typeof e.onInternalModelChange=="function"&&t("internal-model-change",n.value,V(!0))},{deep:!0}),Ct(r,(g,oe)=>{g.enabled!==oe.enabled&&(n.value=null)}),Ct(c,()=>{re()});const p=g=>s.value.timezone&&s.value.convertModel?Pt(g,s.value.timezone):g,m=g=>{if(s.value.timezone&&s.value.convertModel){const oe=Ch(s.value.timezone);return Od(g,oe)}return g},b=(g,oe,ye=!1)=>tu(g,e.format,e.formatLocale,i.value.rangeSeparator,e.modelAuto,oe??l(),ye),w=g=>g?e.modelType?se(g):{hours:_a(g),minutes:Ca(g),seconds:e.enableSeconds?vn(g):0}:null,M=g=>e.modelType?se(g):{month:xe(g),year:we(g)},x=g=>Array.isArray(g)?o.value.enabled?g.map(oe=>S(oe,ta(K(),oe))):Pi(()=>[ta(K(),g[0]),g[1]?ta(K(),g[1]):un(r.value.partialRange)],r.value.enabled):ta(K(),+g),S=(g,oe)=>(typeof g=="string"||typeof g=="number")&&e.modelType?Y(g):oe,P=g=>Array.isArray(g)?[S(g[0],Aa(null,+g[0].hours,+g[0].minutes,g[0].seconds)),S(g[1],Aa(null,+g[1].hours,+g[1].minutes,g[1].seconds))]:S(g,Aa(null,g.hours,g.minutes,g.seconds)),E=g=>{const oe=Re(K(),{date:1});return Array.isArray(g)?o.value.enabled?g.map(ye=>S(ye,ga(oe,+ye.month,+ye.year))):Pi(()=>[S(g[0],ga(oe,+g[0].month,+g[0].year)),S(g[1],g[1]?ga(oe,+g[1].month,+g[1].year):un(r.value.partialRange))],r.value.enabled):S(g,ga(oe,+g.month,+g.year))},q=g=>{if(Array.isArray(g))return g.map(oe=>Y(oe));throw new Error(Bs.dateArr("multi-dates"))},D=g=>{if(Array.isArray(g)&&r.value.enabled){const oe=g[0],ye=g[1];return[K(Array.isArray(oe)?oe[0]:null),K(Array.isArray(ye)?ye[0]:null)]}return K(g[0])},_=g=>e.modelAuto?Array.isArray(g)?[Y(g[0]),Y(g[1])]:e.autoApply?[Y(g)]:[Y(g),null]:Array.isArray(g)?Pi(()=>g[1]?[Y(g[0]),g[1]?Y(g[1]):un(r.value.partialRange)]:[Y(g[0])],r.value.enabled):Y(g),L=()=>{Array.isArray(n.value)&&r.value.enabled&&n.value.length===1&&n.value.push(un(r.value.partialRange))},U=()=>{const g=n.value;return[se(g[0]),g[1]?se(g[1]):un(r.value.partialRange)]},R=()=>n.value[1]?U():se(tt(n.value[0])),te=()=>(n.value||[]).map(g=>se(g)),ue=(g=!1)=>(g||L(),e.modelAuto?R():o.value.enabled?te():Array.isArray(n.value)?Pi(()=>U(),r.value.enabled):se(tt(n.value))),fe=g=>!g||Array.isArray(g)&&!g.length?null:e.timePicker?P(tt(g)):e.monthPicker?E(tt(g)):e.yearPicker?x(tt(g)):o.value.enabled?q(tt(g)):e.weekPicker?D(tt(g)):_(tt(g)),B=g=>{const oe=fe(g);os(tt(oe))?(n.value=tt(oe),re()):(n.value=null,u.value="")},O=()=>{const g=oe=>aa(oe,i.value.format);return`${g(n.value[0])} ${i.value.rangeSeparator} ${n.value[1]?g(n.value[1]):""}`},F=()=>a.value&&n.value?Array.isArray(n.value)?O():aa(n.value,i.value.format):b(n.value),H=()=>n.value?o.value.enabled?n.value.map(g=>b(g)).join("; "):i.value.enabled&&typeof i.value.format=="string"?F():b(n.value):"",re=()=>{!e.format||typeof e.format=="string"||i.value.enabled&&typeof i.value.format=="string"?u.value=H():u.value=e.format(n.value)},Y=g=>{if(e.utc){const oe=new Date(g);return e.utc==="preserve"?new Date(oe.getTime()+oe.getTimezoneOffset()*6e4):oe}return e.modelType?Mh.includes(e.modelType)?p(new Date(g)):e.modelType==="format"&&(typeof e.format=="string"||!e.format)?p(is(g,l(),new Date,{locale:d.value})):p(is(g,e.modelType,new Date,{locale:d.value})):p(new Date(g))},se=g=>g?e.utc?jh(g,e.utc==="preserve",e.enableSeconds):e.modelType?e.modelType==="timestamp"?+m(g):e.modelType==="iso"?m(g).toISOString():e.modelType==="format"&&(typeof e.format=="string"||!e.format)?b(m(g)):b(m(g),e.modelType,!0):m(g):"",ve=(g,oe=!1,ye=!1)=>{if(ye)return g;if(t("update:model-value",g),s.value.emitTimezone&&oe){const Qe=Array.isArray(g)?g.map(N=>Pt(tt(N),s.value.emitTimezone)):Pt(tt(g),s.value.emitTimezone);t("update:model-timezone-value",Qe)}},k=g=>Array.isArray(n.value)?o.value.enabled?n.value.map(oe=>g(oe)):[g(n.value[0]),n.value[1]?g(n.value[1]):un(r.value.partialRange)]:g(tt(n.value)),T=()=>{if(Array.isArray(n.value)){const g=ha(n.value[0],e.weekStart),oe=n.value[1]?ha(n.value[1],e.weekStart):[];return[g.map(ye=>K(ye)),oe.map(ye=>K(ye))]}return ha(n.value,e.weekStart).map(g=>K(g))},f=(g,oe)=>ve(tt(k(g)),!1,oe),C=g=>{const oe=T();return g?oe:t("update:model-value",T())},V=(g=!1)=>(g||re(),e.monthPicker?f(M,g):e.timePicker?f(w,g):e.yearPicker?f(we,g):e.weekPicker?C(g):ve(ue(g),!0,g));return{inputValue:u,internalModelValue:n,checkBeforeEmit:()=>n.value?r.value.enabled?r.value.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:B,formatInputValue:re,emitModelValue:V}},pp=(t,e)=>{const{defaultedFilters:a,propDates:n}=Ue(t),{validateMonthYearInRange:i}=Ea(t),r=(c,d)=>{let p=c;return a.value.months.includes(xe(p))?(p=d?Vt(c,1):yn(c,1),r(p,d)):p},s=(c,d)=>{let p=c;return a.value.years.includes(we(p))?(p=d?Ss(c,1):ql(c,1),s(p,d)):p},o=(c,d=!1)=>{const p=Re(K(),{month:t.month,year:t.year});let m=c?Vt(p,1):yn(p,1);t.disableYearSelect&&(m=ta(m,t.year));let b=xe(m),w=we(m);a.value.months.includes(b)&&(m=r(m,c),b=xe(m),w=we(m)),a.value.years.includes(w)&&(m=s(m,c),w=we(m)),i(b,w,c,t.preventMinMaxNavigation)&&l(b,w,d)},l=(c,d,p)=>{e("update-month-year",{month:c,year:d,fromNav:p})},u=X(()=>c=>eu(Re(K(),{month:t.month,year:t.year}),n.value.maxDate,n.value.minDate,t.preventMinMaxNavigation,c));return{handleMonthYearChange:o,isDisabled:u,updateMonthYear:l}},Ji={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Kt={...Ji,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},fp=["title"],mp=["disabled"],vp=rt({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Kt},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:e}){const a=e,n=t,{defaultedActionRow:i,defaultedPreviewFormat:r,defaultedMultiCalendars:s,defaultedTextInput:o,defaultedInline:l,defaultedRange:u,defaultedMultiDates:c,getDefaultPattern:d}=Ue(n),{isTimeValid:p,isMonthValid:m}=Ea(n),{buildMatrix:b}=Ma(),w=Z(null),M=Z(null),x=Z(!1),S=Z({}),P=Z(null),E=Z(null);ot(()=>{n.arrowNavigation&&b([Ze(w),Ze(M)],"actionRow"),q(),window.addEventListener("resize",q)}),Ki(()=>{window.removeEventListener("resize",q)});const q=()=>{x.value=!1,setTimeout(()=>{var O,F;const H=(O=P.value)==null?void 0:O.getBoundingClientRect(),re=(F=E.value)==null?void 0:F.getBoundingClientRect();H&&re&&(S.value.maxWidth=`${re.width-H.width-20}px`),x.value=!0},0)},D=X(()=>u.value.enabled&&!u.value.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),_=X(()=>!p.value(n.internalModelValue)||!m.value(n.internalModelValue)||!D.value),L=()=>{const O=r.value;return n.timePicker||n.monthPicker,O(tt(n.internalModelValue))},U=()=>{const O=n.internalModelValue;return s.value.count>0?`${R(O[0])} - ${R(O[1])}`:[R(O[0]),R(O[1])]},R=O=>tu(O,r.value,n.formatLocale,o.value.rangeSeparator,n.modelAuto,d()),te=X(()=>!n.internalModelValue||!n.menuMount?"":typeof r.value=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?U():c.value.enabled?n.internalModelValue.map(O=>`${R(O)}`):n.modelAuto?`${R(n.internalModelValue[0])}`:`${R(n.internalModelValue[0])} -`:R(n.internalModelValue):L()),ue=()=>c.value.enabled?"; ":" - ",fe=X(()=>Array.isArray(te.value)?te.value.join(ue()):te.value),B=()=>{p.value(n.internalModelValue)&&m.value(n.internalModelValue)&&D.value?a("select-date"):a("invalid-select")};return(O,F)=>(I(),G("div",{ref_key:"actionRowRef",ref:E,class:"dp__action_row"},[O.$slots["action-row"]?de(O.$slots,"action-row",at(nt({key:0},{internalModelValue:O.internalModelValue,disabled:_.value,selectDate:()=>O.$emit("select-date"),closePicker:()=>O.$emit("close-picker")}))):(I(),G(Te,{key:1},[y(i).showPreview?(I(),G("div",{key:0,class:"dp__selection_preview",title:fe.value,style:Bt(S.value)},[O.$slots["action-preview"]&&x.value?de(O.$slots,"action-preview",{key:0,value:O.internalModelValue}):Q("",!0),!O.$slots["action-preview"]&&x.value?(I(),G(Te,{key:1},[wa(ct(fe.value),1)],64)):Q("",!0)],12,fp)):Q("",!0),_e("div",{ref_key:"actionBtnContainer",ref:P,class:"dp__action_buttons","data-dp-element":"action-row"},[O.$slots["action-buttons"]?de(O.$slots,"action-buttons",{key:0,value:O.internalModelValue}):Q("",!0),O.$slots["action-buttons"]?Q("",!0):(I(),G(Te,{key:1},[!y(l).enabled&&y(i).showCancel?(I(),G("button",{key:0,ref_key:"cancelButtonRef",ref:w,type:"button",class:"dp__action_button dp__action_cancel",onClick:F[0]||(F[0]=H=>O.$emit("close-picker")),onKeydown:F[1]||(F[1]=H=>y(wt)(H,()=>O.$emit("close-picker")))},ct(O.cancelText),545)):Q("",!0),y(i).showNow?(I(),G("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:F[2]||(F[2]=H=>O.$emit("select-now")),onKeydown:F[3]||(F[3]=H=>y(wt)(H,()=>O.$emit("select-now")))},ct(O.nowButtonLabel),33)):Q("",!0),y(i).showSelect?(I(),G("button",{key:2,ref_key:"selectButtonRef",ref:M,type:"button",class:"dp__action_button dp__action_select",disabled:_.value,"data-test":"select-button",onKeydown:F[4]||(F[4]=H=>y(wt)(H,()=>B())),onClick:B},ct(O.selectText),41,mp)):Q("",!0)],64))],512)],64))],512))}}),gp=["role","aria-label","tabindex"],yp={class:"dp__selection_grid_header"},bp=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],wp=["aria-label"],vi=rt({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:e,emit:a}){const{setSelectionGrid:n,buildMultiLevelMatrix:i,setMonthPicker:r}=Ma(),s=a,o=t,{defaultedAriaLabels:l,defaultedTextInput:u,defaultedConfig:c}=Ue(o),{hideNavigationButtons:d}=tr(),p=Z(!1),m=Z(null),b=Z(null),w=Z([]),M=Z(),x=Z(null),S=Z(0),P=Z(null);wd(()=>{m.value=null}),ot(()=>{Et().then(()=>te()),o.noOverlayFocus||q(),E(!0)}),Ki(()=>E(!1));const E=k=>{var T;o.arrowNavigation&&((T=o.headerRefs)!=null&&T.length?r(k):n(k))},q=()=>{var k;const T=Ze(b);T&&(u.value.enabled||(m.value?(k=m.value)==null||k.focus({preventScroll:!0}):T.focus({preventScroll:!0})),p.value=T.clientHeight<T.scrollHeight)},D=X(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),_=X(()=>o.useRelative?{height:`${o.height}px`,width:"260px"}:void 0),L=X(()=>({dp__overlay_col:!0})),U=X(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:p.value,dp__button_bottom:o.isLast})),R=X(()=>{var k,T;return{dp__overlay_container:!0,dp__container_flex:((k=o.items)==null?void 0:k.length)<=6,dp__container_block:((T=o.items)==null?void 0:T.length)>6}});Ct(()=>o.items,()=>te(!1),{deep:!0});const te=(k=!0)=>{Et().then(()=>{const T=Ze(m),f=Ze(b),C=Ze(x),V=Ze(P),g=C?C.getBoundingClientRect().height:0;f&&(f.getBoundingClientRect().height?S.value=f.getBoundingClientRect().height-g:S.value=c.value.modeHeight-g),T&&V&&k&&(V.scrollTop=T.offsetTop-V.offsetTop-(S.value/2-T.getBoundingClientRect().height)-g)})},ue=k=>{k.disabled||s("selected",k.value)},fe=()=>{s("toggle"),s("reset-flow")},B=()=>{o.escClose&&fe()},O=(k,T,f,C)=>{k&&((T.active||T.value===o.focusValue)&&(m.value=k),o.arrowNavigation&&(Array.isArray(w.value[f])?w.value[f][C]=k:w.value[f]=[k],F()))},F=()=>{var k,T;const f=(k=o.headerRefs)!=null&&k.length?[o.headerRefs].concat(w.value):w.value.concat([o.skipButtonRef?[]:[x.value]]);i(tt(f),(T=o.headerRefs)!=null&&T.length?"monthPicker":"selectionGrid")},H=k=>{o.arrowNavigation||Oa(k,c.value,!0)},re=k=>{M.value=k,s("hover-value",k)},Y=()=>{if(fe(),!o.isLast){const k=ss(o.menuWrapRef??null,"action-row");if(k){const T=Gl(k);T==null||T.focus()}}},se=k=>{switch(k.key){case Ne.esc:return B();case Ne.arrowLeft:return H(k);case Ne.arrowRight:return H(k);case Ne.arrowUp:return H(k);case Ne.arrowDown:return H(k);default:return}},ve=k=>{if(k.key===Ne.enter)return fe();if(k.key===Ne.tab)return Y()};return e({focusGrid:q}),(k,T)=>{var f;return I(),G("div",{ref_key:"gridWrapRef",ref:b,class:Fe(D.value),style:Bt(_.value),role:k.useRelative?void 0:"dialog","aria-label":k.overlayLabel,tabindex:k.useRelative?void 0:"0",onKeydown:se,onClick:T[0]||(T[0]=ri(()=>{},["prevent"]))},[_e("div",{ref_key:"containerRef",ref:P,class:Fe(R.value),style:Bt({"--dp-overlay-height":`${S.value}px`}),role:"grid"},[_e("div",yp,[de(k.$slots,"header")]),k.$slots.overlay?de(k.$slots,"overlay",{key:0}):(I(!0),G(Te,{key:1},Be(k.items,(C,V)=>(I(),G("div",{key:V,class:Fe(["dp__overlay_row",{dp__flex_row:k.items.length>=3}]),role:"row"},[(I(!0),G(Te,null,Be(C,(g,oe)=>(I(),G("div",{key:g.value,ref_for:!0,ref:ye=>O(ye,g,V,oe),role:"gridcell",class:Fe(L.value),"aria-selected":g.active||void 0,"aria-disabled":g.disabled||void 0,tabindex:"0","data-test":g.text,onClick:ri(ye=>ue(g),["prevent"]),onKeydown:ye=>y(wt)(ye,()=>ue(g),!0),onMouseover:ye=>re(g.value)},[_e("div",{class:Fe(g.className)},[k.$slots.item?de(k.$slots,"item",{key:0,item:g}):Q("",!0),k.$slots.item?Q("",!0):(I(),G(Te,{key:1},[wa(ct(g.text),1)],64))],2)],42,bp))),128))],2))),128))],6),k.$slots["button-icon"]?Ni((I(),G("button",{key:0,ref_key:"toggleButton",ref:x,type:"button","aria-label":(f=y(l))==null?void 0:f.toggleOverlay,class:Fe(U.value),tabindex:"0",onClick:fe,onKeydown:ve},[de(k.$slots,"button-icon")],42,wp)),[[Bi,!y(d)(k.hideNavigation,k.type)]]):Q("",!0)],46,gp)}}}),Zi=rt({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const e=t,a=X(()=>e.multiCalendars>0?[...Array(e.multiCalendars).keys()]:[0]),n=X(()=>({dp__instance_calendar:e.multiCalendars>0}));return(i,r)=>(I(),G("div",{class:Fe({dp__menu_inner:!i.stretch,"dp--menu--inner-stretched":i.stretch,dp__flex_display:i.multiCalendars>0,"dp--flex-display-collapsed":i.collapse})},[(I(!0),G(Te,null,Be(a.value,(s,o)=>(I(),G("div",{key:s,class:Fe(n.value)},[de(i.$slots,"default",{instance:s,index:o})],2))),128))],2))}}),_p=["data-dp-element","aria-label","aria-disabled"],ti=rt({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:e}){const a=e,n=Z(null);return ot(()=>a("set-ref",n)),(i,r)=>(I(),G("button",{ref_key:"elRef",ref:n,type:"button","data-dp-element":i.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":i.ariaLabel,"aria-disabled":i.disabled||void 0,onClick:r[0]||(r[0]=s=>i.$emit("activate")),onKeydown:r[1]||(r[1]=s=>y(wt)(s,()=>i.$emit("activate"),!0))},[_e("span",{class:Fe(["dp__inner_nav",{dp__inner_nav_disabled:i.disabled}])},[de(i.$slots,"default")],2)],40,_p))}}),kp=["aria-label","data-test"],ru=rt({__name:"YearModePicker",props:{...Kt,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:e}){const a=e,n=t,{showRightIcon:i,showLeftIcon:r}=tr(),{defaultedConfig:s,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:u,defaultedUI:c}=Ue(n),{showTransition:d,transitionName:p}=gi(u),m=Z(!1),b=(x=!1,S)=>{m.value=!m.value,a("toggle-year-picker",{flow:x,show:S})},w=x=>{m.value=!1,a("year-select",x)},M=(x=!1)=>{a("handle-year",x)};return(x,S)=>{var P,E,q,D,_;return I(),G(Te,null,[_e("div",{class:Fe(["dp--year-mode-picker",{"dp--hidden-el":m.value}])},[y(r)(y(o),t.instance)?(I(),Ae(ti,{key:0,ref:"mpPrevIconRef","aria-label":(P=y(l))==null?void 0:P.prevYear,disabled:t.isDisabled(!1),class:Fe((E=y(c))==null?void 0:E.navBtnPrev),onActivate:S[0]||(S[0]=L=>M(!1))},{default:Se(()=>[x.$slots["arrow-left"]?de(x.$slots,"arrow-left",{key:0}):Q("",!0),x.$slots["arrow-left"]?Q("",!0):(I(),Ae(y(Cs),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Q("",!0),_e("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${t.year}-${(q=y(l))==null?void 0:q.openYearsOverlay}`,"data-test":`year-mode-btn-${t.instance}`,onClick:S[1]||(S[1]=()=>b(!1)),onKeydown:S[2]||(S[2]=_d(()=>b(!1),["enter"]))},[x.$slots.year?de(x.$slots,"year",{key:0,year:t.year}):Q("",!0),x.$slots.year?Q("",!0):(I(),G(Te,{key:1},[wa(ct(t.year),1)],64))],40,kp),y(i)(y(o),t.instance)?(I(),Ae(ti,{key:1,ref:"mpNextIconRef","aria-label":(D=y(l))==null?void 0:D.nextYear,disabled:t.isDisabled(!0),class:Fe((_=y(c))==null?void 0:_.navBtnNext),onActivate:S[3]||(S[3]=L=>M(!0))},{default:Se(()=>[x.$slots["arrow-right"]?de(x.$slots,"arrow-right",{key:0}):Q("",!0),x.$slots["arrow-right"]?Q("",!0):(I(),Ae(y(Ms),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Q("",!0)],2),Mt(_n,{name:y(p)(t.showYearPicker),css:y(d)},{default:Se(()=>{var L,U;return[t.showYearPicker?(I(),Ae(vi,{key:0,items:t.items,"text-input":x.textInput,"esc-close":x.escClose,config:x.config,"is-last":x.autoApply&&!y(s).keepActionRow,"hide-navigation":x.hideNavigation,"aria-labels":x.ariaLabels,"overlay-label":(U=(L=y(l))==null?void 0:L.yearPicker)==null?void 0:U.call(L,!0),type:"year",onToggle:b,onSelected:S[4]||(S[4]=R=>w(R))},ht({"button-icon":Se(()=>[x.$slots["calendar-icon"]?de(x.$slots,"calendar-icon",{key:0}):Q("",!0),x.$slots["calendar-icon"]?Q("",!0):(I(),Ae(y(Pn),{key:1}))]),_:2},[x.$slots["year-overlay-value"]?{name:"item",fn:Se(({item:R})=>[de(x.$slots,"year-overlay-value",{text:R.text,value:R.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):Q("",!0)]}),_:3},8,["name","css"])],64)}}}),zs=(t,e,a)=>{if(e.value&&Array.isArray(e.value))if(e.value.some(n=>De(t,n))){const n=e.value.filter(i=>!De(i,t));e.value=n.length?n:null}else(a&&+a>e.value.length||!a)&&e.value.push(t);else e.value=[t]},Hs=(t,e,a)=>{let n=t.value?t.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?je(e,n[0])?(n.unshift(e),a("range-start",n[0]),a("range-start",n[1])):(n[1]=e,a("range-end",e)):(n=[e],a("range-start",e)),n},er=(t,e,a,n)=>{t&&(t[0]&&t[1]&&a&&e("auto-apply"),t[0]&&!t[1]&&n&&a&&e("auto-apply"))},su=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(e=>Pt(K(e),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Pt(K(t.value),t.timezone))},ou=(t,e,a,n)=>Array.isArray(e.value)&&(e.value.length===2||e.value.length===1&&n.value.partialRange)?n.value.fixedStart&&(Ve(t,e.value[0])||De(t,e.value[0]))?[e.value[0],t]:n.value.fixedEnd&&(je(t,e.value[1])||De(t,e.value[1]))?[t,e.value[1]]:(a("invalid-fixed-range",t),e.value):[],lu=({multiCalendars:t,range:e,highlight:a,propDates:n,calendars:i,modelValue:r,props:s,filters:o,year:l,month:u,emit:c})=>{const d=X(()=>Ns(s.yearRange,s.locale,s.reverseYears)),p=Z([!1]),m=X(()=>(R,te)=>{const ue=Re(Yt(new Date),{month:u.value(R),year:l.value(R)}),fe=te?Cl(ue):si(ue);return eu(fe,n.value.maxDate,n.value.minDate,s.preventMinMaxNavigation,te)}),b=()=>Array.isArray(r.value)&&t.value.solo&&r.value[1],w=()=>{for(let R=0;R<t.value.count;R++)if(R===0)i.value[R]=i.value[0];else if(R===t.value.count-1&&b())i.value[R]={month:xe(r.value[1]),year:we(r.value[1])};else{const te=Re(K(),i.value[R-1]);i.value[R]={month:xe(te),year:we(Ss(te,1))}}},M=R=>{if(!R)return w();const te=Re(K(),i.value[R]);return i.value[0].year=we(ql(te,t.value.count-1)),w()},x=(R,te)=>{const ue=$d(te,R);return e.value.showLastInRange&&ue>1?te:R},S=R=>s.focusStartDate||t.value.solo?R[0]:R[1]?x(R[0],R[1]):R[0],P=()=>{if(r.value){const R=Array.isArray(r.value)?S(r.value):r.value;i.value[0]={month:xe(R),year:we(R)}}},E=()=>{P(),t.value.count&&w()};Ct(r,(R,te)=>{s.isTextInputDate&&JSON.stringify(R??{})!==JSON.stringify(te??{})&&E()}),ot(()=>{E()});const q=(R,te)=>{i.value[te].year=R,c("update-month-year",{instance:te,year:R,month:i.value[te].month}),t.value.count&&!t.value.solo&&M(te)},D=X(()=>R=>bn(d.value,te=>{var ue;const fe=l.value(R)===te.value,B=li(te.value,wn(n.value.minDate),wn(n.value.maxDate))||((ue=o.value.years)==null?void 0:ue.includes(l.value(R))),O=Ls(a.value,te.value);return{active:fe,disabled:B,highlighted:O}})),_=(R,te)=>{q(R,te),U(te)},L=(R,te=!1)=>{if(!m.value(R,te)){const ue=te?l.value(R)+1:l.value(R)-1;q(ue,R)}},U=(R,te=!1,ue)=>{te||c("reset-flow"),ue!==void 0?p.value[R]=ue:p.value[R]=!p.value[R],p.value[R]?c("overlay-toggle",{open:!0,overlay:dt.year}):(c("overlay-closed"),c("overlay-toggle",{open:!1,overlay:dt.year}))};return{isDisabled:m,groupedYears:D,showYearPicker:p,selectYear:q,toggleYearPicker:U,handleYearSelect:_,handleYear:L}},Pp=(t,e)=>{const{defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:i,defaultedConfig:r,defaultedRange:s,defaultedHighlight:o,propDates:l,defaultedTz:u,defaultedFilters:c,defaultedMultiDates:d}=Ue(t),p=()=>{t.isTextInputDate&&E(we(K(t.startDate)),0)},{modelValue:m,year:b,month:w,calendars:M}=yi(t,e,p),x=X(()=>Vl(t.formatLocale,t.locale,t.monthNameFormat)),S=Z(null),{checkMinMaxRange:P}=Ea(t),{selectYear:E,groupedYears:q,showYearPicker:D,toggleYearPicker:_,handleYearSelect:L,handleYear:U,isDisabled:R}=lu({modelValue:m,multiCalendars:a,range:s,highlight:o,calendars:M,year:b,propDates:l,month:w,filters:c,props:t,emit:e});ot(()=>{t.startDate&&(m.value&&t.focusStartDate||!m.value)&&E(we(K(t.startDate)),0)});const te=f=>f?{month:xe(f),year:we(f)}:{month:null,year:null},ue=()=>m.value?Array.isArray(m.value)?m.value.map(f=>te(f)):te(m.value):te(),fe=(f,C)=>{const V=M.value[f],g=ue();return Array.isArray(g)?g.some(oe=>oe.year===(V==null?void 0:V.year)&&oe.month===C):(V==null?void 0:V.year)===g.year&&C===g.month},B=(f,C,V)=>{var g,oe;const ye=ue();return Array.isArray(ye)?b.value(C)===((g=ye[V])==null?void 0:g.year)&&f===((oe=ye[V])==null?void 0:oe.month):!1},O=(f,C)=>{if(s.value.enabled){const V=ue();if(Array.isArray(m.value)&&Array.isArray(V)){const g=B(f,C,0)||B(f,C,1),oe=ga(Yt(K()),f,b.value(C));return Qi(m.value,S.value,oe)&&!g}return!1}return!1},F=X(()=>f=>bn(x.value,C=>{var V;const g=fe(f,C.value),oe=li(C.value,Xl(b.value(f),l.value.minDate),Ql(b.value(f),l.value.maxDate))||Gh(l.value.disabledDates,b.value(f)).includes(C.value)||((V=c.value.months)==null?void 0:V.includes(C.value)),ye=O(C.value,f),Qe=au(o.value,C.value,b.value(f));return{active:g,disabled:oe,isBetween:ye,highlighted:Qe}})),H=(f,C)=>ga(Yt(K()),f,b.value(C)),re=(f,C)=>{const V=m.value?m.value:Yt(new Date);m.value=ga(V,f,b.value(C)),e("auto-apply"),e("update-flow-step")},Y=(f,C)=>{const V=H(f,C);s.value.fixedEnd||s.value.fixedStart?m.value=ou(V,m,e,s):m.value?P(V,m.value)&&(m.value=Hs(m,H(f,C),e)):m.value=[H(f,C)],Et().then(()=>{er(m.value,e,t.autoApply,t.modelAuto)})},se=(f,C)=>{zs(H(f,C),m,d.value.limit),e("auto-apply",!0)},ve=(f,C)=>(M.value[C].month=f,T(C,M.value[C].year,f),d.value.enabled?se(f,C):s.value.enabled?Y(f,C):re(f,C)),k=(f,C)=>{E(f,C),T(C,f,null)},T=(f,C,V)=>{let g=V;if(!g&&g!==0){const oe=ue();g=Array.isArray(oe)?oe[f].month:oe.month}e("update-month-year",{instance:f,year:C,month:g})};return{groupedMonths:F,groupedYears:q,year:b,isDisabled:R,defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:i,defaultedConfig:r,showYearPicker:D,modelValue:m,presetDate:(f,C)=>{su({value:f,modelValue:m,range:s.value.enabled,timezone:C?void 0:u.value.timezone}),e("auto-apply")},setHoverDate:(f,C)=>{S.value=H(f,C)},selectMonth:ve,selectYear:k,toggleYearPicker:_,handleYearSelect:L,handleYear:U,getModelMonthYear:ue}},Tp=rt({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Kt},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(t,{expose:e,emit:a}){const n=a,i=sn(),r=At(i,"yearMode"),s=t;ot(()=>{s.shadow||n("mount",null)});const{groupedMonths:o,groupedYears:l,year:u,isDisabled:c,defaultedMultiCalendars:d,defaultedConfig:p,showYearPicker:m,modelValue:b,presetDate:w,setHoverDate:M,selectMonth:x,selectYear:S,toggleYearPicker:P,handleYearSelect:E,handleYear:q,getModelMonthYear:D}=Pp(s,n);return e({getSidebarProps:()=>({modelValue:b,year:u,getModelMonthYear:D,selectMonth:x,selectYear:S,handleYear:q}),presetDate:w,toggleYearPicker:_=>P(0,_)}),(_,L)=>(I(),Ae(Zi,{"multi-calendars":y(d).count,collapse:_.collapse,stretch:""},{default:Se(({instance:U})=>[_.$slots["top-extra"]?de(_.$slots,"top-extra",{key:0,value:_.internalModelValue}):Q("",!0),_.$slots["month-year"]?de(_.$slots,"month-year",at(nt({key:1},{year:y(u),months:y(o)(U),years:y(l)(U),selectMonth:y(x),selectYear:y(S),instance:U}))):(I(),Ae(vi,{key:2,items:y(o)(U),"arrow-navigation":_.arrowNavigation,"is-last":_.autoApply&&!y(p).keepActionRow,"esc-close":_.escClose,height:y(p).modeHeight,config:_.config,"no-overlay-focus":!!(_.noOverlayFocus||_.textInput),"use-relative":"",type:"month",onSelected:R=>y(x)(R,U),onHoverValue:R=>y(M)(R,U)},ht({header:Se(()=>[Mt(ru,nt(_.$props,{items:y(l)(U),instance:U,"show-year-picker":y(m)[U],year:y(u)(U),"is-disabled":R=>y(c)(U,R),onHandleYear:R=>y(q)(U,R),onYearSelect:R=>y(E)(R,U),onToggleYearPicker:R=>y(P)(U,R==null?void 0:R.flow,R==null?void 0:R.show)}),ht({_:2},[Be(y(r),(R,te)=>({name:R,fn:Se(ue=>[de(_.$slots,R,at(kt(ue)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[_.$slots["month-overlay-value"]?{name:"item",fn:Se(({item:R})=>[de(_.$slots,"month-overlay-value",{text:R.text,value:R.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Sp=(t,e)=>{const a=()=>{t.isTextInputDate&&(c.value=we(K(t.startDate)))},{modelValue:n}=yi(t,e,a),i=Z(null),{defaultedHighlight:r,defaultedMultiDates:s,defaultedFilters:o,defaultedRange:l,propDates:u}=Ue(t),c=Z();ot(()=>{t.startDate&&(n.value&&t.focusStartDate||!n.value)&&(c.value=we(K(t.startDate)))});const d=w=>Array.isArray(n.value)?n.value.some(M=>we(M)===w):n.value?we(n.value)===w:!1,p=w=>l.value.enabled&&Array.isArray(n.value)?Qi(n.value,i.value,b(w)):!1,m=X(()=>bn(Ns(t.yearRange,t.locale,t.reverseYears),w=>{const M=d(w.value),x=li(w.value,wn(u.value.minDate),wn(u.value.maxDate))||o.value.years.includes(w.value),S=p(w.value)&&!M,P=Ls(r.value,w.value);return{active:M,disabled:x,isBetween:S,highlighted:P}})),b=w=>ta(Yt(si(new Date)),w);return{groupedYears:m,modelValue:n,focusYear:c,setHoverValue:w=>{i.value=ta(Yt(new Date),w)},selectYear:w=>{var M;if(e("update-month-year",{instance:0,year:w}),s.value.enabled)return n.value?Array.isArray(n.value)&&(((M=n.value)==null?void 0:M.map(x=>we(x))).includes(w)?n.value=n.value.filter(x=>we(x)!==w):n.value.push(ta(_t(K()),w))):n.value=[ta(_t(si(K())),w)],e("auto-apply",!0);l.value.enabled?(n.value=Hs(n,b(w),e),Et().then(()=>{er(n.value,e,t.autoApply,t.modelAuto)})):(n.value=b(w),e("auto-apply"))}}},Fp=rt({compatConfig:{MODE:3},__name:"YearPicker",props:{...Kt},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:e,emit:a}){const n=a,i=t,{groupedYears:r,modelValue:s,focusYear:o,selectYear:l,setHoverValue:u}=Sp(i,n),{defaultedConfig:c}=Ue(i);return e({getSidebarProps:()=>({modelValue:s,selectYear:l})}),(d,p)=>(I(),G("div",null,[d.$slots["top-extra"]?de(d.$slots,"top-extra",{key:0,value:d.internalModelValue}):Q("",!0),d.$slots["month-year"]?de(d.$slots,"month-year",at(nt({key:1},{years:y(r),selectYear:y(l)}))):(I(),Ae(vi,{key:2,items:y(r),"is-last":d.autoApply&&!y(c).keepActionRow,height:y(c).modeHeight,config:d.config,"no-overlay-focus":!!(d.noOverlayFocus||d.textInput),"focus-value":y(o),type:"year","use-relative":"",onSelected:y(l),onHoverValue:y(u)},ht({_:2},[d.$slots["year-overlay-value"]?{name:"item",fn:Se(({item:m})=>[de(d.$slots,"year-overlay-value",{text:m.text,value:m.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),xp={key:0,class:"dp__time_input"},Dp=["data-test","aria-label","onKeydown","onClick","onMousedown"],Op=_e("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Ap=_e("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Cp=["aria-label","disabled","data-test","onKeydown","onClick"],Mp=["data-test","aria-label","onKeydown","onClick","onMousedown"],Ep=_e("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),$p=_e("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Rp={key:0},Ip=["aria-label"],Np=rt({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Kt},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(t,{expose:e,emit:a}){const n=a,i=t,{setTimePickerElements:r,setTimePickerBackRef:s}=Ma(),{defaultedAriaLabels:o,defaultedTransitions:l,defaultedFilters:u,defaultedConfig:c,defaultedRange:d}=Ue(i),{transitionName:p,showTransition:m}=gi(l),b=mi({hours:!1,minutes:!1,seconds:!1}),w=Z("AM"),M=Z(null),x=Z([]),S=Z(),P=Z(!1);ot(()=>{n("mounted")});const E=v=>Re(new Date,{hours:v.hours,minutes:v.minutes,seconds:i.enableSeconds?v.seconds:0,milliseconds:0}),q=X(()=>v=>H(v,i[v])||_(v,i[v])),D=X(()=>({hours:i.hours,minutes:i.minutes,seconds:i.seconds})),_=(v,W)=>d.value.enabled&&!d.value.disableTimeRangeValidation?!i.validateTime(v,W):!1,L=(v,W)=>{if(d.value.enabled&&!d.value.disableTimeRangeValidation){const ae=W?+i[`${v}Increment`]:-+i[`${v}Increment`],j=i[v]+ae;return!i.validateTime(v,j)}return!1},U=X(()=>v=>!k(+i[v]+ +i[`${v}Increment`],v)||L(v,!0)),R=X(()=>v=>!k(+i[v]-+i[`${v}Increment`],v)||L(v,!1)),te=(v,W)=>Tl(Re(K(),v),W),ue=(v,W)=>Oh(Re(K(),v),W),fe=X(()=>({dp__time_col:!0,dp__time_col_block:!i.timePickerInline,dp__time_col_reg_block:!i.enableSeconds&&i.is24&&!i.timePickerInline,dp__time_col_reg_inline:!i.enableSeconds&&i.is24&&i.timePickerInline,dp__time_col_reg_with_button:!i.enableSeconds&&!i.is24,dp__time_col_sec:i.enableSeconds&&i.is24,dp__time_col_sec_with_button:i.enableSeconds&&!i.is24})),B=X(()=>{const v=[{type:"hours"}];return i.enableMinutes&&v.push({type:"",separator:!0},{type:"minutes"}),i.enableSeconds&&v.push({type:"",separator:!0},{type:"seconds"}),v}),O=X(()=>B.value.filter(v=>!v.separator)),F=X(()=>v=>{if(v==="hours"){const W=oe(+i.hours);return{text:W<10?`0${W}`:`${W}`,value:W}}return{text:i[v]<10?`0${i[v]}`:`${i[v]}`,value:i[v]}}),H=(v,W)=>{var ae;if(!i.disabledTimesConfig)return!1;const j=i.disabledTimesConfig(i.order,v==="hours"?W:void 0);return j[v]?!!((ae=j[v])!=null&&ae.includes(W)):!0},re=(v,W)=>W!=="hours"||w.value==="AM"?v:v+12,Y=v=>{const W=i.is24?24:12,ae=v==="hours"?W:60,j=+i[`${v}GridIncrement`],ke=v==="hours"&&!i.is24?j:0,$=[];for(let J=ke;J<ae;J+=j)$.push({value:i.is24?J:re(J,v),text:J<10?`0${J}`:`${J}`});return v==="hours"&&!i.is24&&$.unshift({value:w.value==="PM"?12:0,text:"12"}),bn($,J=>({active:!1,disabled:u.value.times[v].includes(J.value)||!k(J.value,v)||H(v,J.value)||_(v,J.value)}))},se=v=>v>=0?v:59,ve=v=>v>=0?v:23,k=(v,W)=>{const ae=i.minTime?E(fr(i.minTime)):null,j=i.maxTime?E(fr(i.maxTime)):null,ke=E(fr(D.value,W,W==="minutes"||W==="seconds"?se(v):ve(v)));return ae&&j?(oi(ke,j)||pn(ke,j))&&(gn(ke,ae)||pn(ke,ae)):ae?gn(ke,ae)||pn(ke,ae):j?oi(ke,j)||pn(ke,j):!0},T=v=>i[`no${v[0].toUpperCase()+v.slice(1)}Overlay`],f=v=>{T(v)||(b[v]=!b[v],b[v]?(P.value=!0,n("overlay-opened",v)):(P.value=!1,n("overlay-closed",v)))},C=v=>v==="hours"?_a:v==="minutes"?Ca:vn,V=()=>{S.value&&clearTimeout(S.value)},g=(v,W=!0,ae)=>{const j=W?te:ue,ke=W?+i[`${v}Increment`]:-+i[`${v}Increment`];k(+i[v]+ke,v)&&n(`update:${v}`,C(v)(j({[v]:+i[v]},{[v]:+i[`${v}Increment`]}))),!(ae!=null&&ae.keyboard)&&c.value.timeArrowHoldThreshold&&(S.value=setTimeout(()=>{g(v,W)},c.value.timeArrowHoldThreshold))},oe=v=>i.is24?v:(v>=12?w.value="PM":w.value="AM",Rh(v)),ye=()=>{w.value==="PM"?(w.value="AM",n("update:hours",i.hours-12)):(w.value="PM",n("update:hours",i.hours+12)),n("am-pm-change",w.value)},Qe=v=>{b[v]=!0},N=(v,W,ae)=>{if(v&&i.arrowNavigation){Array.isArray(x.value[W])?x.value[W][ae]=v:x.value[W]=[v];const j=x.value.reduce((ke,$)=>$.map((J,pe)=>[...ke[pe]||[],$[pe]]),[]);s(i.closeTimePickerBtn),M.value&&(j[1]=j[1].concat(M.value)),r(j,i.order)}},ee=(v,W)=>(f(v),n(`update:${v}`,W));return e({openChildCmp:Qe}),(v,W)=>{var ae;return v.disabled?Q("",!0):(I(),G("div",xp,[(I(!0),G(Te,null,Be(B.value,(j,ke)=>{var $,J,pe;return I(),G("div",{key:ke,class:Fe(fe.value)},[j.separator?(I(),G(Te,{key:0},[P.value?Q("",!0):(I(),G(Te,{key:0},[wa(":")],64))],64)):(I(),G(Te,{key:1},[_e("button",{ref_for:!0,ref:Pe=>N(Pe,ke,0),type:"button",class:Fe({dp__btn:!0,dp__inc_dec_button:!v.timePickerInline,dp__inc_dec_button_inline:v.timePickerInline,dp__tp_inline_btn_top:v.timePickerInline,dp__inc_dec_button_disabled:U.value(j.type),"dp--hidden-el":P.value}),"data-test":`${j.type}-time-inc-btn-${i.order}`,"aria-label":($=y(o))==null?void 0:$.incrementValue(j.type),tabindex:"0",onKeydown:Pe=>y(wt)(Pe,()=>g(j.type,!0,{keyboard:!0}),!0),onClick:Pe=>y(c).timeArrowHoldThreshold?void 0:g(j.type,!0),onMousedown:Pe=>y(c).timeArrowHoldThreshold?g(j.type,!0):void 0,onMouseup:V},[i.timePickerInline?(I(),G(Te,{key:1},[v.$slots["tp-inline-arrow-up"]?de(v.$slots,"tp-inline-arrow-up",{key:0}):(I(),G(Te,{key:1},[Op,Ap],64))],64)):(I(),G(Te,{key:0},[v.$slots["arrow-up"]?de(v.$slots,"arrow-up",{key:0}):Q("",!0),v.$slots["arrow-up"]?Q("",!0):(I(),Ae(y($s),{key:1}))],64))],42,Dp),_e("button",{ref_for:!0,ref:Pe=>N(Pe,ke,1),type:"button","aria-label":`${F.value(j.type).text}-${(J=y(o))==null?void 0:J.openTpOverlay(j.type)}`,class:Fe({dp__time_display:!0,dp__time_display_block:!v.timePickerInline,dp__time_display_inline:v.timePickerInline,"dp--time-invalid":q.value(j.type),"dp--time-overlay-btn":!q.value(j.type),"dp--hidden-el":P.value}),disabled:T(j.type),tabindex:"0","data-test":`${j.type}-toggle-overlay-btn-${i.order}`,onKeydown:Pe=>y(wt)(Pe,()=>f(j.type),!0),onClick:Pe=>f(j.type)},[v.$slots[j.type]?de(v.$slots,j.type,{key:0,text:F.value(j.type).text,value:F.value(j.type).value}):Q("",!0),v.$slots[j.type]?Q("",!0):(I(),G(Te,{key:1},[wa(ct(F.value(j.type).text),1)],64))],42,Cp),_e("button",{ref_for:!0,ref:Pe=>N(Pe,ke,2),type:"button",class:Fe({dp__btn:!0,dp__inc_dec_button:!v.timePickerInline,dp__inc_dec_button_inline:v.timePickerInline,dp__tp_inline_btn_bottom:v.timePickerInline,dp__inc_dec_button_disabled:R.value(j.type),"dp--hidden-el":P.value}),"data-test":`${j.type}-time-dec-btn-${i.order}`,"aria-label":(pe=y(o))==null?void 0:pe.decrementValue(j.type),tabindex:"0",onKeydown:Pe=>y(wt)(Pe,()=>g(j.type,!1,{keyboard:!0}),!0),onClick:Pe=>y(c).timeArrowHoldThreshold?void 0:g(j.type,!1),onMousedown:Pe=>y(c).timeArrowHoldThreshold?g(j.type,!1):void 0,onMouseup:V},[i.timePickerInline?(I(),G(Te,{key:1},[v.$slots["tp-inline-arrow-down"]?de(v.$slots,"tp-inline-arrow-down",{key:0}):(I(),G(Te,{key:1},[Ep,$p],64))],64)):(I(),G(Te,{key:0},[v.$slots["arrow-down"]?de(v.$slots,"arrow-down",{key:0}):Q("",!0),v.$slots["arrow-down"]?Q("",!0):(I(),Ae(y(Rs),{key:1}))],64))],42,Mp)],64))],2)}),128)),v.is24?Q("",!0):(I(),G("div",Rp,[v.$slots["am-pm-button"]?de(v.$slots,"am-pm-button",{key:0,toggle:ye,value:w.value}):Q("",!0),v.$slots["am-pm-button"]?Q("",!0):(I(),G("button",{key:1,ref_key:"amPmButton",ref:M,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ae=y(o))==null?void 0:ae.amPmButton,tabindex:"0",onClick:ye,onKeydown:W[0]||(W[0]=j=>y(wt)(j,()=>ye(),!0))},ct(w.value),41,Ip))])),(I(!0),G(Te,null,Be(O.value,(j,ke)=>(I(),Ae(_n,{key:ke,name:y(p)(b[j.type]),css:y(m)},{default:Se(()=>{var $,J;return[b[j.type]?(I(),Ae(vi,{key:0,items:Y(j.type),"is-last":v.autoApply&&!y(c).keepActionRow,"esc-close":v.escClose,type:j.type,"text-input":v.textInput,config:v.config,"arrow-navigation":v.arrowNavigation,"aria-labels":v.ariaLabels,"overlay-label":(J=($=y(o)).timeOverlay)==null?void 0:J.call($,j.type),onSelected:pe=>ee(j.type,pe),onToggle:pe=>f(j.type),onResetFlow:W[1]||(W[1]=pe=>v.$emit("reset-flow"))},ht({"button-icon":Se(()=>[v.$slots["clock-icon"]?de(v.$slots,"clock-icon",{key:0}):Q("",!0),v.$slots["clock-icon"]?Q("",!0):(I(),Ae(Xi(v.timePickerInline?y(Pn):y(Es)),{key:1}))]),_:2},[v.$slots[`${j.type}-overlay-value`]?{name:"item",fn:Se(({item:pe})=>[de(v.$slots,`${j.type}-overlay-value`,{text:pe.text,value:pe.value})]),key:"0"}:void 0,v.$slots[`${j.type}-overlay-header`]?{name:"header",fn:Se(()=>[de(v.$slots,`${j.type}-overlay-header`,{toggle:()=>f(j.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):Q("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Bp={class:"dp--tp-wrap"},Up=["aria-label","tabindex"],Lp=["role","aria-label","tabindex"],zp=["aria-label"],uu=rt({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Kt},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:e,emit:a}){const n=a,i=t,{buildMatrix:r,setTimePicker:s}=Ma(),o=sn(),{defaultedTransitions:l,defaultedAriaLabels:u,defaultedTextInput:c,defaultedConfig:d,defaultedRange:p}=Ue(i),{transitionName:m,showTransition:b}=gi(l),{hideNavigationButtons:w}=tr(),M=Z(null),x=Z(null),S=Z([]),P=Z(null),E=Z(!1);ot(()=>{n("mount"),!i.timePicker&&i.arrowNavigation?r([Ze(M.value)],"time"):s(!0,i.timePicker)});const q=X(()=>p.value.enabled&&i.modelAuto?Wl(i.internalModelValue):!0),D=Z(!1),_=Y=>({hours:Array.isArray(i.hours)?i.hours[Y]:i.hours,minutes:Array.isArray(i.minutes)?i.minutes[Y]:i.minutes,seconds:Array.isArray(i.seconds)?i.seconds[Y]:i.seconds}),L=X(()=>{const Y=[];if(p.value.enabled)for(let se=0;se<2;se++)Y.push(_(se));else Y.push(_(0));return Y}),U=(Y,se=!1,ve="")=>{se||n("reset-flow"),D.value=Y,n(Y?"overlay-opened":"overlay-closed",dt.time),i.arrowNavigation&&s(Y),Et(()=>{ve!==""&&S.value[0]&&S.value[0].openChildCmp(ve)})},R=X(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:i.autoApply&&!d.value.keepActionRow})),te=At(o,"timePicker"),ue=(Y,se,ve)=>p.value.enabled?se===0?[Y,L.value[1][ve]]:[L.value[0][ve],Y]:Y,fe=Y=>{n("update:hours",Y)},B=Y=>{n("update:minutes",Y)},O=Y=>{n("update:seconds",Y)},F=()=>{if(P.value&&!c.value.enabled&&!i.noOverlayFocus){const Y=Gl(P.value);Y&&Y.focus({preventScroll:!0})}},H=Y=>{E.value=!1,n("overlay-closed",Y)},re=Y=>{E.value=!0,n("overlay-opened",Y)};return e({toggleTimePicker:U}),(Y,se)=>{var ve;return I(),G("div",Bp,[!Y.timePicker&&!Y.timePickerInline?Ni((I(),G("button",{key:0,ref_key:"openTimePickerBtn",ref:M,type:"button",class:Fe({...R.value,"dp--hidden-el":D.value}),"aria-label":(ve=y(u))==null?void 0:ve.openTimePicker,tabindex:Y.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:se[0]||(se[0]=k=>y(wt)(k,()=>U(!0))),onClick:se[1]||(se[1]=k=>U(!0))},[Y.$slots["clock-icon"]?de(Y.$slots,"clock-icon",{key:0}):Q("",!0),Y.$slots["clock-icon"]?Q("",!0):(I(),Ae(y(Es),{key:1}))],42,Up)),[[Bi,!y(w)(Y.hideNavigation,"time")]]):Q("",!0),Mt(_n,{name:y(m)(D.value),css:y(b)&&!Y.timePickerInline},{default:Se(()=>{var k,T;return[D.value||Y.timePicker||Y.timePickerInline?(I(),G("div",{key:0,ref_key:"overlayRef",ref:P,role:Y.timePickerInline?void 0:"dialog",class:Fe({dp__overlay:!Y.timePickerInline,"dp--overlay-absolute":!i.timePicker&&!Y.timePickerInline,"dp--overlay-relative":i.timePicker}),style:Bt(Y.timePicker?{height:`${y(d).modeHeight}px`}:void 0),"aria-label":(k=y(u))==null?void 0:k.timePicker,tabindex:Y.timePickerInline?void 0:0},[_e("div",{class:Fe(Y.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[Y.$slots["time-picker-overlay"]?de(Y.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:fe,setMinutes:B,setSeconds:O}):Q("",!0),Y.$slots["time-picker-overlay"]?Q("",!0):(I(),G("div",{key:1,class:Fe(Y.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(I(!0),G(Te,null,Be(L.value,(f,C)=>Ni((I(),Ae(Np,nt({key:C,ref_for:!0},{...Y.$props,order:C,hours:f.hours,minutes:f.minutes,seconds:f.seconds,closeTimePickerBtn:x.value,disabledTimesConfig:t.disabledTimesConfig,disabled:C===0?y(p).fixedStart:y(p).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:S,"validate-time":(V,g)=>t.validateTime(V,ue(g,C,V)),"onUpdate:hours":V=>fe(ue(V,C,"hours")),"onUpdate:minutes":V=>B(ue(V,C,"minutes")),"onUpdate:seconds":V=>O(ue(V,C,"seconds")),onMounted:F,onOverlayClosed:H,onOverlayOpened:re,onAmPmChange:se[2]||(se[2]=V=>Y.$emit("am-pm-change",V))}),ht({_:2},[Be(y(te),(V,g)=>({name:V,fn:Se(oe=>[de(Y.$slots,V,nt({ref_for:!0},oe))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Bi,C===0?!0:q.value]])),128))],2)),!Y.timePicker&&!Y.timePickerInline?Ni((I(),G("button",{key:2,ref_key:"closeTimePickerBtn",ref:x,type:"button",class:Fe({...R.value,"dp--hidden-el":E.value}),"aria-label":(T=y(u))==null?void 0:T.closeTimePicker,tabindex:"0",onKeydown:se[3]||(se[3]=f=>y(wt)(f,()=>U(!1))),onClick:se[4]||(se[4]=f=>U(!1))},[Y.$slots["calendar-icon"]?de(Y.$slots,"calendar-icon",{key:0}):Q("",!0),Y.$slots["calendar-icon"]?Q("",!0):(I(),Ae(y(Pn),{key:1}))],42,zp)),[[Bi,!y(w)(Y.hideNavigation,"time")]]):Q("",!0)],2)],14,Lp)):Q("",!0)]}),_:3},8,["name","css"])])}}}),du=(t,e,a,n)=>{const{defaultedRange:i}=Ue(t),r=(P,E)=>Array.isArray(e[P])?e[P][E]:e[P],s=P=>t.enableSeconds?Array.isArray(e.seconds)?e.seconds[P]:e.seconds:0,o=(P,E)=>P?E!==void 0?Aa(P,r("hours",E),r("minutes",E),s(E)):Aa(P,e.hours,e.minutes,s()):jl(K(),s(E)),l=(P,E)=>{e[P]=E},u=X(()=>t.modelAuto&&i.value.enabled?Array.isArray(a.value)?a.value.length>1:!1:i.value.enabled),c=(P,E)=>{const q=Object.fromEntries(Object.keys(e).map(D=>D===P?[D,E]:[D,e[D]].slice()));if(u.value&&!i.value.disableTimeRangeValidation){const D=L=>a.value?Aa(a.value[L],q.hours[L],q.minutes[L],q.seconds[L]):null,_=L=>Hl(a.value[L],0);return!(De(D(0),D(1))&&(gn(D(0),_(1))||oi(D(1),_(0))))}return!0},d=(P,E)=>{c(P,E)&&(l(P,E),n&&n())},p=P=>{d("hours",P)},m=P=>{d("minutes",P)},b=P=>{d("seconds",P)},w=(P,E,q,D)=>{E&&p(P),!E&&!q&&m(P),q&&b(P),a.value&&D(a.value)},M=P=>{if(P){const E=Array.isArray(P),q=E?[+P[0].hours,+P[1].hours]:+P.hours,D=E?[+P[0].minutes,+P[1].minutes]:+P.minutes,_=E?[+P[0].seconds,+P[1].seconds]:+P.seconds;l("hours",q),l("minutes",D),t.enableSeconds&&l("seconds",_)}},x=(P,E)=>{const q={hours:Array.isArray(e.hours)?e.hours[P]:e.hours,disabledArr:[]};return(E||E===0)&&(q.hours=E),Array.isArray(t.disabledTimes)&&(q.disabledArr=i.value.enabled&&Array.isArray(t.disabledTimes[P])?t.disabledTimes[P]:t.disabledTimes),q},S=X(()=>(P,E)=>{var q;if(Array.isArray(t.disabledTimes)){const{disabledArr:D,hours:_}=x(P,E),L=D.filter(U=>+U.hours===_);return((q=L[0])==null?void 0:q.minutes)==="*"?{hours:[_],minutes:void 0,seconds:void 0}:{hours:[],minutes:(L==null?void 0:L.map(U=>+U.minutes))??[],seconds:(L==null?void 0:L.map(U=>U.seconds?+U.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:p,updateMinutes:m,updateSeconds:b,getSetDateTime:o,updateTimeValues:w,getSecondsValue:s,assignStartTime:M,validateTime:c,disabledTimesConfig:S}},Hp=(t,e)=>{const a=()=>{t.isTextInputDate&&E()},{modelValue:n,time:i}=yi(t,e,a),{defaultedStartTime:r,defaultedRange:s,defaultedTz:o}=Ue(t),{updateTimeValues:l,getSetDateTime:u,setTime:c,assignStartTime:d,disabledTimesConfig:p,validateTime:m}=du(t,i,n,b);function b(){e("update-flow-step")}const w=D=>{const{hours:_,minutes:L,seconds:U}=D;return{hours:+_,minutes:+L,seconds:U?+U:0}},M=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const _=w(t.startTime[0]),L=w(t.startTime[1]);return[Re(K(),_),Re(K(),L)]}const D=w(t.startTime);return Re(K(),D)}return s.value.enabled?[null,null]:null},x=()=>{if(s.value.enabled){const[D,_]=M();n.value=[Pt(u(D,0),o.value.timezone),Pt(u(_,1),o.value.timezone)]}else n.value=Pt(u(M()),o.value.timezone)},S=D=>Array.isArray(D)?[en(K(D[0])),en(K(D[1]))]:[en(D??K())],P=(D,_,L)=>{c("hours",D),c("minutes",_),c("seconds",t.enableSeconds?L:0)},E=()=>{const[D,_]=S(n.value);return s.value.enabled?P([D.hours,_.hours],[D.minutes,_.minutes],[D.seconds,_.seconds]):P(D.hours,D.minutes,D.seconds)};ot(()=>{if(!t.shadow)return d(r.value),n.value?E():x()});const q=()=>{Array.isArray(n.value)?n.value=n.value.map((D,_)=>D&&u(D,_)):n.value=u(n.value),e("time-update")};return{modelValue:n,time:i,disabledTimesConfig:p,updateTime:(D,_=!0,L=!1)=>{l(D,_,L,q)},validateTime:m}},jp=rt({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Kt},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(t,{expose:e,emit:a}){const n=a,i=t,r=sn(),s=At(r,"timePicker"),o=Z(null),{time:l,modelValue:u,disabledTimesConfig:c,updateTime:d,validateTime:p}=Hp(i,n);return ot(()=>{i.shadow||n("mount",null)}),e({getSidebarProps:()=>({modelValue:u,time:l,updateTime:d}),toggleTimePicker:(m,b=!1,w="")=>{var M;(M=o.value)==null||M.toggleTimePicker(m,b,w)}}),(m,b)=>(I(),Ae(Zi,{"multi-calendars":0,stretch:""},{default:Se(()=>[Mt(uu,nt({ref_key:"tpRef",ref:o},m.$props,{hours:y(l).hours,minutes:y(l).minutes,seconds:y(l).seconds,"internal-model-value":m.internalModelValue,"disabled-times-config":y(c),"validate-time":y(p),"onUpdate:hours":b[0]||(b[0]=w=>y(d)(w)),"onUpdate:minutes":b[1]||(b[1]=w=>y(d)(w,!1)),"onUpdate:seconds":b[2]||(b[2]=w=>y(d)(w,!1,!0)),onAmPmChange:b[3]||(b[3]=w=>m.$emit("am-pm-change",w)),onResetFlow:b[4]||(b[4]=w=>m.$emit("reset-flow")),onOverlayClosed:b[5]||(b[5]=w=>m.$emit("overlay-toggle",{open:!1,overlay:w})),onOverlayOpened:b[6]||(b[6]=w=>m.$emit("overlay-toggle",{open:!0,overlay:w}))}),ht({_:2},[Be(y(s),(w,M)=>({name:w,fn:Se(x=>[de(m.$slots,w,at(kt(x)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),qp={class:"dp--header-wrap"},Yp={key:0,class:"dp__month_year_wrap"},Vp={key:0},Wp={class:"dp__month_year_wrap"},Gp=["data-dp-element","aria-label","data-test","onClick","onKeydown"],Kp=rt({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Kt},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(t,{expose:e,emit:a}){const n=a,i=t,{defaultedTransitions:r,defaultedAriaLabels:s,defaultedMultiCalendars:o,defaultedFilters:l,defaultedConfig:u,defaultedHighlight:c,propDates:d,defaultedUI:p}=Ue(i),{transitionName:m,showTransition:b}=gi(r),{buildMatrix:w}=Ma(),{handleMonthYearChange:M,isDisabled:x,updateMonthYear:S}=pp(i,n),{showLeftIcon:P,showRightIcon:E}=tr(),q=Z(!1),D=Z(!1),_=Z(!1),L=Z([null,null,null,null]);ot(()=>{n("mount")});const U=T=>({get:()=>i[T],set:f=>{const C=T===Ut.month?Ut.year:Ut.month;n("update-month-year",{[T]:f,[C]:i[C]}),T===Ut.month?H(!0):re(!0)}}),R=X(U(Ut.month)),te=X(U(Ut.year)),ue=X(()=>T=>({month:i.month,year:i.year,items:T===Ut.month?i.months:i.years,instance:i.instance,updateMonthYear:S,toggle:T===Ut.month?H:re})),fe=X(()=>i.months.find(f=>f.value===i.month)||{text:"",value:0}),B=X(()=>bn(i.months,T=>{const f=i.month===T.value,C=li(T.value,Xl(i.year,d.value.minDate),Ql(i.year,d.value.maxDate))||l.value.months.includes(T.value),V=au(c.value,T.value,i.year);return{active:f,disabled:C,highlighted:V}})),O=X(()=>bn(i.years,T=>{const f=i.year===T.value,C=li(T.value,wn(d.value.minDate),wn(d.value.maxDate))||l.value.years.includes(T.value),V=Ls(c.value,T.value);return{active:f,disabled:C,highlighted:V}})),F=(T,f,C)=>{C!==void 0?T.value=C:T.value=!T.value,T.value?(_.value=!0,n("overlay-opened",f)):(_.value=!1,n("overlay-closed",f))},H=(T=!1,f)=>{Y(T),F(q,dt.month,f)},re=(T=!1,f)=>{Y(T),F(D,dt.year,f)},Y=T=>{T||n("reset-flow")},se=(T,f)=>{i.arrowNavigation&&(L.value[f]=Ze(T),w(L.value,"monthYear"))},ve=X(()=>{var T,f,C,V,g,oe;return[{type:Ut.month,index:1,toggle:H,modelValue:R.value,updateModelValue:ye=>R.value=ye,text:fe.value.text,showSelectionGrid:q.value,items:B.value,ariaLabel:(T=s.value)==null?void 0:T.openMonthsOverlay,overlayLabel:((C=(f=s.value).monthPicker)==null?void 0:C.call(f,!0))??void 0},{type:Ut.year,index:2,toggle:re,modelValue:te.value,updateModelValue:ye=>te.value=ye,text:Kl(i.year,i.locale),showSelectionGrid:D.value,items:O.value,ariaLabel:(V=s.value)==null?void 0:V.openYearsOverlay,overlayLabel:((oe=(g=s.value).yearPicker)==null?void 0:oe.call(g,!0))??void 0}]}),k=X(()=>i.disableYearSelect?[ve.value[0]]:i.yearFirst?[...ve.value].reverse():ve.value);return e({toggleMonthPicker:H,toggleYearPicker:re,handleMonthYearChange:M}),(T,f)=>{var C,V,g,oe,ye,Qe;return I(),G("div",qp,[T.$slots["month-year"]?(I(),G("div",Yp,[de(T.$slots,"month-year",at(kt({month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:y(S),handleMonthYearChange:y(M),instance:t.instance})))])):(I(),G(Te,{key:1},[T.$slots["top-extra"]?(I(),G("div",Vp,[de(T.$slots,"top-extra",{value:T.internalModelValue})])):Q("",!0),_e("div",Wp,[y(P)(y(o),t.instance)&&!T.vertical?(I(),Ae(ti,{key:0,"aria-label":(C=y(s))==null?void 0:C.prevMonth,disabled:y(x)(!1),class:Fe((V=y(p))==null?void 0:V.navBtnPrev),"el-name":"action-prev",onActivate:f[0]||(f[0]=N=>y(M)(!1,!0)),onSetRef:f[1]||(f[1]=N=>se(N,0))},{default:Se(()=>[T.$slots["arrow-left"]?de(T.$slots,"arrow-left",{key:0}):Q("",!0),T.$slots["arrow-left"]?Q("",!0):(I(),Ae(y(Cs),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Q("",!0),_e("div",{class:Fe(["dp__month_year_wrap",{dp__year_disable_select:T.disableYearSelect}])},[(I(!0),G(Te,null,Be(k.value,(N,ee)=>(I(),G(Te,{key:N.type},[_e("button",{ref_for:!0,ref:v=>se(v,ee+1),type:"button","data-dp-element":`overlay-${N.type}`,class:Fe(["dp__btn dp__month_year_select",{"dp--hidden-el":_.value}]),"aria-label":`${N.text}-${N.ariaLabel}`,"data-test":`${N.type}-toggle-overlay-${t.instance}`,onClick:N.toggle,onKeydown:v=>y(wt)(v,()=>N.toggle(),!0)},[T.$slots[N.type]?de(T.$slots,N.type,{key:0,text:N.text,value:i[N.type]}):Q("",!0),T.$slots[N.type]?Q("",!0):(I(),G(Te,{key:1},[wa(ct(N.text),1)],64))],42,Gp),Mt(_n,{name:y(m)(N.showSelectionGrid),css:y(b)},{default:Se(()=>[N.showSelectionGrid?(I(),Ae(vi,{key:0,items:N.items,"arrow-navigation":T.arrowNavigation,"hide-navigation":T.hideNavigation,"is-last":T.autoApply&&!y(u).keepActionRow,"skip-button-ref":!1,config:T.config,type:N.type,"header-refs":[],"esc-close":T.escClose,"menu-wrap-ref":T.menuWrapRef,"text-input":T.textInput,"aria-labels":T.ariaLabels,"overlay-label":N.overlayLabel,onSelected:N.updateModelValue,onToggle:N.toggle},ht({"button-icon":Se(()=>[T.$slots["calendar-icon"]?de(T.$slots,"calendar-icon",{key:0}):Q("",!0),T.$slots["calendar-icon"]?Q("",!0):(I(),Ae(y(Pn),{key:1}))]),_:2},[T.$slots[`${N.type}-overlay-value`]?{name:"item",fn:Se(({item:v})=>[de(T.$slots,`${N.type}-overlay-value`,{text:v.text,value:v.value})]),key:"0"}:void 0,T.$slots[`${N.type}-overlay`]?{name:"overlay",fn:Se(()=>[de(T.$slots,`${N.type}-overlay`,nt({ref_for:!0},ue.value(N.type)))]),key:"1"}:void 0,T.$slots[`${N.type}-overlay-header`]?{name:"header",fn:Se(()=>[de(T.$slots,`${N.type}-overlay-header`,{toggle:N.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):Q("",!0)]),_:2},1032,["name","css"])],64))),128))],2),y(P)(y(o),t.instance)&&T.vertical?(I(),Ae(ti,{key:1,"aria-label":(g=y(s))==null?void 0:g.prevMonth,"el-name":"action-prev",disabled:y(x)(!1),class:Fe((oe=y(p))==null?void 0:oe.navBtnPrev),onActivate:f[2]||(f[2]=N=>y(M)(!1,!0))},{default:Se(()=>[T.$slots["arrow-up"]?de(T.$slots,"arrow-up",{key:0}):Q("",!0),T.$slots["arrow-up"]?Q("",!0):(I(),Ae(y($s),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Q("",!0),y(E)(y(o),t.instance)?(I(),Ae(ti,{key:2,ref:"rightIcon","el-name":"action-next",disabled:y(x)(!0),"aria-label":(ye=y(s))==null?void 0:ye.nextMonth,class:Fe((Qe=y(p))==null?void 0:Qe.navBtnNext),onActivate:f[3]||(f[3]=N=>y(M)(!0,!0)),onSetRef:f[4]||(f[4]=N=>se(N,T.disableYearSelect?2:3))},{default:Se(()=>[T.$slots[T.vertical?"arrow-down":"arrow-right"]?de(T.$slots,T.vertical?"arrow-down":"arrow-right",{key:0}):Q("",!0),T.$slots[T.vertical?"arrow-down":"arrow-right"]?Q("",!0):(I(),Ae(Xi(T.vertical?y(Rs):y(Ms)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):Q("",!0)])],64))])}}}),Xp={class:"dp__calendar_header",role:"row"},Qp={key:0,class:"dp__calendar_header_item",role:"gridcell"},Jp=["aria-label"],Zp=_e("div",{class:"dp__calendar_header_separator"},null,-1),ef={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},tf={class:"dp__cell_inner"},af=["id","aria-pressed","aria-disabled","aria-label","data-test","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],nf=rt({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Kt},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:e,emit:a}){const n=a,i=t,{buildMultiLevelMatrix:r}=Ma(),{defaultedTransitions:s,defaultedConfig:o,defaultedAriaLabels:l,defaultedMultiCalendars:u,defaultedWeekNumbers:c,defaultedMultiDates:d,defaultedUI:p}=Ue(i),m=Z(null),b=Z({bottom:"",left:"",transform:""}),w=Z([]),M=Z(null),x=Z(!0),S=Z(""),P=Z({startX:0,endX:0,startY:0,endY:0}),E=Z([]),q=Z({left:"50%"}),D=Z(!1),_=X(()=>i.calendar?i.calendar(i.mappedDates):i.mappedDates),L=X(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames(i.locale,+i.weekStart):$h(i.formatLocale,i.locale,+i.weekStart));ot(()=>{n("mount",{cmp:"calendar",refs:w}),o.value.noSwipe||M.value&&(M.value.addEventListener("touchstart",se,{passive:!1}),M.value.addEventListener("touchend",ve,{passive:!1}),M.value.addEventListener("touchmove",k,{passive:!1})),i.monthChangeOnScroll&&M.value&&M.value.addEventListener("wheel",C,{passive:!1})});const U=N=>N?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",R=(N,ee)=>{if(i.transitions){const v=_t(ga(K(),i.month,i.year));S.value=Ve(_t(ga(K(),N,ee)),v)?s.value[U(!0)]:s.value[U(!1)],x.value=!1,Et(()=>{x.value=!0})}},te=X(()=>({...p.value.calendar??{}})),ue=X(()=>N=>{const ee=Ih(N);return{dp__marker_dot:ee.type==="dot",dp__marker_line:ee.type==="line"}}),fe=X(()=>N=>De(N,m.value)),B=X(()=>({dp__calendar:!0,dp__calendar_next:u.value.count>0&&i.instance!==0})),O=X(()=>N=>i.hideOffsetDates?N.current:!0),F=async(N,ee)=>{const{width:v,height:W}=N.getBoundingClientRect();m.value=ee.value;let ae={left:`${v/2}px`},j=-50;if(await Et(),E.value[0]){const{left:ke,width:$}=E.value[0].getBoundingClientRect();ke<0&&(ae={left:"0"},j=0,q.value.left=`${v/2}px`),window.innerWidth<ke+$&&(ae={right:"0"},j=0,q.value.left=`${$-v/2}px`)}b.value={bottom:`${W}px`,...ae,transform:`translateX(${j}%)`}},H=async(N,ee,v)=>{var W,ae,j;const ke=Ze(w.value[ee][v]);ke&&((W=N.marker)!=null&&W.customPosition&&(j=(ae=N.marker)==null?void 0:ae.tooltip)!=null&&j.length?b.value=N.marker.customPosition(ke):await F(ke,N),n("tooltip-open",N.marker))},re=async(N,ee,v)=>{var W,ae;if(D.value&&d.value.enabled&&d.value.dragSelect)return n("select-date",N);n("set-hover-date",N),(ae=(W=N.marker)==null?void 0:W.tooltip)!=null&&ae.length&&await H(N,ee,v)},Y=N=>{m.value&&(m.value=null,b.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",N.marker))},se=N=>{P.value.startX=N.changedTouches[0].screenX,P.value.startY=N.changedTouches[0].screenY},ve=N=>{P.value.endX=N.changedTouches[0].screenX,P.value.endY=N.changedTouches[0].screenY,T()},k=N=>{i.vertical&&!i.inline&&N.preventDefault()},T=()=>{const N=i.vertical?"Y":"X";Math.abs(P.value[`start${N}`]-P.value[`end${N}`])>10&&n("handle-swipe",P.value[`start${N}`]>P.value[`end${N}`]?"right":"left")},f=(N,ee,v)=>{N&&(Array.isArray(w.value[ee])?w.value[ee][v]=N:w.value[ee]=[N]),i.arrowNavigation&&r(w.value,"calendar")},C=N=>{i.monthChangeOnScroll&&(N.preventDefault(),n("handle-scroll",N))},V=N=>c.value.type==="local"?Ds(N.value,{weekStartsOn:+i.weekStart}):c.value.type==="iso"?Fs(N.value):typeof c.value.type=="function"?c.value.type(N.value):"",g=N=>{const ee=N[0];return c.value.hideOnOffsetDates?N.some(v=>v.current)?V(ee):"":V(ee)},oe=(N,ee,v=!0)=>{v&&zh()||d.value.enabled||(Oa(N,o.value),n("select-date",ee))},ye=N=>{Oa(N,o.value)},Qe=N=>{d.value.enabled&&d.value.dragSelect?(D.value=!0,n("select-date",N)):d.value.enabled&&n("select-date",N)};return e({triggerTransition:R}),(N,ee)=>(I(),G("div",{class:Fe(B.value)},[_e("div",{ref_key:"calendarWrapRef",ref:M,class:Fe(te.value),role:"grid"},[_e("div",Xp,[N.weekNumbers?(I(),G("div",Qp,ct(N.weekNumName),1)):Q("",!0),(I(!0),G(Te,null,Be(L.value,(v,W)=>{var ae,j;return I(),G("div",{key:W,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":(j=(ae=y(l))==null?void 0:ae.weekDay)==null?void 0:j.call(ae,W)},[N.$slots["calendar-header"]?de(N.$slots,"calendar-header",{key:0,day:v,index:W}):Q("",!0),N.$slots["calendar-header"]?Q("",!0):(I(),G(Te,{key:1},[wa(ct(v),1)],64))],8,Jp)}),128))]),Zp,Mt(_n,{name:S.value,css:!!N.transitions},{default:Se(()=>[x.value?(I(),G("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:ee[1]||(ee[1]=v=>D.value=!1)},[(I(!0),G(Te,null,Be(_.value,(v,W)=>(I(),G("div",{key:W,class:"dp__calendar_row",role:"row"},[N.weekNumbers?(I(),G("div",ef,[_e("div",tf,ct(g(v.days)),1)])):Q("",!0),(I(!0),G(Te,null,Be(v.days,(ae,j)=>{var ke,$,J;return I(),G("div",{id:y(nu)(ae.value),ref_for:!0,ref:pe=>f(pe,W,j),key:j+W,role:"gridcell",class:"dp__calendar_item","aria-pressed":(ae.classData.dp__active_date||ae.classData.dp__range_start||ae.classData.dp__range_start)??void 0,"aria-disabled":ae.classData.dp__cell_disabled||void 0,"aria-label":($=(ke=y(l))==null?void 0:ke.day)==null?void 0:$.call(ke,ae),tabindex:"0","data-test":ae.value,onClick:ri(pe=>oe(pe,ae),["prevent"]),onTouchend:pe=>oe(pe,ae,!1),onKeydown:pe=>y(wt)(pe,()=>N.$emit("select-date",ae)),onMouseenter:pe=>re(ae,W,j),onMouseleave:pe=>Y(ae),onMousedown:pe=>Qe(ae),onMouseup:ee[0]||(ee[0]=pe=>D.value=!1)},[_e("div",{class:Fe(["dp__cell_inner",ae.classData])},[N.$slots.day&&O.value(ae)?de(N.$slots,"day",{key:0,day:+ae.text,date:ae.value}):Q("",!0),N.$slots.day?Q("",!0):(I(),G(Te,{key:1},[wa(ct(ae.text),1)],64)),ae.marker&&O.value(ae)?(I(),G(Te,{key:2},[N.$slots.marker?de(N.$slots,"marker",{key:0,marker:ae.marker,day:+ae.text,date:ae.value}):(I(),G("div",{key:1,class:Fe(ue.value(ae.marker)),style:Bt(ae.marker.color?{backgroundColor:ae.marker.color}:{})},null,6))],64)):Q("",!0),fe.value(ae.value)?(I(),G("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:E,class:"dp__marker_tooltip",style:Bt(b.value)},[(J=ae.marker)!=null&&J.tooltip?(I(),G("div",{key:0,class:"dp__tooltip_content",onClick:ye},[(I(!0),G(Te,null,Be(ae.marker.tooltip,(pe,Pe)=>(I(),G("div",{key:Pe,class:"dp__tooltip_text"},[N.$slots["marker-tooltip"]?de(N.$slots,"marker-tooltip",{key:0,tooltip:pe,day:ae.value}):Q("",!0),N.$slots["marker-tooltip"]?Q("",!0):(I(),G(Te,{key:1},[_e("div",{class:"dp__tooltip_mark",style:Bt(pe.color?{backgroundColor:pe.color}:{})},null,4),_e("div",null,ct(pe.text),1)],64))]))),128)),_e("div",{class:"dp__arrow_bottom_tp",style:Bt(q.value)},null,4)])):Q("",!0)],4)):Q("",!0)],2)],40,af)}),128))]))),128))],32)):Q("",!0)]),_:3},8,["name","css"])],2)],2))}}),Po=t=>Array.isArray(t),rf=(t,e,a,n)=>{const i=Z([]),r=Z(new Date),s=Z(),o=()=>se(t.isTextInputDate),{modelValue:l,calendars:u,time:c,today:d}=yi(t,e,o),{defaultedMultiCalendars:p,defaultedStartTime:m,defaultedRange:b,defaultedConfig:w,defaultedTz:M,propDates:x,defaultedMultiDates:S}=Ue(t),{validateMonthYearInRange:P,isDisabled:E,isDateRangeAllowed:q,checkMinMaxRange:D}=Ea(t),{updateTimeValues:_,getSetDateTime:L,setTime:U,assignStartTime:R,validateTime:te,disabledTimesConfig:ue}=du(t,c,l,n),fe=X(()=>A=>u.value[A]?u.value[A].month:0),B=X(()=>A=>u.value[A]?u.value[A].year:0),O=A=>!w.value.keepViewOnOffsetClick||A?!0:!s.value,F=(A,ie,z,ne=!1)=>{var le,pt;O(ne)&&(u.value[A]||(u.value[A]={month:0,year:0}),u.value[A].month=yo(ie)?(le=u.value[A])==null?void 0:le.month:ie,u.value[A].year=yo(z)?(pt=u.value[A])==null?void 0:pt.year:z)},H=()=>{t.autoApply&&e("select-date")};ot(()=>{t.shadow||(l.value||(N(),m.value&&R(m.value)),se(!0),t.focusStartDate&&t.startDate&&N())});const re=X(()=>{var A;return(A=t.flow)!=null&&A.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),Y=()=>{t.autoApply&&re.value&&e("auto-apply",t.partialFlow?t.flowStep!==t.flow.length:!1)},se=(A=!1)=>{if(l.value)return Array.isArray(l.value)?(i.value=l.value,g(A)):T(l.value,A);if(p.value.count&&A&&!t.startDate)return k(K(),A)},ve=()=>Array.isArray(l.value)&&b.value.enabled?xe(l.value[0])===xe(l.value[1]??l.value[0]):!1,k=(A=new Date,ie=!1)=>{if((!p.value.count||!p.value.static||ie)&&F(0,xe(A),we(A)),p.value.count&&(!p.value.solo||!l.value||ve()))for(let z=1;z<p.value.count;z++){const ne=Re(K(),{month:fe.value(z-1),year:B.value(z-1)}),le=Tl(ne,{months:1});u.value[z]={month:xe(le),year:we(le)}}},T=(A,ie)=>{k(A),U("hours",_a(A)),U("minutes",Ca(A)),U("seconds",vn(A)),p.value.count&&ie&&Qe()},f=A=>{if(p.value.count){if(p.value.solo)return 0;const ie=xe(A[0]),z=xe(A[1]);return Math.abs(z-ie)<p.value.count?0:1}return 1},C=(A,ie)=>{A[1]&&b.value.showLastInRange?k(A[f(A)],ie):k(A[0],ie);const z=(ne,le)=>[ne(A[0]),A[1]?ne(A[1]):c[le][1]];U("hours",z(_a,"hours")),U("minutes",z(Ca,"minutes")),U("seconds",z(vn,"seconds"))},V=(A,ie)=>{if((b.value.enabled||t.weekPicker)&&!S.value.enabled)return C(A,ie);if(S.value.enabled&&ie){const z=A[A.length-1];return T(z,ie)}},g=A=>{const ie=l.value;V(ie,A),p.value.count&&p.value.solo&&Qe()},oe=(A,ie)=>{const z=Re(K(),{month:fe.value(ie),year:B.value(ie)}),ne=A<0?Vt(z,1):yn(z,1);P(xe(ne),we(ne),A<0,t.preventMinMaxNavigation)&&(F(ie,xe(ne),we(ne)),e("update-month-year",{instance:ie,month:xe(ne),year:we(ne)}),p.value.count&&!p.value.solo&&ye(ie),a())},ye=A=>{for(let ie=A-1;ie>=0;ie--){const z=yn(Re(K(),{month:fe.value(ie+1),year:B.value(ie+1)}),1);F(ie,xe(z),we(z))}for(let ie=A+1;ie<=p.value.count-1;ie++){const z=Vt(Re(K(),{month:fe.value(ie-1),year:B.value(ie-1)}),1);F(ie,xe(z),we(z))}},Qe=()=>{if(Array.isArray(l.value)&&l.value.length===2){const A=K(K(l.value[1]?l.value[1]:Vt(l.value[0],1))),[ie,z]=[xe(l.value[0]),we(l.value[0])],[ne,le]=[xe(l.value[1]),we(l.value[1])];(ie!==ne||ie===ne&&z!==le)&&p.value.solo&&F(1,xe(A),we(A))}else l.value&&!Array.isArray(l.value)&&(F(0,xe(l.value),we(l.value)),k(K()))},N=()=>{t.startDate&&(F(0,xe(K(t.startDate)),we(K(t.startDate))),p.value.count&&ye(0))},ee=(A,ie)=>{if(t.monthChangeOnScroll){const z=new Date().getTime()-r.value.getTime(),ne=Math.abs(A.deltaY);let le=500;ne>1&&(le=100),ne>100&&(le=0),z>le&&(r.value=new Date,oe(t.monthChangeOnScroll!=="inverse"?-A.deltaY:A.deltaY,ie))}},v=(A,ie,z=!1)=>{t.monthChangeOnArrows&&t.vertical===z&&W(A,ie)},W=(A,ie)=>{oe(A==="right"?-1:1,ie)},ae=A=>{if(x.value.markers)return qi(A.value,x.value.markers)},j=(A,ie)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[A==0,!0];case"fair":return[A==0||ie>A,!0];case"append":return[!1,!1];default:return[!1,!1]}},ke=(A,ie,z,ne)=>{if(t.sixWeeks&&A.length<6){const le=6-A.length,pt=(ie.getDay()+7-ne)%7,Rt=6-(z.getDay()+7-ne)%7,[$a,_i]=j(pt,Rt);for(let Dn=1;Dn<=le;Dn++)if(_i?!!(Dn%2)==$a:$a){const Pa=A[0].days[0],cr=$(qt(Pa.value,-7),xe(ie));A.unshift({days:cr})}else{const Pa=A[A.length-1],cr=Pa.days[Pa.days.length-1],md=$(qt(cr.value,1),xe(ie));A.push({days:md})}}return A},$=(A,ie)=>{const z=K(A),ne=[];for(let le=0;le<7;le++){const pt=qt(z,le),Rt=xe(pt)!==ie;ne.push({text:t.hideOffsetDates&&Rt?"":pt.getDate(),value:pt,current:!Rt,classData:{}})}return ne},J=(A,ie)=>{const z=[],ne=new Date(ie,A),le=new Date(ie,A+1,0),pt=t.weekStart,Rt=Wt(ne,{weekStartsOn:pt}),$a=_i=>{const Dn=$(_i,A);if(z.push({days:Dn}),!z[z.length-1].days.some(Pa=>De(_t(Pa.value),_t(le)))){const Pa=qt(_i,7);$a(Pa)}};return $a(Rt),ke(z,ne,le,pt)},pe=A=>{const ie=Aa(K(A.value),c.hours,c.minutes,St());e("date-update",ie),S.value.enabled?zs(ie,l,S.value.limit):l.value=ie,n(),Et().then(()=>{Y()})},Pe=A=>b.value.noDisabledRange?Jl(i.value[0],A).some(ie=>E(ie)):!1,$t=()=>{i.value=l.value?l.value.slice():[],i.value.length===2&&!(b.value.fixedStart||b.value.fixedEnd)&&(i.value=[])},ge=(A,ie)=>{const z=[K(A.value),qt(K(A.value),+b.value.autoRange)];q(z)?(ie&&ka(A.value),i.value=z):e("invalid-date",A.value)},ka=A=>{const ie=xe(K(A)),z=we(K(A));if(F(0,ie,z),p.value.count>0)for(let ne=1;ne<p.value.count;ne++){const le=qh(Re(K(A),{year:B.value(ne-1),month:fe.value(ne-1)}));F(ne,le.month,le.year)}},Xt=A=>{if(Pe(A.value)||!D(A.value,l.value,b.value.fixedStart?0:1))return e("invalid-date",A.value);i.value=ou(K(A.value),l,e,b)},Fn=(A,ie)=>{if($t(),b.value.autoRange)return ge(A,ie);if(b.value.fixedStart||b.value.fixedEnd)return Xt(A);i.value[0]?D(K(A.value),l.value)&&!Pe(A.value)?je(K(A.value),K(i.value[0]))?(i.value.unshift(K(A.value)),e("range-end",i.value[0])):(i.value[1]=K(A.value),e("range-end",i.value[1])):(t.autoApply&&e("auto-apply-invalid",A.value),e("invalid-date",A.value)):(i.value[0]=K(A.value),e("range-start",i.value[0]))},St=(A=!0)=>t.enableSeconds?Array.isArray(c.seconds)?A?c.seconds[0]:c.seconds[1]:c.seconds:0,xn=A=>{i.value[A]=Aa(i.value[A],c.hours[A],c.minutes[A],St(A!==1))},ir=()=>{var A,ie;i.value[0]&&i.value[1]&&+((A=i.value)==null?void 0:A[0])>+((ie=i.value)==null?void 0:ie[1])&&(i.value.reverse(),e("range-start",i.value[0]),e("range-end",i.value[1]))},wi=()=>{i.value.length&&(i.value[0]&&!i.value[1]?xn(0):(xn(0),xn(1),n()),ir(),l.value=i.value.slice(),er(i.value,e,t.autoApply,t.modelAuto))},rr=(A,ie=!1)=>{if(E(A.value)||!A.current&&t.hideOffsetDates)return e("invalid-date",A.value);if(s.value=JSON.parse(JSON.stringify(A)),!b.value.enabled)return pe(A);Po(c.hours)&&Po(c.minutes)&&!S.value.enabled&&(Fn(A,ie),wi())},sr=(A,ie)=>{var z;F(A,ie.month,ie.year,!0),p.value.count&&!p.value.solo&&ye(A),e("update-month-year",{instance:A,month:ie.month,year:ie.year}),a(p.value.solo?A:void 0);const ne=(z=t.flow)!=null&&z.length?t.flow[t.flowStep]:void 0;!ie.fromNav&&(ne===dt.month||ne===dt.year)&&n()},or=(A,ie)=>{su({value:A,modelValue:l,range:b.value.enabled,timezone:ie?void 0:M.value.timezone}),H(),t.multiCalendars&&Et().then(()=>se(!0))},lr=()=>{const A=Is(K(),M.value);b.value.enabled?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=je(A,l.value[0])?[A,l.value[0]]:[l.value[0],A]:l.value=[A]:l.value=A,H()},ur=()=>{if(Array.isArray(l.value))if(S.value.enabled){const A=dr();l.value[l.value.length-1]=L(A)}else l.value=l.value.map((A,ie)=>A&&L(A,ie));else l.value=L(l.value);e("time-update")},dr=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:u,modelValue:l,month:fe,year:B,time:c,disabledTimesConfig:ue,today:d,validateTime:te,getCalendarDays:J,getMarker:ae,handleScroll:ee,handleSwipe:W,handleArrow:v,selectDate:rr,updateMonthYear:sr,presetDate:or,selectCurrentDate:lr,updateTime:(A,ie=!0,z=!1)=>{_(A,ie,z,ur)},assignMonthAndYear:k}},sf={key:0},of=rt({__name:"DatePicker",props:{...Kt},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:a}){const n=a,i=t,{calendars:r,month:s,year:o,modelValue:l,time:u,disabledTimesConfig:c,today:d,validateTime:p,getCalendarDays:m,getMarker:b,handleArrow:w,handleScroll:M,handleSwipe:x,selectDate:S,updateMonthYear:P,presetDate:E,selectCurrentDate:q,updateTime:D,assignMonthAndYear:_}=rf(i,n,ve,k),L=sn(),{setHoverDate:U,getDayClassData:R,clearHoverDate:te}=Tf(l,i),{defaultedMultiCalendars:ue}=Ue(i),fe=Z([]),B=Z([]),O=Z(null),F=At(L,"calendar"),H=At(L,"monthYear"),re=At(L,"timePicker"),Y=ee=>{i.shadow||n("mount",ee)};Ct(r,()=>{i.shadow||setTimeout(()=>{n("recalculate-position")},0)},{deep:!0}),Ct(ue,(ee,v)=>{ee.count-v.count>0&&_()},{deep:!0});const se=X(()=>ee=>m(s.value(ee),o.value(ee)).map(v=>({...v,days:v.days.map(W=>(W.marker=b(W),W.classData=R(W),W))})));function ve(ee){var v;ee||ee===0?(v=B.value[ee])==null||v.triggerTransition(s.value(ee),o.value(ee)):B.value.forEach((W,ae)=>W.triggerTransition(s.value(ae),o.value(ae)))}function k(){n("update-flow-step")}const T=(ee,v=!1)=>{S(ee,v),i.spaceConfirm&&n("select-date")},f=(ee,v,W=0)=>{var ae;(ae=fe.value[W])==null||ae.toggleMonthPicker(ee,v)},C=(ee,v,W=0)=>{var ae;(ae=fe.value[W])==null||ae.toggleYearPicker(ee,v)},V=(ee,v,W)=>{var ae;(ae=O.value)==null||ae.toggleTimePicker(ee,v,W)},g=(ee,v)=>{var W;if(!i.range){const ae=l.value?l.value:d,j=v?new Date(v):ae,ke=ee?Wt(j,{weekStartsOn:1}):Ml(j,{weekStartsOn:1});S({value:ke,current:xe(j)===s.value(0),text:"",classData:{}}),(W=document.getElementById(nu(ke)))==null||W.focus()}},oe=ee=>{var v;(v=fe.value[0])==null||v.handleMonthYearChange(ee,!0)},ye=ee=>{P(0,{month:s.value(0),year:o.value(0)+(ee?1:-1),fromNav:!0})},Qe=(ee,v)=>{ee===dt.time&&n(`time-picker-${v?"open":"close"}`),n("overlay-toggle",{open:v,overlay:ee})},N=ee=>{n("overlay-toggle",{open:!1,overlay:ee}),n("focus-menu")};return e({clearHoverDate:te,presetDate:E,selectCurrentDate:q,toggleMonthPicker:f,toggleYearPicker:C,toggleTimePicker:V,handleArrow:w,updateMonthYear:P,getSidebarProps:()=>({modelValue:l,month:s,year:o,time:u,updateTime:D,updateMonthYear:P,selectDate:S,presetDate:E}),changeMonth:oe,changeYear:ye,selectWeekDate:g}),(ee,v)=>(I(),G(Te,null,[Mt(Zi,{"multi-calendars":y(ue).count,collapse:ee.collapse},{default:Se(({instance:W,index:ae})=>[ee.disableMonthYearSelect?Q("",!0):(I(),Ae(Kp,nt({key:0,ref:j=>{j&&(fe.value[ae]=j)},months:y(Vl)(ee.formatLocale,ee.locale,ee.monthNameFormat),years:y(Ns)(ee.yearRange,ee.locale,ee.reverseYears),month:y(s)(W),year:y(o)(W),instance:W},ee.$props,{onMount:v[0]||(v[0]=j=>Y(y(Za).header)),onResetFlow:v[1]||(v[1]=j=>ee.$emit("reset-flow")),onUpdateMonthYear:j=>y(P)(W,j),onOverlayClosed:N,onOverlayOpened:v[2]||(v[2]=j=>ee.$emit("overlay-toggle",{open:!0,overlay:j}))}),ht({_:2},[Be(y(H),(j,ke)=>({name:j,fn:Se($=>[de(ee.$slots,j,at(kt($)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Mt(nf,nt({ref:j=>{j&&(B.value[ae]=j)},"mapped-dates":se.value(W),month:y(s)(W),year:y(o)(W),instance:W},ee.$props,{onSelectDate:j=>y(S)(j,W!==1),onHandleSpace:j=>T(j,W!==1),onSetHoverDate:v[3]||(v[3]=j=>y(U)(j)),onHandleScroll:j=>y(M)(j,W),onHandleSwipe:j=>y(x)(j,W),onMount:v[4]||(v[4]=j=>Y(y(Za).calendar)),onResetFlow:v[5]||(v[5]=j=>ee.$emit("reset-flow")),onTooltipOpen:v[6]||(v[6]=j=>ee.$emit("tooltip-open",j)),onTooltipClose:v[7]||(v[7]=j=>ee.$emit("tooltip-close",j))}),ht({_:2},[Be(y(F),(j,ke)=>({name:j,fn:Se($=>[de(ee.$slots,j,at(kt({...$})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),ee.enableTimePicker?(I(),G("div",sf,[ee.$slots["time-picker"]?de(ee.$slots,"time-picker",at(nt({key:0},{time:y(u),updateTime:y(D)}))):(I(),Ae(uu,nt({key:1,ref_key:"timePickerRef",ref:O},ee.$props,{hours:y(u).hours,minutes:y(u).minutes,seconds:y(u).seconds,"internal-model-value":ee.internalModelValue,"disabled-times-config":y(c),"validate-time":y(p),onMount:v[8]||(v[8]=W=>Y(y(Za).timePicker)),"onUpdate:hours":v[9]||(v[9]=W=>y(D)(W)),"onUpdate:minutes":v[10]||(v[10]=W=>y(D)(W,!1)),"onUpdate:seconds":v[11]||(v[11]=W=>y(D)(W,!1,!0)),onResetFlow:v[12]||(v[12]=W=>ee.$emit("reset-flow")),onOverlayClosed:v[13]||(v[13]=W=>Qe(W,!1)),onOverlayOpened:v[14]||(v[14]=W=>Qe(W,!0)),onAmPmChange:v[15]||(v[15]=W=>ee.$emit("am-pm-change",W))}),ht({_:2},[Be(y(re),(W,ae)=>({name:W,fn:Se(j=>[de(ee.$slots,W,at(kt(j)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):Q("",!0)],64))}}),lf=(t,e)=>{const a=Z(),{defaultedMultiCalendars:n,defaultedConfig:i,defaultedHighlight:r,defaultedRange:s,propDates:o,defaultedFilters:l,defaultedMultiDates:u}=Ue(t),{modelValue:c,year:d,month:p,calendars:m}=yi(t,e),{isDisabled:b}=Ea(t),{selectYear:w,groupedYears:M,showYearPicker:x,isDisabled:S,toggleYearPicker:P,handleYearSelect:E,handleYear:q}=lu({modelValue:c,multiCalendars:n,range:s,highlight:r,calendars:m,propDates:o,month:p,year:d,filters:l,props:t,emit:e}),D=(O,F)=>[O,F].map(H=>aa(H,"MMMM",{locale:t.formatLocale})).join("-"),_=X(()=>O=>c.value?Array.isArray(c.value)?c.value.some(F=>mo(O,F)):mo(c.value,O):!1),L=O=>{if(s.value.enabled){if(Array.isArray(c.value)){const F=De(O,c.value[0])||De(O,c.value[1]);return Qi(c.value,a.value,O)&&!F}return!1}return!1},U=(O,F)=>O.quarter===lo(F)&&O.year===we(F),R=O=>typeof r.value=="function"?r.value({quarter:lo(O),year:we(O)}):!!r.value.quarters.find(F=>U(F,O)),te=X(()=>O=>{const F=Re(new Date,{year:d.value(O)});return Rd({start:si(F),end:Cl(F)}).map(H=>{const re=Xa(H),Y=uo(H),se=b(H),ve=L(re),k=R(re);return{text:D(re,Y),value:re,active:_.value(re),highlighted:k,disabled:se,isBetween:ve}})}),ue=O=>{zs(O,c,u.value.limit),e("auto-apply",!0)},fe=O=>{c.value=Hs(c,O,e),er(c.value,e,t.autoApply,t.modelAuto)},B=O=>{c.value=O,e("auto-apply")};return{defaultedConfig:i,defaultedMultiCalendars:n,groupedYears:M,year:d,isDisabled:S,quarters:te,showYearPicker:x,modelValue:c,setHoverDate:O=>{a.value=O},selectYear:w,selectQuarter:(O,F,H)=>{if(!H)return m.value[F].month=xe(uo(O)),u.value.enabled?ue(O):s.value.enabled?fe(O):B(O)},toggleYearPicker:P,handleYearSelect:E,handleYear:q}},uf={class:"dp--quarter-items"},df=["data-test","disabled","onClick","onMouseover"],cf=rt({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Kt},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(t,{expose:e,emit:a}){const n=a,i=t,r=sn(),s=At(r,"yearMode"),{defaultedMultiCalendars:o,defaultedConfig:l,groupedYears:u,year:c,isDisabled:d,quarters:p,modelValue:m,showYearPicker:b,setHoverDate:w,selectQuarter:M,toggleYearPicker:x,handleYearSelect:S,handleYear:P}=lf(i,n);return e({getSidebarProps:()=>({modelValue:m,year:c,selectQuarter:M,handleYearSelect:S,handleYear:P})}),(E,q)=>(I(),Ae(Zi,{"multi-calendars":y(o).count,collapse:E.collapse,stretch:""},{default:Se(({instance:D})=>[_e("div",{class:"dp-quarter-picker-wrap",style:Bt({minHeight:`${y(l).modeHeight}px`})},[E.$slots["top-extra"]?de(E.$slots,"top-extra",{key:0,value:E.internalModelValue}):Q("",!0),_e("div",null,[Mt(ru,nt(E.$props,{items:y(u)(D),instance:D,"show-year-picker":y(b)[D],year:y(c)(D),"is-disabled":_=>y(d)(D,_),onHandleYear:_=>y(P)(D,_),onYearSelect:_=>y(S)(_,D),onToggleYearPicker:_=>y(x)(D,_==null?void 0:_.flow,_==null?void 0:_.show)}),ht({_:2},[Be(y(s),(_,L)=>({name:_,fn:Se(U=>[de(E.$slots,_,at(kt(U)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_e("div",uf,[(I(!0),G(Te,null,Be(y(p)(D),(_,L)=>(I(),G("div",{key:L},[_e("button",{type:"button",class:Fe(["dp--qr-btn",{"dp--qr-btn-active":_.active,"dp--qr-btn-between":_.isBetween,"dp--qr-btn-disabled":_.disabled,"dp--highlighted":_.highlighted}]),"data-test":_.value,disabled:_.disabled,onClick:U=>y(M)(_.value,D,_.disabled),onMouseover:U=>y(w)(_.value)},[E.$slots.quarter?de(E.$slots,"quarter",{key:0,value:_.value,text:_.text}):(I(),G(Te,{key:1},[wa(ct(_.text),1)],64))],42,df)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),hf=["id","tabindex","role","aria-label"],pf={key:0,class:"dp--menu-load-container"},ff=_e("span",{class:"dp--menu-loader"},null,-1),mf=[ff],vf={key:1,class:"dp--menu-header"},gf={key:0,class:"dp__sidebar_left"},yf=["data-test","onClick","onKeydown"],bf={key:2,class:"dp__sidebar_right"},wf={key:3,class:"dp__action_extra"},To=rt({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Ji,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(t,{expose:e,emit:a}){const n=a,i=t,r=Z(null),s=X(()=>{const{openOnTop:$,...J}=i;return{...J,flowStep:U.value,collapse:i.collapse,noOverlayFocus:i.noOverlayFocus,menuWrapRef:r.value}}),{setMenuFocused:o,setShiftKey:l,control:u}=iu(),c=sn(),{defaultedTextInput:d,defaultedInline:p,defaultedConfig:m,defaultedUI:b}=Ue(i),w=Z(null),M=Z(0),x=Z(null),S=Z(!1),P=Z(null);ot(()=>{if(!i.shadow){S.value=!0,E(),window.addEventListener("resize",E);const $=Ze(r);if($&&!d.value.enabled&&!p.value.enabled&&(o(!0),F()),$){const J=pe=>{m.value.allowPreventDefault&&pe.preventDefault(),Oa(pe,m.value,!0)};$.addEventListener("pointerdown",J),$.addEventListener("mousedown",J)}}}),Ki(()=>{window.removeEventListener("resize",E)});const E=()=>{const $=Ze(x);$&&(M.value=$.getBoundingClientRect().width)},{arrowRight:q,arrowLeft:D,arrowDown:_,arrowUp:L}=Ma(),{flowStep:U,updateFlowStep:R,childMount:te,resetFlow:ue,handleFlow:fe}=Sf(i,n,P),B=X(()=>i.monthPicker?Tp:i.yearPicker?Fp:i.timePicker?jp:i.quarterPicker?cf:of),O=X(()=>{var $;if(m.value.arrowLeft)return m.value.arrowLeft;const J=($=r.value)==null?void 0:$.getBoundingClientRect(),pe=i.getInputRect();return(pe==null?void 0:pe.width)<(M==null?void 0:M.value)&&(pe==null?void 0:pe.left)<=((J==null?void 0:J.left)??0)?`${(pe==null?void 0:pe.width)/2}px`:(pe==null?void 0:pe.right)>=((J==null?void 0:J.right)??0)&&(pe==null?void 0:pe.width)<(M==null?void 0:M.value)?`${(M==null?void 0:M.value)-(pe==null?void 0:pe.width)/2}px`:"50%"}),F=()=>{const $=Ze(r);$&&$.focus({preventScroll:!0})},H=X(()=>{var $;return(($=P.value)==null?void 0:$.getSidebarProps())||{}}),re=()=>{i.openOnTop&&n("recalculate-position")},Y=At(c,"action"),se=X(()=>i.monthPicker||i.yearPicker?At(c,"monthYear"):i.timePicker?At(c,"timePicker"):At(c,"shared")),ve=X(()=>i.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),k=X(()=>({dp__menu_disabled:i.disabled,dp__menu_readonly:i.readonly,"dp-menu-loading":i.loading})),T=X(()=>({dp__menu:!0,dp__menu_index:!p.value.enabled,dp__relative:p.value.enabled,...b.value.menu??{}})),f=$=>{Oa($,m.value,!0)},C=()=>{i.escClose&&n("close-picker")},V=$=>{if(i.arrowNavigation){if($===vt.up)return L();if($===vt.down)return _();if($===vt.left)return D();if($===vt.right)return q()}else $===vt.left||$===vt.up?N("handleArrow",vt.left,0,$===vt.up):N("handleArrow",vt.right,0,$===vt.down)},g=$=>{l($.shiftKey),!i.disableMonthYearSelect&&$.code===Ne.tab&&$.target.classList.contains("dp__menu")&&u.value.shiftKeyInMenu&&($.preventDefault(),Oa($,m.value,!0),n("close-picker"))},oe=()=>{F(),n("time-picker-close")},ye=$=>{var J,pe,Pe;(J=P.value)==null||J.toggleTimePicker(!1,!1),(pe=P.value)==null||pe.toggleMonthPicker(!1,!1,$),(Pe=P.value)==null||Pe.toggleYearPicker(!1,!1,$)},Qe=($,J=0)=>{var pe,Pe,$t;return $==="month"?(pe=P.value)==null?void 0:pe.toggleMonthPicker(!1,!0,J):$==="year"?(Pe=P.value)==null?void 0:Pe.toggleYearPicker(!1,!0,J):$==="time"?($t=P.value)==null?void 0:$t.toggleTimePicker(!0,!1):ye(J)},N=($,...J)=>{var pe,Pe;(pe=P.value)!=null&&pe[$]&&((Pe=P.value)==null||Pe[$](...J))},ee=()=>{N("selectCurrentDate")},v=($,J)=>{N("presetDate",$,J)},W=()=>{N("clearHoverDate")},ae=($,J)=>{N("updateMonthYear",$,J)},j=($,J)=>{$.preventDefault(),V(J)},ke=$=>{var J,pe,Pe;if(g($),$.key===Ne.home||$.key===Ne.end)return N("selectWeekDate",$.key===Ne.home,$.target.getAttribute("id"));switch(($.key===Ne.pageUp||$.key===Ne.pageDown)&&($.shiftKey?(N("changeYear",$.key===Ne.pageUp),(J=ss(r.value,"overlay-year"))==null||J.focus()):(N("changeMonth",$.key===Ne.pageUp),(pe=ss(r.value,$.key===Ne.pageUp?"action-prev":"action-next"))==null||pe.focus()),$.target.getAttribute("id")&&((Pe=r.value)==null||Pe.focus({preventScroll:!0}))),$.key){case Ne.esc:return C();case Ne.arrowLeft:return j($,vt.left);case Ne.arrowRight:return j($,vt.right);case Ne.arrowUp:return j($,vt.up);case Ne.arrowDown:return j($,vt.down);default:return}};return e({updateMonthYear:ae,switchView:Qe,handleFlow:fe}),($,J)=>{var pe,Pe,$t;return I(),G("div",{id:$.uid?`dp-menu-${$.uid}`:void 0,ref_key:"dpMenuRef",ref:r,tabindex:y(p).enabled?void 0:"0",role:y(p).enabled?void 0:"dialog","aria-label":(pe=$.ariaLabels)==null?void 0:pe.menu,class:Fe(T.value),style:Bt({"--dp-arrow-left":O.value}),onMouseleave:W,onClick:f,onKeydown:ke},[($.disabled||$.readonly)&&y(p).enabled||$.loading?(I(),G("div",{key:0,class:Fe(k.value)},[$.loading?(I(),G("div",pf,mf)):Q("",!0)],2)):Q("",!0),$.$slots["menu-header"]?(I(),G("div",vf,[de($.$slots,"menu-header")])):Q("",!0),!y(p).enabled&&!$.teleportCenter?(I(),G("div",{key:2,class:Fe(ve.value)},null,2)):Q("",!0),_e("div",{ref_key:"innerMenuRef",ref:x,class:Fe({dp__menu_content_wrapper:((Pe=$.presetDates)==null?void 0:Pe.length)||!!$.$slots["left-sidebar"]||!!$.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&((($t=$.presetDates)==null?void 0:$t.length)||!!$.$slots["left-sidebar"]||!!$.$slots["right-sidebar"])}),style:Bt({"--dp-menu-width":`${M.value}px`})},[$.$slots["left-sidebar"]?(I(),G("div",gf,[de($.$slots,"left-sidebar",at(kt(H.value)))])):Q("",!0),$.presetDates.length?(I(),G("div",{key:1,class:Fe({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(I(!0),G(Te,null,Be($.presetDates,(ge,ka)=>(I(),G(Te,{key:ka},[ge.slot?de($.$slots,ge.slot,{key:0,presetDate:v,label:ge.label,value:ge.value}):(I(),G("button",{key:1,type:"button",style:Bt(ge.style||{}),class:Fe(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),"data-test":ge.testId??void 0,onClick:ri(Xt=>v(ge.value,ge.noTz),["prevent"]),onKeydown:Xt=>y(wt)(Xt,()=>v(ge.value,ge.noTz),!0)},ct(ge.label),47,yf))],64))),128))],2)):Q("",!0),_e("div",{ref_key:"calendarWrapperRef",ref:w,class:"dp__instance_calendar",role:"document"},[(I(),Ae(Xi(B.value),nt({ref_key:"dynCmpRef",ref:P},s.value,{"flow-step":y(U),onMount:y(te),onUpdateFlowStep:y(R),onResetFlow:y(ue),onFocusMenu:F,onSelectDate:J[0]||(J[0]=ge=>$.$emit("select-date")),onDateUpdate:J[1]||(J[1]=ge=>$.$emit("date-update",ge)),onTooltipOpen:J[2]||(J[2]=ge=>$.$emit("tooltip-open",ge)),onTooltipClose:J[3]||(J[3]=ge=>$.$emit("tooltip-close",ge)),onAutoApply:J[4]||(J[4]=ge=>$.$emit("auto-apply",ge)),onRangeStart:J[5]||(J[5]=ge=>$.$emit("range-start",ge)),onRangeEnd:J[6]||(J[6]=ge=>$.$emit("range-end",ge)),onInvalidFixedRange:J[7]||(J[7]=ge=>$.$emit("invalid-fixed-range",ge)),onTimeUpdate:J[8]||(J[8]=ge=>$.$emit("time-update")),onAmPmChange:J[9]||(J[9]=ge=>$.$emit("am-pm-change",ge)),onTimePickerOpen:J[10]||(J[10]=ge=>$.$emit("time-picker-open",ge)),onTimePickerClose:oe,onRecalculatePosition:re,onUpdateMonthYear:J[11]||(J[11]=ge=>$.$emit("update-month-year",ge)),onAutoApplyInvalid:J[12]||(J[12]=ge=>$.$emit("auto-apply-invalid",ge)),onInvalidDate:J[13]||(J[13]=ge=>$.$emit("invalid-date",ge)),onOverlayToggle:J[14]||(J[14]=ge=>$.$emit("overlay-toggle",ge)),"onUpdate:internalModelValue":J[15]||(J[15]=ge=>$.$emit("update:internal-model-value",ge))}),ht({_:2},[Be(se.value,(ge,ka)=>({name:ge,fn:Se(Xt=>[de($.$slots,ge,at(kt({...Xt})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),$.$slots["right-sidebar"]?(I(),G("div",bf,[de($.$slots,"right-sidebar",at(kt(H.value)))])):Q("",!0),$.$slots["action-extra"]?(I(),G("div",wf,[$.$slots["action-extra"]?de($.$slots,"action-extra",{key:0,selectCurrentDate:ee}):Q("",!0)])):Q("",!0)],6),!$.autoApply||y(m).keepActionRow?(I(),Ae(vp,nt({key:3,"menu-mount":S.value},s.value,{"calendar-width":M.value,onClosePicker:J[16]||(J[16]=ge=>$.$emit("close-picker")),onSelectDate:J[17]||(J[17]=ge=>$.$emit("select-date")),onInvalidSelect:J[18]||(J[18]=ge=>$.$emit("invalid-select")),onSelectNow:ee}),ht({_:2},[Be(y(Y),(ge,ka)=>({name:ge,fn:Se(Xt=>[de($.$slots,ge,at(kt({...Xt})))])}))]),1040,["menu-mount","calendar-width"])):Q("",!0)],46,hf)}}});var cn=(t=>(t.center="center",t.left="left",t.right="right",t))(cn||{});const _f=({menuRef:t,menuRefInner:e,inputRef:a,pickerWrapperRef:n,inline:i,emit:r,props:s,slots:o})=>{const{defaultedConfig:l}=Ue(s),u=Z({}),c=Z(!1),d=Z({top:"0",left:"0"}),p=Z(!1),m=ii(s,"teleportCenter");Ct(m,()=>{d.value=JSON.parse(JSON.stringify({})),q()});const b=F=>{if(s.teleport){const H=F.getBoundingClientRect();return{left:H.left+window.scrollX,top:H.top+window.scrollY}}return{top:0,left:0}},w=(F,H)=>{d.value.left=`${F+H-u.value.width}px`},M=F=>{d.value.left=`${F}px`},x=(F,H)=>{s.position===cn.left&&M(F),s.position===cn.right&&w(F,H),s.position===cn.center&&(d.value.left=`${F+H/2-u.value.width/2}px`)},S=F=>{const{width:H,height:re}=F.getBoundingClientRect(),{top:Y,left:se}=s.altPosition?s.altPosition(F):b(F);return{top:+Y,left:+se,width:H,height:re}},P=()=>{d.value.left="50%",d.value.top="50%",d.value.transform="translate(-50%, -50%)",d.value.position="fixed",delete d.value.opacity},E=()=>{const F=Ze(a),{top:H,left:re,transform:Y}=s.altPosition(F);d.value={top:`${H}px`,left:`${re}px`,transform:Y??""}},q=(F=!0)=>{var H;if(!i.value.enabled){if(m.value)return P();if(s.altPosition!==null)return E();if(F){const re=s.teleport?(H=e.value)==null?void 0:H.$el:t.value;re&&(u.value=re.getBoundingClientRect()),r("recalculate-position")}return ue()}},D=({inputEl:F,left:H,width:re})=>{window.screen.width>768&&!c.value&&x(H,re),U(F)},_=F=>{const{top:H,left:re,height:Y,width:se}=S(F);d.value.top=`${Y+H+ +s.offset}px`,p.value=!1,c.value||(d.value.left=`${re+se/2-u.value.width/2}px`),D({inputEl:F,left:re,width:se})},L=F=>{const{top:H,left:re,width:Y}=S(F);d.value.top=`${H-+s.offset-u.value.height}px`,p.value=!0,D({inputEl:F,left:re,width:Y})},U=F=>{if(s.autoPosition){const{left:H,width:re}=S(F),{left:Y,right:se}=u.value;if(!c.value){if(Math.abs(Y)!==Math.abs(se)){if(Y<=0)return c.value=!0,M(H);if(se>=document.documentElement.clientWidth)return c.value=!0,w(H,re)}return x(H,re)}}},R=()=>{const F=Ze(a);if(F){const{height:H}=u.value,{top:re,height:Y}=F.getBoundingClientRect(),se=window.innerHeight-re-Y,ve=re;return H<=se?qa.bottom:H>se&&H<=ve?qa.top:se>=ve?qa.bottom:qa.top}return qa.bottom},te=F=>R()===qa.bottom?_(F):L(F),ue=()=>{const F=Ze(a);if(F)return s.autoPosition?te(F):_(F)},fe=function(F){if(F){const H=F.scrollHeight>F.clientHeight,re=window.getComputedStyle(F).overflowY.indexOf("hidden")!==-1;return H&&!re}return!0},B=function(F){return!F||F===document.body||F.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:fe(F)?F:B(F.assignedSlot&&l.value.shadowDom?F.assignedSlot.parentNode:F.parentNode)},O=F=>{if(F)switch(s.position){case cn.left:return{left:0,transform:"translateX(0)"};case cn.right:return{left:`${F.width}px`,transform:"translateX(-100%)"};default:return{left:`${F.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:p,menuStyle:d,xCorrect:c,setMenuPosition:q,getScrollableParent:B,shadowRender:(F,H)=>{var re,Y,se;const ve=document.createElement("div"),k=(re=Ze(a))==null?void 0:re.getBoundingClientRect();ve.setAttribute("id","dp--temp-container");const T=(Y=n.value)!=null&&Y.clientWidth?n.value:document.body;T.append(ve);const f=O(k),C=l.value.shadowDom?Object.keys(o).filter(g=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(g)):Object.keys(o),V=Pl(F,{...H,shadow:!0,style:{opacity:0,position:"absolute",...f}},Object.fromEntries(C.map(g=>[g,o[g]])));ro(V,ve),u.value=(se=V.el)==null?void 0:se.getBoundingClientRect(),ro(null,ve),T.removeChild(ve)}}},Sa=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],kf=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Pf={all:()=>Sa,monthYear:()=>Sa.filter(t=>t.use.includes("month-year")),input:()=>kf,timePicker:()=>Sa.filter(t=>t.use.includes("time")),action:()=>Sa.filter(t=>t.use.includes("action")),calendar:()=>Sa.filter(t=>t.use.includes("calendar")),menu:()=>Sa.filter(t=>t.use.includes("menu")),shared:()=>Sa.filter(t=>t.use.includes("shared")),yearMode:()=>Sa.filter(t=>t.use.includes("year-mode"))},At=(t,e,a)=>{const n=[];return Pf[e]().forEach(i=>{t[i.name]&&n.push(i.name)}),a!=null&&a.length&&a.forEach(i=>{i.slot&&n.push(i.slot)}),n},gi=t=>{const e=X(()=>n=>t.value?n?t.value.open:t.value.close:""),a=X(()=>n=>t.value?n?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:e,showTransition:!!t.value,menuTransition:a}},yi=(t,e,a)=>{const{defaultedRange:n,defaultedTz:i}=Ue(t),r=K(Pt(K(),i.value.timezone)),s=Z([{month:xe(r),year:we(r)}]),o=p=>{const m={hours:_a(r),minutes:Ca(r),seconds:0};return n.value.enabled?[m[p],m[p]]:m[p]},l=mi({hours:o("hours"),minutes:o("minutes"),seconds:o("seconds")});Ct(n,(p,m)=>{p.enabled!==m.enabled&&(l.hours=o("hours"),l.minutes=o("minutes"),l.seconds=o("seconds"))},{deep:!0});const u=X({get:()=>t.internalModelValue,set:p=>{!t.readonly&&!t.disabled&&e("update:internal-model-value",p)}}),c=X(()=>p=>s.value[p]?s.value[p].month:0),d=X(()=>p=>s.value[p]?s.value[p].year:0);return Ct(u,(p,m)=>{a&&JSON.stringify(p??{})!==JSON.stringify(m??{})&&a()},{deep:!0}),{calendars:s,time:l,modelValue:u,month:c,year:d,today:r}},Tf=(t,e)=>{const{defaultedMultiCalendars:a,defaultedMultiDates:n,defaultedUI:i,defaultedHighlight:r,defaultedTz:s,propDates:o,defaultedRange:l}=Ue(e),{isDisabled:u}=Ea(e),c=Z(null),d=Z(Pt(new Date,s.value.timezone)),p=f=>{!f.current&&e.hideOffsetDates||(c.value=f.value)},m=()=>{c.value=null},b=f=>Array.isArray(t.value)&&l.value.enabled&&t.value[0]&&c.value?f?Ve(c.value,t.value[0]):je(c.value,t.value[0]):!0,w=(f,C)=>{const V=()=>t.value?C?t.value[0]||null:t.value[1]:null,g=t.value&&Array.isArray(t.value)?V():null;return De(K(f.value),g)},M=f=>{const C=Array.isArray(t.value)?t.value[0]:null;return f?!je(c.value??null,C):!0},x=(f,C=!0)=>(l.value.enabled||e.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?e.hideOffsetDates&&!f.current?!1:De(K(f.value),t.value[C?0:1]):l.value.enabled?w(f,C)&&M(C)||De(f.value,Array.isArray(t.value)?t.value[0]:null)&&b(C):!1,S=(f,C)=>{if(Array.isArray(t.value)&&t.value[0]&&t.value.length===1){const V=De(f.value,c.value);return C?Ve(t.value[0],f.value)&&V:je(t.value[0],f.value)&&V}return!1},P=f=>!t.value||e.hideOffsetDates&&!f.current?!1:l.value.enabled?e.modelAuto&&Array.isArray(t.value)?De(f.value,t.value[0]?t.value[0]:d.value):!1:n.value.enabled&&Array.isArray(t.value)?t.value.some(C=>De(C,f.value)):De(f.value,t.value?t.value:d.value),E=f=>{if(l.value.autoRange||e.weekPicker){if(c.value){if(e.hideOffsetDates&&!f.current)return!1;const C=qt(c.value,+l.value.autoRange),V=ha(K(c.value),e.weekStart);return e.weekPicker?De(V[1],K(f.value)):De(C,K(f.value))}return!1}return!1},q=f=>{if(l.value.autoRange||e.weekPicker){if(c.value){const C=qt(c.value,+l.value.autoRange);if(e.hideOffsetDates&&!f.current)return!1;const V=ha(K(c.value),e.weekStart);return e.weekPicker?Ve(f.value,V[0])&&je(f.value,V[1]):Ve(f.value,c.value)&&je(f.value,C)}return!1}return!1},D=f=>{if(l.value.autoRange||e.weekPicker){if(c.value){if(e.hideOffsetDates&&!f.current)return!1;const C=ha(K(c.value),e.weekStart);return e.weekPicker?De(C[0],f.value):De(c.value,f.value)}return!1}return!1},_=f=>Qi(t.value,c.value,f.value),L=()=>e.modelAuto&&Array.isArray(e.internalModelValue)?!!e.internalModelValue[0]:!1,U=()=>e.modelAuto?Wl(e.internalModelValue):!0,R=f=>{if(e.weekPicker)return!1;const C=l.value.enabled?!x(f)&&!x(f,!1):!0;return!u(f.value)&&!P(f)&&!(!f.current&&e.hideOffsetDates)&&C},te=f=>l.value.enabled?e.modelAuto?L()&&P(f):!1:P(f),ue=f=>r.value?Lh(f.value,o.value.highlight):!1,fe=f=>{const C=u(f.value);return C&&(typeof r.value=="function"?!r.value(f.value,C):!r.value.options.highlightDisabled)},B=f=>{var C;return typeof r.value=="function"?r.value(f.value):(C=r.value.weekdays)==null?void 0:C.includes(f.value.getDay())},O=f=>(l.value.enabled||e.weekPicker)&&(!(a.value.count>0)||f.current)&&U()&&!(!f.current&&e.hideOffsetDates)&&!P(f)?_(f):!1,F=f=>{const{isRangeStart:C,isRangeEnd:V}=se(f),g=l.value.enabled?C||V:!1;return{dp__cell_offset:!f.current,dp__pointer:!e.disabled&&!(!f.current&&e.hideOffsetDates)&&!u(f.value),dp__cell_disabled:u(f.value),dp__cell_highlight:!fe(f)&&(ue(f)||B(f))&&!te(f)&&!g&&!D(f)&&!(O(f)&&e.weekPicker)&&!V,dp__cell_highlight_active:!fe(f)&&(ue(f)||B(f))&&te(f),dp__today:!e.noToday&&De(f.value,d.value)&&f.current,"dp--past":je(f.value,d.value),"dp--future":Ve(f.value,d.value)}},H=f=>({dp__active_date:te(f),dp__date_hover:R(f)}),re=f=>{if(t.value&&!Array.isArray(t.value)){const C=ha(t.value,e.weekStart);return{...k(f),dp__range_start:De(C[0],f.value),dp__range_end:De(C[1],f.value),dp__range_between_week:Ve(f.value,C[0])&&je(f.value,C[1])}}return{...k(f)}},Y=f=>{if(t.value&&Array.isArray(t.value)){const C=ha(t.value[0],e.weekStart),V=t.value[1]?ha(t.value[1],e.weekStart):[];return{...k(f),dp__range_start:De(C[0],f.value)||De(V[0],f.value),dp__range_end:De(C[1],f.value)||De(V[1],f.value),dp__range_between_week:Ve(f.value,C[0])&&je(f.value,C[1])||Ve(f.value,V[0])&&je(f.value,V[1]),dp__range_between:Ve(f.value,C[1])&&je(f.value,V[0])}}return{...k(f)}},se=f=>{const C=a.value.count>0?f.current&&x(f)&&U():x(f)&&U(),V=a.value.count>0?f.current&&x(f,!1)&&U():x(f,!1)&&U();return{isRangeStart:C,isRangeEnd:V}},ve=f=>{const{isRangeStart:C,isRangeEnd:V}=se(f);return{dp__range_start:C,dp__range_end:V,dp__range_between:O(f),dp__date_hover:De(f.value,c.value)&&!C&&!V&&!e.weekPicker,dp__date_hover_start:S(f,!0),dp__date_hover_end:S(f,!1)}},k=f=>({...ve(f),dp__cell_auto_range:q(f),dp__cell_auto_range_start:D(f),dp__cell_auto_range_end:E(f)}),T=f=>l.value.enabled?l.value.autoRange?k(f):e.modelAuto?{...H(f),...ve(f)}:e.weekPicker?Y(f):ve(f):e.weekPicker?re(f):H(f);return{setHoverDate:p,clearHoverDate:m,getDayClassData:f=>e.hideOffsetDates&&!f.current?{}:{...F(f),...T(f),[e.dayClass?e.dayClass(f.value,e.internalModelValue):""]:!0,...i.value.calendarCell??{}}}},Ea=t=>{const{defaultedFilters:e,defaultedRange:a,propDates:n,defaultedMultiDates:i}=Ue(t),r=B=>n.value.disabledDates?typeof n.value.disabledDates=="function"?n.value.disabledDates(K(B)):!!qi(B,n.value.disabledDates):!1,s=B=>n.value.maxDate?t.yearPicker?we(B)>we(n.value.maxDate):Ve(B,n.value.maxDate):!1,o=B=>n.value.minDate?t.yearPicker?we(B)<we(n.value.minDate):je(B,n.value.minDate):!1,l=B=>{const O=s(B),F=o(B),H=r(B),re=e.value.months.map(T=>+T).includes(xe(B)),Y=t.disabledWeekDays.length?t.disabledWeekDays.some(T=>+T===Dc(B)):!1,se=m(B),ve=we(B),k=ve<+t.yearRange[0]||ve>+t.yearRange[1];return!(O||F||H||re||k||Y||se)},u=(B,O)=>je(...xa(n.value.minDate,B,O))||De(...xa(n.value.minDate,B,O)),c=(B,O)=>Ve(...xa(n.value.maxDate,B,O))||De(...xa(n.value.maxDate,B,O)),d=(B,O,F)=>{let H=!1;return n.value.maxDate&&F&&c(B,O)&&(H=!0),n.value.minDate&&!F&&u(B,O)&&(H=!0),H},p=(B,O,F,H)=>{let re=!1;return H?n.value.minDate&&n.value.maxDate?re=d(B,O,F):(n.value.minDate&&u(B,O)||n.value.maxDate&&c(B,O))&&(re=!0):re=!0,re},m=B=>Array.isArray(n.value.allowedDates)&&!n.value.allowedDates.length?!0:n.value.allowedDates?!qi(B,n.value.allowedDates):!1,b=B=>!l(B),w=B=>a.value.noDisabledRange?!Al({start:B[0],end:B[1]}).some(O=>b(O)):!0,M=B=>{if(B){const O=we(B);return O>=+t.yearRange[0]&&O<=t.yearRange[1]}return!0},x=(B,O)=>!!(Array.isArray(B)&&B[O]&&(a.value.maxRange||a.value.minRange)&&M(B[O])),S=(B,O,F=0)=>{if(x(O,F)&&M(B)){const H=Dl(B,O[F]),re=Jl(O[F],B),Y=re.length===1?0:re.filter(ve=>b(ve)).length,se=Math.abs(H)-(a.value.minMaxRawRange?0:Y);if(a.value.minRange&&a.value.maxRange)return se>=+a.value.minRange&&se<=+a.value.maxRange;if(a.value.minRange)return se>=+a.value.minRange;if(a.value.maxRange)return se<=+a.value.maxRange}return!0},P=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,E=B=>Array.isArray(B)?[B[0]?gr(B[0]):null,B[1]?gr(B[1]):null]:gr(B),q=(B,O,F)=>B.find(H=>+H.hours===_a(O)&&H.minutes==="*"?!0:+H.minutes===Ca(O)&&+H.hours===_a(O))&&F,D=(B,O,F)=>{const[H,re]=B,[Y,se]=O;return!q(H,Y,F)&&!q(re,se,F)&&F},_=(B,O)=>{const F=Array.isArray(O)?O:[O];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?D(t.disabledTimes,F,B):!F.some(H=>q(t.disabledTimes,H,B)):B},L=(B,O)=>{const F=Array.isArray(O)?[en(O[0]),O[1]?en(O[1]):void 0]:en(O),H=!t.disabledTimes(F);return B&&H},U=(B,O)=>t.disabledTimes?Array.isArray(t.disabledTimes)?_(O,B):L(O,B):O,R=B=>{let O=!0;if(!B||P())return!0;const F=!n.value.minDate&&!n.value.maxDate?E(B):B;return(t.maxTime||n.value.maxDate)&&(O=wo(t.maxTime,n.value.maxDate,"max",tt(F),O)),(t.minTime||n.value.minDate)&&(O=wo(t.minTime,n.value.minDate,"min",tt(F),O)),U(B,O)},te=B=>{if(!t.monthPicker)return!0;let O=!0;const F=K(Yt(B));if(n.value.minDate&&n.value.maxDate){const H=K(Yt(n.value.minDate)),re=K(Yt(n.value.maxDate));return Ve(F,H)&&je(F,re)||De(F,H)||De(F,re)}if(n.value.minDate){const H=K(Yt(n.value.minDate));O=Ve(F,H)||De(F,H)}if(n.value.maxDate){const H=K(Yt(n.value.maxDate));O=je(F,H)||De(F,H)}return O},ue=X(()=>B=>!t.enableTimePicker||t.ignoreTimeValidation?!0:R(B)),fe=X(()=>B=>t.monthPicker?Array.isArray(B)&&(a.value.enabled||i.value.enabled)?!B.filter(O=>!te(O)).length:te(B):!0);return{isDisabled:b,validateDate:l,validateMonthYearInRange:p,isDateRangeAllowed:w,checkMinMaxRange:S,isValidTime:R,isTimeValid:ue,isMonthValid:fe}},tr=()=>{const t=X(()=>(n,i)=>n==null?void 0:n.includes(i)),e=X(()=>(n,i)=>n.count?n.solo?!0:i===0:!0),a=X(()=>(n,i)=>n.count?n.solo?!0:i===n.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:e,showRightIcon:a}},Sf=(t,e,a)=>{const n=Z(0),i=mi({[Za.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Za.calendar]:!1,[Za.header]:!1}),r=X(()=>t.monthPicker||t.timePicker),s=d=>{var p;if((p=t.flow)!=null&&p.length){if(!d&&r.value)return c();i[d]=!0,Object.keys(i).filter(m=>!i[m]).length||c()}},o=()=>{var d,p;(d=t.flow)!=null&&d.length&&n.value!==-1&&(n.value+=1,e("flow-step",n.value),c()),((p=t.flow)==null?void 0:p.length)===n.value&&Et().then(()=>l())},l=()=>{n.value=-1},u=(d,p,...m)=>{var b,w;t.flow[n.value]===d&&a.value&&((w=(b=a.value)[p])==null||w.call(b,...m))},c=(d=0)=>{d&&(n.value+=d),u(dt.month,"toggleMonthPicker",!0),u(dt.year,"toggleYearPicker",!0),u(dt.calendar,"toggleTimePicker",!1,!0),u(dt.time,"toggleTimePicker",!0,!0);const p=t.flow[n.value];(p===dt.hours||p===dt.minutes||p===dt.seconds)&&u(p,"toggleTimePicker",!0,!0,p)};return{childMount:s,updateFlowStep:o,resetFlow:l,handleFlow:c,flowStep:n}},Ff={key:1,class:"dp__input_wrap"},xf=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-disabled","aria-invalid"],Df={key:2,class:"dp--clear-btn"},Of=["aria-label"],Af=rt({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Ji},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(t,{expose:e,emit:a}){const n=a,i=t,{defaultedTextInput:r,defaultedAriaLabels:s,defaultedInline:o,defaultedConfig:l,defaultedRange:u,defaultedMultiDates:c,defaultedUI:d,getDefaultPattern:p,getDefaultStartTime:m}=Ue(i),{checkMinMaxRange:b}=Ea(i),w=Z(),M=Z(null),x=Z(!1),S=Z(!1),P=Z(!1),E=Z(null),q=X(()=>({dp__pointer:!i.disabled&&!i.readonly&&!r.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!r.value.enabled,dp__input:!0,dp__input_icon_pad:!i.hideInputIcon,dp__input_valid:typeof i.state=="boolean"?i.state:!1,dp__input_invalid:typeof i.state=="boolean"?!i.state:!1,dp__input_focus:x.value||i.isMenuOpen,dp__input_reg:!r.value.enabled,...d.value.input??{}})),D=()=>{n("set-input-date",null),i.clearable&&i.autoApply&&(n("set-empty-date"),w.value=null)},_=k=>{const T=m();return Hh(k,r.value.format??p(),T??Zl({},i.enableSeconds),i.inputValue,P.value,i.formatLocale)},L=k=>{const{rangeSeparator:T}=r.value,[f,C]=k.split(`${T}`);if(f){const V=_(f.trim()),g=C?_(C.trim()):null;if(gn(V,g))return;const oe=V&&g?[V,g]:[V];b(g,oe,0)&&(w.value=V?oe:null)}},U=()=>{P.value=!0},R=k=>{if(u.value.enabled)L(k);else if(c.value.enabled){const T=k.split(";");w.value=T.map(f=>_(f.trim())).filter(f=>f)}else w.value=_(k)},te=k=>{var T;const f=typeof k=="string"?k:(T=k.target)==null?void 0:T.value;f!==""?(r.value.openMenu&&!i.isMenuOpen&&n("open"),R(f),n("set-input-date",w.value)):D(),P.value=!1,n("update:input-value",f),n("text-input",k,w.value)},ue=k=>{r.value.enabled?(R(k.target.value),r.value.enterSubmit&&os(w.value)&&i.inputValue!==""?(n("set-input-date",w.value,!0),w.value=null):r.value.enterSubmit&&i.inputValue===""&&(w.value=null,n("clear"))):O(k)},fe=(k,T)=>{var f;if(E.value&&T&&!S.value)return k.preventDefault(),S.value=!0,(f=E.value)==null?void 0:f.focus();r.value.enabled&&r.value.tabSubmit&&R(k.target.value),r.value.tabSubmit&&os(w.value)&&i.inputValue!==""?(n("set-input-date",w.value,!0,!0),w.value=null):r.value.tabSubmit&&i.inputValue===""&&(w.value=null,n("clear",!0))},B=()=>{x.value=!0,n("focus"),Et().then(()=>{var k;r.value.enabled&&r.value.selectOnFocus&&((k=M.value)==null||k.select())})},O=k=>{if(k.preventDefault(),Oa(k,l.value,!0),r.value.enabled&&r.value.openMenu&&!o.value.input){if(r.value.openMenu==="open"&&!i.isMenuOpen)return n("open");if(r.value.openMenu==="toggle")return n("toggle")}else r.value.enabled||n("toggle")},F=()=>{n("real-blur"),x.value=!1,(!i.isMenuOpen||o.value.enabled&&o.value.input)&&n("blur"),i.autoApply&&r.value.enabled&&w.value&&!i.isMenuOpen&&(n("set-input-date",w.value),n("select-date"),w.value=null)},H=k=>{Oa(k,l.value,!0),n("clear")},re=(k,T)=>{if(k.key==="Tab"&&fe(k,T),k.key==="Enter"&&ue(k),!r.value.enabled){if(k.code==="Tab")return;k.preventDefault()}},Y=()=>{var k;(k=M.value)==null||k.focus({preventScroll:!0})},se=k=>{w.value=k},ve=k=>{k.key===Ne.tab&&(S.value=!1,fe(k))};return e({focusInput:Y,setParsedDate:se}),(k,T)=>{var f,C;return I(),G("div",{onClick:O},[k.$slots.trigger&&!k.$slots["dp-input"]&&!y(o).enabled?de(k.$slots,"trigger",{key:0}):Q("",!0),!k.$slots.trigger&&(!y(o).enabled||y(o).input)?(I(),G("div",Ff,[k.$slots["dp-input"]&&!k.$slots.trigger&&(!y(o).enabled||y(o).enabled&&y(o).input)?de(k.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:te,onEnter:ue,onTab:fe,onClear:H,onBlur:F,onKeypress:re,onPaste:U,onFocus:B,openMenu:()=>k.$emit("open"),closeMenu:()=>k.$emit("close"),toggleMenu:()=>k.$emit("toggle")}):Q("",!0),k.$slots["dp-input"]?Q("",!0):(I(),G("input",{key:1,id:k.uid?`dp-input-${k.uid}`:void 0,ref_key:"inputRef",ref:M,"data-test":"dp-input",name:k.name,class:Fe(q.value),inputmode:y(r).enabled?"text":"none",placeholder:k.placeholder,disabled:k.disabled,readonly:k.readonly,required:k.required,value:t.inputValue,autocomplete:k.autocomplete,"aria-disabled":k.disabled||void 0,"aria-invalid":k.state===!1?!0:void 0,onInput:te,onBlur:F,onFocus:B,onKeypress:re,onKeydown:T[0]||(T[0]=V=>re(V,!0)),onPaste:U},null,42,xf)),_e("div",{onClick:T[3]||(T[3]=V=>n("toggle"))},[k.$slots["input-icon"]&&!k.hideInputIcon?(I(),G("span",{key:0,class:"dp__input_icon",onClick:T[1]||(T[1]=V=>n("toggle"))},[de(k.$slots,"input-icon")])):Q("",!0),!k.$slots["input-icon"]&&!k.hideInputIcon&&!k.$slots["dp-input"]?(I(),Ae(y(Pn),{key:1,"aria-label":(f=y(s))==null?void 0:f.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:T[2]||(T[2]=V=>n("toggle"))},null,8,["aria-label"])):Q("",!0)]),k.$slots["clear-icon"]&&t.inputValue&&k.clearable&&!k.disabled&&!k.readonly?(I(),G("span",Df,[de(k.$slots,"clear-icon",{clear:H})])):Q("",!0),k.clearable&&!k.$slots["clear-icon"]&&t.inputValue&&!k.disabled&&!k.readonly?(I(),G("button",{key:3,ref_key:"clearBtnRef",ref:E,"aria-label":(C=y(s))==null?void 0:C.clearInput,class:"dp--clear-btn",type:"button",onBlur:T[4]||(T[4]=V=>S.value=!1),onKeydown:T[5]||(T[5]=V=>y(wt)(V,()=>H(V),!0,ve)),onClick:T[6]||(T[6]=ri(V=>H(V),["prevent"]))},[Mt(y(Yl),{class:"dp__input_icons","data-test":"clear-icon"})],40,Of)):Q("",!0)])):Q("",!0)])}}}),Cf=typeof window<"u"?window:void 0,Pr=()=>{},Mf=t=>kd()?(Pd(t),!0):!1,Ef=(t,e,a,n)=>{if(!t)return Pr;let i=Pr;const r=Ct(()=>y(t),o=>{i(),o&&(o.addEventListener(e,a,n),i=()=>{o.removeEventListener(e,a,n),i=Pr})},{immediate:!0,flush:"post"}),s=()=>{r(),i()};return Mf(s),s},$f=(t,e,a,n={})=>{const{window:i=Cf,event:r="pointerdown"}=n;return i?Ef(i,r,s=>{const o=Ze(t),l=Ze(e);!o||!l||o===s.target||s.composedPath().includes(o)||s.composedPath().includes(l)||a(s)},{passive:!0}):void 0},Rf=rt({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Ji},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(t,{expose:e,emit:a}){const n=a,i=t,r=sn(),s=Z(!1),o=ii(i,"modelValue"),l=ii(i,"timezone"),u=Z(null),c=Z(null),d=Z(null),p=Z(!1),m=Z(null),b=Z(!1),w=Z(!1),M=Z(!1),x=Z(!1),{setMenuFocused:S,setShiftKey:P}=iu(),{clearArrowNav:E}=Ma(),{validateDate:q,isValidTime:D}=Ea(i),{defaultedTransitions:_,defaultedTextInput:L,defaultedInline:U,defaultedConfig:R,defaultedRange:te,defaultedMultiDates:ue}=Ue(i),{menuTransition:fe,showTransition:B}=gi(_);ot(()=>{C(i.modelValue),Et().then(()=>{if(!U.value.enabled){const z=ve(m.value);z==null||z.addEventListener("scroll",ae),window==null||window.addEventListener("resize",j)}}),U.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",ke),window==null||window.addEventListener("keydown",$)}),Ki(()=>{if(!U.value.enabled){const z=ve(m.value);z==null||z.removeEventListener("scroll",ae),window==null||window.removeEventListener("resize",j)}window==null||window.removeEventListener("keyup",ke),window==null||window.removeEventListener("keydown",$)});const O=At(r,"all",i.presetDates),F=At(r,"input");Ct([o,l],()=>{C(o.value)},{deep:!0});const{openOnTop:H,menuStyle:re,xCorrect:Y,setMenuPosition:se,getScrollableParent:ve,shadowRender:k}=_f({menuRef:u,menuRefInner:c,inputRef:d,pickerWrapperRef:m,inline:U,emit:n,props:i,slots:r}),{inputValue:T,internalModelValue:f,parseExternalModelValue:C,emitModelValue:V,formatInputValue:g,checkBeforeEmit:oe}=hp(n,i,p),ye=X(()=>({dp__main:!0,dp__theme_dark:i.dark,dp__theme_light:!i.dark,dp__flex_display:U.value.enabled,"dp--flex-display-collapsed":M.value,dp__flex_display_with_input:U.value.input})),Qe=X(()=>i.dark?"dp__theme_dark":"dp__theme_light"),N=X(()=>i.teleport?{to:typeof i.teleport=="boolean"?"body":i.teleport,disabled:!i.teleport||U.value.enabled}:{}),ee=X(()=>({class:"dp__outer_menu_wrap"})),v=X(()=>U.value.enabled&&(i.timePicker||i.monthPicker||i.yearPicker||i.quarterPicker)),W=()=>{var z,ne;return(ne=(z=d.value)==null?void 0:z.$el)==null?void 0:ne.getBoundingClientRect()},ae=()=>{s.value&&(R.value.closeOnScroll?St():se())},j=()=>{var z;s.value&&se();const ne=(z=c.value)==null?void 0:z.$el.getBoundingClientRect().width;M.value=document.body.offsetWidth<=ne},ke=z=>{z.key==="Tab"&&!U.value.enabled&&!i.teleport&&R.value.tabOutClosesMenu&&(m.value.contains(document.activeElement)||St()),w.value=z.shiftKey},$=z=>{w.value=z.shiftKey},J=()=>{!i.disabled&&!i.readonly&&(k(To,i),se(!1),s.value=!0,s.value&&n("open"),s.value||Fn(),C(i.modelValue))},pe=()=>{var z;T.value="",Fn(),(z=d.value)==null||z.setParsedDate(null),n("update:model-value",null),n("update:model-timezone-value",null),n("cleared"),R.value.closeOnClearValue&&St()},Pe=()=>{const z=f.value;return!z||!Array.isArray(z)&&q(z)?!0:Array.isArray(z)?ue.value.enabled||z.length===2&&q(z[0])&&q(z[1])?!0:te.value.partialRange&&!i.timePicker?q(z[0]):!1:!1},$t=()=>{oe()&&Pe()?(V(),St()):n("invalid-select",f.value)},ge=z=>{ka(),V(),R.value.closeOnAutoApply&&!z&&St()},ka=()=>{d.value&&L.value.enabled&&d.value.setParsedDate(f.value)},Xt=(z=!1)=>{i.autoApply&&D(f.value)&&Pe()&&(te.value.enabled&&Array.isArray(f.value)?(te.value.partialRange||f.value.length===2)&&ge(z):ge(z))},Fn=()=>{L.value.enabled||(f.value=null)},St=()=>{U.value.enabled||(s.value&&(s.value=!1,Y.value=!1,S(!1),P(!1),E(),n("closed"),T.value&&C(o.value)),Fn(),n("blur"))},xn=(z,ne,le=!1)=>{if(!z){f.value=null;return}const pt=Array.isArray(z)?!z.some($a=>!q($a)):q(z),Rt=D(z);pt&&Rt&&(x.value=!0,f.value=z,ne&&(b.value=le,$t(),n("text-submit")),Et().then(()=>{x.value=!1}))},ir=()=>{i.autoApply&&D(f.value)&&V(),ka()},wi=()=>s.value?St():J(),rr=z=>{f.value=z},sr=()=>{L.value.enabled&&(p.value=!0,g()),n("focus")},or=()=>{if(L.value.enabled&&(p.value=!1,C(i.modelValue),b.value)){const z=Uh(m.value,w.value);z==null||z.focus()}n("blur")},lr=z=>{c.value&&c.value.updateMonthYear(0,{month:go(z.month),year:go(z.year)})},ur=z=>{C(z??i.modelValue)},dr=(z,ne)=>{var le;(le=c.value)==null||le.switchView(z,ne)},A=z=>R.value.onClickOutside?R.value.onClickOutside(z):St(),ie=(z=0)=>{var ne;(ne=c.value)==null||ne.handleFlow(z)};return $f(u,d,()=>A(Pe)),e({closeMenu:St,selectDate:$t,clearValue:pe,openMenu:J,onScroll:ae,formatInputValue:g,updateInternalModelValue:rr,setMonthYear:lr,parseModel:ur,switchView:dr,toggleMenu:wi,handleFlow:ie,dpWrapMenuRef:u}),(z,ne)=>(I(),G("div",{ref_key:"pickerWrapperRef",ref:m,class:Fe(ye.value),"data-datepicker-instance":""},[Mt(Af,nt({ref_key:"inputRef",ref:d,"input-value":y(T),"onUpdate:inputValue":ne[0]||(ne[0]=le=>io(T)?T.value=le:null),"is-menu-open":s.value},z.$props,{onClear:pe,onOpen:J,onSetInputDate:xn,onSetEmptyDate:y(V),onSelectDate:$t,onToggle:wi,onClose:St,onFocus:sr,onBlur:or,onRealBlur:ne[1]||(ne[1]=le=>p.value=!1),onTextInput:ne[2]||(ne[2]=le=>z.$emit("text-input",le))}),ht({_:2},[Be(y(F),(le,pt)=>({name:le,fn:Se(Rt=>[de(z.$slots,le,at(kt(Rt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(I(),Ae(Xi(z.teleport?yd:"div"),at(kt(N.value)),{default:Se(()=>[Mt(_n,{name:y(fe)(y(H)),css:y(B)&&!y(U).enabled},{default:Se(()=>[s.value?(I(),G("div",nt({key:0,ref_key:"dpWrapMenuRef",ref:u},ee.value,{class:{"dp--menu-wrapper":!y(U).enabled},style:y(U).enabled?void 0:y(re)}),[Mt(To,nt({ref_key:"dpMenuRef",ref:c},z.$props,{"internal-model-value":y(f),"onUpdate:internalModelValue":ne[3]||(ne[3]=le=>io(f)?f.value=le:null),class:{[Qe.value]:!0,"dp--menu-wrapper":z.teleport},"open-on-top":y(H),"no-overlay-focus":v.value,collapse:M.value,"get-input-rect":W,"is-text-input-date":x.value,onClosePicker:St,onSelectDate:$t,onAutoApply:Xt,onTimeUpdate:ir,onFlowStep:ne[4]||(ne[4]=le=>z.$emit("flow-step",le)),onUpdateMonthYear:ne[5]||(ne[5]=le=>z.$emit("update-month-year",le)),onInvalidSelect:ne[6]||(ne[6]=le=>z.$emit("invalid-select",y(f))),onAutoApplyInvalid:ne[7]||(ne[7]=le=>z.$emit("invalid-select",le)),onInvalidFixedRange:ne[8]||(ne[8]=le=>z.$emit("invalid-fixed-range",le)),onRecalculatePosition:y(se),onTooltipOpen:ne[9]||(ne[9]=le=>z.$emit("tooltip-open",le)),onTooltipClose:ne[10]||(ne[10]=le=>z.$emit("tooltip-close",le)),onTimePickerOpen:ne[11]||(ne[11]=le=>z.$emit("time-picker-open",le)),onTimePickerClose:ne[12]||(ne[12]=le=>z.$emit("time-picker-close",le)),onAmPmChange:ne[13]||(ne[13]=le=>z.$emit("am-pm-change",le)),onRangeStart:ne[14]||(ne[14]=le=>z.$emit("range-start",le)),onRangeEnd:ne[15]||(ne[15]=le=>z.$emit("range-end",le)),onDateUpdate:ne[16]||(ne[16]=le=>z.$emit("date-update",le)),onInvalidDate:ne[17]||(ne[17]=le=>z.$emit("invalid-date",le)),onOverlayToggle:ne[18]||(ne[18]=le=>z.$emit("overlay-toggle",le))}),ht({_:2},[Be(y(O),(le,pt)=>({name:le,fn:Se(Rt=>[de(z.$slots,le,at(kt({...Rt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):Q("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),cu=(()=>{const t=Rf;return t.install=e=>{e.component("Vue3DatePicker",t)},t})(),If=Object.freeze(Object.defineProperty({__proto__:null,default:cu},Symbol.toStringTag,{value:"Module"}));Object.entries(If).forEach(([t,e])=>{t!=="default"&&(cu[t]=e)});function Si(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Nf=0;function hu(t){return"__private_"+Nf+++"_"+t}function Bf(t,e,a){const n=[];return t.forEach(i=>typeof i!="string"?n.push(i):e[Symbol.split](i).forEach((r,s,o)=>{r!==""&&n.push(r),s<o.length-1&&n.push(a)})),n}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function So(t,e){const a=/\$/g,n="$$$$";let i=[t];if(e==null)return i;for(const r of Object.keys(e))if(r!=="_"){let s=e[r];typeof s=="string"&&(s=a[Symbol.replace](s,n)),i=Bf(i,new RegExp(`%\\{${r}\\}`,"g"),s)}return i}const Uf=t=>{throw new Error(`missing string: ${t}`)};var Mn=hu("onMissingKey"),En=hu("apply");class pu{constructor(e,a){let{onMissingKey:n=Uf}=a===void 0?{}:a;Object.defineProperty(this,En,{value:Lf}),Object.defineProperty(this,Mn,{writable:!0,value:void 0}),this.locale={strings:{},pluralize(i){return i===1?0:1}},Array.isArray(e)?e.forEach(Si(this,En)[En],this):Si(this,En)[En](e),Si(this,Mn)[Mn]=n}translate(e,a){return this.translateArray(e,a).join("")}translateArray(e,a){let n=this.locale.strings[e];if(n==null&&(Si(this,Mn)[Mn](e),n=e),typeof n=="object"){if(a&&typeof a.smart_count<"u"){const r=this.locale.pluralize(a.smart_count);return So(n[r],a)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof n!="string")throw new Error("string was not a string");return So(n,a)}}function Lf(t){if(!(t!=null&&t.strings))return;const e=this.locale;Object.assign(this.locale,{strings:{...e.strings,...t.strings},pluralize:t.pluralize||e.pluralize})}var zf=function(){var e={},a=e._fns={};e.emit=function(s,o,l,u,c,d,p){var m=n(s);m.length&&i(s,m,[o,l,u,c,d,p])},e.on=function(s,o){a[s]||(a[s]=[]),a[s].push(o)},e.once=function(s,o){function l(){o.apply(this,arguments),e.off(s,l)}this.on(s,l)},e.off=function(s,o){var l=[];if(s&&o){var u=this._fns[s],c=0,d=u?u.length:0;for(c;c<d;c++)u[c]!==o&&l.push(u[c])}l.length?this._fns[s]=l:delete this._fns[s]};function n(r){var s=a[r]?a[r]:[],o=r.indexOf(":"),l=o===-1?[r]:[r.substring(0,o),r.substring(o+1)],u=Object.keys(a),c=0,d=u.length;for(c;c<d;c++){var p=u[c];if(p==="*"&&(s=s.concat(a[p])),l.length===2&&l[0]===p){s=s.concat(a[p]);break}}return s}function i(r,s,o){var l=0,u=s.length;for(l;l<u&&s[l];l++)s[l].event=r,s[l].apply(s[l],o)}return e};const Hf=kn(zf);let jf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",js=(t=21)=>{let e="",a=t;for(;a--;)e+=jf[Math.random()*64|0];return e};function qf(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qs=qf,Yf=typeof ki=="object"&&ki&&ki.Object===Object&&ki,Vf=Yf,Wf=Vf,Gf=typeof self=="object"&&self&&self.Object===Object&&self,Kf=Wf||Gf||Function("return this")(),fu=Kf,Xf=fu,Qf=function(){return Xf.Date.now()},Jf=Qf,Zf=/\s/;function em(t){for(var e=t.length;e--&&Zf.test(t.charAt(e)););return e}var tm=em,am=tm,nm=/^\s+/;function im(t){return t&&t.slice(0,am(t)+1).replace(nm,"")}var rm=im,sm=fu,om=sm.Symbol,mu=om,Fo=mu,vu=Object.prototype,lm=vu.hasOwnProperty,um=vu.toString,$n=Fo?Fo.toStringTag:void 0;function dm(t){var e=lm.call(t,$n),a=t[$n];try{t[$n]=void 0;var n=!0}catch{}var i=um.call(t);return n&&(e?t[$n]=a:delete t[$n]),i}var cm=dm,hm=Object.prototype,pm=hm.toString;function fm(t){return pm.call(t)}var mm=fm,xo=mu,vm=cm,gm=mm,ym="[object Null]",bm="[object Undefined]",Do=xo?xo.toStringTag:void 0;function wm(t){return t==null?t===void 0?bm:ym:Do&&Do in Object(t)?vm(t):gm(t)}var _m=wm;function km(t){return t!=null&&typeof t=="object"}var Pm=km,Tm=_m,Sm=Pm,Fm="[object Symbol]";function xm(t){return typeof t=="symbol"||Sm(t)&&Tm(t)==Fm}var Dm=xm,Om=rm,Oo=qs,Am=Dm,Ao=NaN,Cm=/^[-+]0x[0-9a-f]+$/i,Mm=/^0b[01]+$/i,Em=/^0o[0-7]+$/i,$m=parseInt;function Rm(t){if(typeof t=="number")return t;if(Am(t))return Ao;if(Oo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Oo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Om(t);var a=Mm.test(t);return a||Em.test(t)?$m(t.slice(2),a?2:8):Cm.test(t)?Ao:+t}var Im=Rm,Nm=qs,Tr=Jf,Co=Im,Bm="Expected a function",Um=Math.max,Lm=Math.min;function zm(t,e,a){var n,i,r,s,o,l,u=0,c=!1,d=!1,p=!0;if(typeof t!="function")throw new TypeError(Bm);e=Co(e)||0,Nm(a)&&(c=!!a.leading,d="maxWait"in a,r=d?Um(Co(a.maxWait)||0,e):r,p="trailing"in a?!!a.trailing:p);function m(D){var _=n,L=i;return n=i=void 0,u=D,s=t.apply(L,_),s}function b(D){return u=D,o=setTimeout(x,e),c?m(D):s}function w(D){var _=D-l,L=D-u,U=e-_;return d?Lm(U,r-L):U}function M(D){var _=D-l,L=D-u;return l===void 0||_>=e||_<0||d&&L>=r}function x(){var D=Tr();if(M(D))return S(D);o=setTimeout(x,w(D))}function S(D){return o=void 0,p&&n?m(D):(n=i=void 0,s)}function P(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function E(){return o===void 0?s:S(Tr())}function q(){var D=Tr(),_=M(D);if(n=arguments,i=this,l=D,_){if(o===void 0)return b(l);if(d)return clearTimeout(o),o=setTimeout(x,e),m(l)}return o===void 0&&(o=setTimeout(x,e)),s}return q.cancel=P,q.flush=E,q}var gu=zm;const Hm=kn(gu);var jm=gu,qm=qs,Ym="Expected a function";function Vm(t,e,a){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Ym);return qm(a)&&(n="leading"in a?!!a.leading:n,i="trailing"in a?!!a.trailing:i),jm(t,e,{leading:n,maxWait:e,trailing:i})}var Wm=Vm;const Gm=kn(Wm);function Ui(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Km=0;function yu(t){return"__private_"+Km+++"_"+t}const Xm={version:"4.1.0"};var Ya=yu("callbacks"),Sr=yu("publish");class bu{constructor(){Object.defineProperty(this,Sr,{value:Qm}),this.state={},Object.defineProperty(this,Ya,{writable:!0,value:new Set})}getState(){return this.state}setState(e){const a={...this.state},n={...this.state,...e};this.state=n,Ui(this,Sr)[Sr](a,n,e)}subscribe(e){return Ui(this,Ya)[Ya].add(e),()=>{Ui(this,Ya)[Ya].delete(e)}}}function Qm(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];Ui(this,Ya)[Ya].forEach(n=>{n(...e)})}bu.VERSION=Xm.version;function wu(t){const e=t.lastIndexOf(".");return e===-1||e===t.length-1?{name:t,extension:void 0}:{name:t.slice(0,e),extension:t.slice(e+1)}}const Mo={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function _u(t){var e;if(t.type)return t.type;const a=t.name?(e=wu(t.name).extension)==null?void 0:e.toLowerCase():null;return a&&a in Mo?Mo[a]:"application/octet-stream"}function Jm(t){return t.charCodeAt(0).toString(32)}function Eo(t){let e="";return t.replace(/[^A-Z0-9]/gi,a=>(e+=`-${Jm(a)}`,"/"))+e}function Zm(t,e){let a=e||"uppy";return typeof t.name=="string"&&(a+=`-${Eo(t.name.toLowerCase())}`),t.type!==void 0&&(a+=`-${t.type}`),t.meta&&typeof t.meta.relativePath=="string"&&(a+=`-${Eo(t.meta.relativePath.toLowerCase())}`),t.data.size!==void 0&&(a+=`-${t.data.size}`),t.data.lastModified!==void 0&&(a+=`-${t.data.lastModified}`),a}function ev(t){return!t.isRemote||!t.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(t.remote.provider)}function tv(t,e){if(ev(t))return t.id;const a=_u(t);return Zm({...t,type:a},e)}function av(t){if(t==null&&typeof navigator<"u"&&(t=navigator.userAgent),!t)return!0;const e=/Edge\/(\d+\.\d+)/.exec(t);if(!e)return!0;const n=e[1].split(".",2),i=parseInt(n[0],10),r=parseInt(n[1],10);return i<15||i===15&&r<15063||i>18||i===18&&r>=18218}function nv(t,e){return e.name?e.name:t.split("/")[0]==="image"?`${t.split("/")[0]}.${t.split("/")[1]}`:"noname"}function Fr(t){return t<10?`0${t}`:t.toString()}function Li(){const t=new Date,e=Fr(t.getHours()),a=Fr(t.getMinutes()),n=Fr(t.getSeconds());return`${e}:${a}:${n}`}const iv={debug:()=>{},warn:()=>{},error:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return console.error(`[Uppy] [${Li()}]`,...e)}},rv={debug:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return console.debug(`[Uppy] [${Li()}]`,...e)},warn:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return console.warn(`[Uppy] [${Li()}]`,...e)},error:function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return console.error(`[Uppy] [${Li()}]`,...e)}};var sv=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const a=e<0,n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(a&&(e=-e),e<1)return`${(a?"-":"")+e} B`;const i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),n.length-1);e=Number(e/1024**i);const r=n[i];return e>=10||e%1===0?`${(a?"-":"")+e.toFixed(0)} ${r}`:`${(a?"-":"")+e.toFixed(1)} ${r}`};const Qa=kn(sv);function ku(t,e){this.text=t=t||"",this.hasWild=~t.indexOf("*"),this.separator=e,this.parts=t.split(e)}ku.prototype.match=function(t){var e=!0,a=this.parts,n,i=a.length,r;if(typeof t=="string"||t instanceof String)if(!this.hasWild&&this.text!=t)e=!1;else{for(r=(t||"").split(this.separator),n=0;e&&n<i;n++)a[n]!=="*"&&(n<r.length?e=a[n]===r[n]:e=!1);e=e&&r}else if(typeof t.splice=="function")for(e=[],n=t.length;n--;)this.match(t[n])&&(e[e.length]=t[n]);else if(typeof t=="object"){e={};for(var s in t)this.match(s)&&(e[s]=t[s])}return e};var ov=function(t,e,a){var n=new ku(t,a||/[\/\.]/);return typeof e<"u"?n.match(e):n},lv=ov,uv=/[\/\+\.]/,dv=function(t,e){function a(n){var i=lv(n,t,uv);return i&&i.length>=2}return e?a(e.split(";")[0]):a};const cv=kn(dv),hv={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class Lt extends Error{constructor(e,a){var n;super(e),this.isRestriction=!0,this.isUserFacing=(n=a==null?void 0:a.isUserFacing)!=null?n:!0,a!=null&&a.file&&(this.file=a.file)}}class pv{constructor(e,a){this.getI18n=a,this.getOpts=()=>{var n;const i=e();if(((n=i.restrictions)==null?void 0:n.allowedFileTypes)!=null&&!Array.isArray(i.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return i}}validateAggregateRestrictions(e,a){const{maxTotalFileSize:n,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&e.filter(s=>!s.isGhost).length+a.length>i)throw new Lt(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(n){const r=[...e,...a].reduce((s,o)=>{var l;return s+((l=o.size)!=null?l:0)},0);if(r>n)throw new Lt(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Qa(n),size:Qa(r)}))}}validateSingleFile(e){const{maxFileSize:a,minFileSize:n,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(o=>o.includes("/")?e.type?cv(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=i.join(", ");throw new Lt(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(a&&e.size!=null&&e.size>a){var r;throw new Lt(this.getI18n()("exceedsSize",{size:Qa(a),file:(r=e.name)!=null?r:this.getI18n()("unnamed")}),{file:e})}if(n&&e.size!=null&&e.size<n)throw new Lt(this.getI18n()("inferiorSize",{size:Qa(n)}),{file:e})}validate(e,a){a.forEach(n=>{this.validateSingleFile(n)}),this.validateAggregateRestrictions(e,a)}validateMinNumberOfFiles(e){const{minNumberOfFiles:a}=this.getOpts().restrictions;if(a&&Object.keys(e).length<a)throw new Lt(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:a}))}getMissingRequiredMetaFields(e){var a;const n=new Lt(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:(a=e.name)!=null?a:this.getI18n()("unnamed")})),{requiredMetaFields:i}=this.getOpts().restrictions,r=[];for(const s of i)(!Object.hasOwn(e.meta,s)||e.meta[s]==="")&&r.push(s);return{missingFields:r,error:n}}}const fv={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed"}};function he(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var mv=0;function Xe(t){return"__private_"+mv+++"_"+t}const vv={version:"4.1.0"},Fi={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var st=Xe("plugins"),yt=Xe("restricter"),Rn=Xe("storeUnsubscribe"),ia=Xe("emitter"),Va=Xe("preProcessors"),Wa=Xe("uploaders"),fa=Xe("postProcessors"),Ot=Xe("informAndEmit"),ui=Xe("checkRequiredMetaFieldsOnFile"),xr=Xe("checkRequiredMetaFields"),In=Xe("assertNewUploadAllowed"),ls=Xe("transformFile"),Nn=Xe("startIfAutoProceed"),Bn=Xe("checkAndUpdateFileState"),Dr=Xe("addListeners"),jt=Xe("updateOnlineStatus"),Un=Xe("requestClientById"),ra=Xe("createUpload"),Or=Xe("getUpload"),Ja=Xe("removeUpload"),sa=Xe("runUpload");class Ys{constructor(e){Object.defineProperty(this,sa,{value:Dv}),Object.defineProperty(this,Ja,{value:xv}),Object.defineProperty(this,Or,{value:Fv}),Object.defineProperty(this,ra,{value:Sv}),Object.defineProperty(this,Dr,{value:Tv}),Object.defineProperty(this,Bn,{value:Pv}),Object.defineProperty(this,Nn,{value:kv}),Object.defineProperty(this,ls,{value:_v}),Object.defineProperty(this,In,{value:wv}),Object.defineProperty(this,xr,{value:bv}),Object.defineProperty(this,ui,{value:yv}),Object.defineProperty(this,Ot,{value:gv}),Object.defineProperty(this,st,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,yt,{writable:!0,value:void 0}),Object.defineProperty(this,Rn,{writable:!0,value:void 0}),Object.defineProperty(this,ia,{writable:!0,value:Hf()}),Object.defineProperty(this,Va,{writable:!0,value:new Set}),Object.defineProperty(this,Wa,{writable:!0,value:new Set}),Object.defineProperty(this,fa,{writable:!0,value:new Set}),this.scheduledAutoProceed=null,this.wasOffline=!1,this.calculateProgress=Gm((i,r)=>{const s=this.getFile(i==null?void 0:i.id);if(i==null||!s){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}if(s.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${i.id}`);return}const o=Number.isFinite(r.bytesTotal)&&r.bytesTotal>0;this.setFileState(i.id,{progress:{...s.progress,bytesUploaded:r.bytesUploaded,bytesTotal:r.bytesTotal,percentage:o?Math.round(r.bytesUploaded/r.bytesTotal*100):0}}),this.calculateTotalProgress()},500,{leading:!0,trailing:!0}),Object.defineProperty(this,jt,{writable:!0,value:this.updateOnlineStatus.bind(this)}),Object.defineProperty(this,Un,{writable:!0,value:new Map}),this.defaultLocale=fv;const a={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:hv,meta:{},onBeforeFileAdded:(i,r)=>!Object.hasOwn(r,i.id),onBeforeUpload:i=>i,store:new bu,logger:iv,infoTimeout:5e3},n={...a,...e};this.opts={...n,restrictions:{...a.restrictions,...e&&e.restrictions}},e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=rv),this.log(`Using Core v${Ys.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Fi,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:av(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),he(this,yt)[yt]=new pv(()=>this.opts,()=>this.i18n),he(this,Rn)[Rn]=this.store.subscribe((i,r,s)=>{this.emit("state-update",i,r,s),this.updateAll(r)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),he(this,Dr)[Dr]()}emit(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];he(this,ia)[ia].emit(e,...n)}on(e,a){return he(this,ia)[ia].on(e,a),this}once(e,a){return he(this,ia)[ia].once(e,a),this}off(e,a){return he(this,ia)[ia].off(e,a),this}updateAll(e){this.iteratePlugins(a=>{a.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const a=this.getState().files;this.setState({files:{...a,...Object.fromEntries(Object.entries(e).map(n=>{let[i,r]=n;return[i,{...a[i],...r}]}))}})}setFileState(e,a){if(!this.getState().files[e])throw new Error(`Cant set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:a})}i18nInit(){const e=n=>this.log(`Missing i18n string: ${n}`,"error"),a=new pu([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=a.translate.bind(a),this.i18nArray=a.translateArray.bind(a),this.locale=a.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(a=>{a.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},a={...this.getState().files},n=Object.create(null);Object.keys(a).forEach(i=>{n[i]={...a[i],progress:{...a[i].progress,...e}}}),this.setState({files:n,...Fi})}clear(){const{capabilities:e,currentUploads:a}=this.getState();if(Object.keys(a).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Fi,files:{}})}addPreProcessor(e){he(this,Va)[Va].add(e)}removePreProcessor(e){return he(this,Va)[Va].delete(e)}addPostProcessor(e){he(this,fa)[fa].add(e)}removePostProcessor(e){return he(this,fa)[fa].delete(e)}addUploader(e){he(this,Wa)[Wa].add(e)}removeUploader(e){return he(this,Wa)[Wa].delete(e)}setMeta(e){const a={...this.getState().meta,...e},n={...this.getState().files};Object.keys(n).forEach(i=>{n[i]={...n[i],meta:{...n[i].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:a,files:n})}setFileMeta(e,a){const n={...this.getState().files};if(!n[e]){this.log("Was trying to set metadata for a file that has been removed: ",e);return}const i={...n[e].meta,...a};n[e]={...n[e],meta:i},this.setState({files:n})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(a=>this.getFile(a))}getObjectOfFilesPerState(){const{files:e,totalProgress:a,error:n}=this.getState(),i=Object.values(e),r=[],s=[],o=[],l=[],u=[],c=[],d=[],p=[],m=[];for(const b of i){const{progress:w}=b;!w.uploadComplete&&w.uploadStarted&&(r.push(b),b.isPaused||p.push(b)),w.uploadStarted||s.push(b),(w.uploadStarted||w.preprocess||w.postprocess)&&o.push(b),w.uploadStarted&&l.push(b),b.isPaused&&u.push(b),w.uploadComplete&&c.push(b),b.error&&d.push(b),(w.preprocess||w.postprocess)&&m.push(b)}return{newFiles:s,startedFiles:o,uploadStartedFiles:l,pausedFiles:u,completeFiles:c,erroredFiles:d,inProgressFiles:r,inProgressNotPausedFiles:p,processingFiles:m,isUploadStarted:l.length>0,isAllComplete:a===100&&c.length===i.length&&m.length===0,isAllErrored:!!n&&d.length===i.length,isAllPaused:r.length!==0&&u.length===r.length,isUploadInProgress:r.length>0,isSomeGhost:i.some(b=>b.isGhost)}}validateSingleFile(e){try{he(this,yt)[yt].validateSingleFile(e)}catch(a){return a.message}return null}validateAggregateRestrictions(e){const a=this.getFiles();try{he(this,yt)[yt].validateAggregateRestrictions(a,e)}catch(n){return n.message}return null}checkIfFileAlreadyExists(e){const{files:a}=this.getState();return!!(a[e]&&!a[e].isGhost)}addFile(e){he(this,In)[In](e);const{nextFilesState:a,validFilesToAdd:n,errors:i}=he(this,Bn)[Bn]([e]),r=i.filter(o=>o.isRestriction);if(he(this,Ot)[Ot](r),i.length>0)throw i[0];this.setState({files:a});const[s]=n;return this.emit("file-added",s),this.emit("files-added",n),this.log(`Added file: ${s.name}, ${s.id}, mime type: ${s.type}`),he(this,Nn)[Nn](),s.id}addFiles(e){he(this,In)[In]();const{nextFilesState:a,validFilesToAdd:n,errors:i}=he(this,Bn)[Bn](e),r=i.filter(o=>o.isRestriction);he(this,Ot)[Ot](r);const s=i.filter(o=>!o.isRestriction);if(s.length>0){let o=`Multiple errors occurred while adding files:
`;if(s.forEach(l=>{o+=`
 * ${l.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:s.length}),details:o},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(s,o);{const l=new Error(o);throw l.errors=s,l}}this.setState({files:a}),n.forEach(o=>{this.emit("file-added",o)}),this.emit("files-added",n),n.length>5?this.log(`Added batch of ${n.length} files`):Object.values(n).forEach(o=>{this.log(`Added file: ${o.name}
 id: ${o.id}
 type: ${o.type}`)}),n.length>0&&he(this,Nn)[Nn]()}removeFiles(e){const{files:a,currentUploads:n}=this.getState(),i={...a},r={...n},s=Object.create(null);e.forEach(c=>{a[c]&&(s[c]=a[c],delete i[c])});function o(c){return s[c]===void 0}Object.keys(r).forEach(c=>{const d=n[c].fileIDs.filter(o);if(d.length===0){delete r[c];return}const{capabilities:p}=this.getState();if(d.length!==n[c].fileIDs.length&&!p.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");r[c]={...n[c],fileIDs:d}});const l={currentUploads:r,files:i};Object.keys(i).length===0&&(l.allowNewUpload=!0,l.error=null,l.recoveredState=null),this.setState(l),this.calculateTotalProgress();const u=Object.keys(s);u.forEach(c=>{this.emit("file-removed",s[c])}),u.length>5?this.log(`Removed ${u.length} files`):this.log(`Removed files: ${u.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const a=this.getFile(e),i=!(a.isPaused||!1);return this.setFileState(e,{isPaused:i}),this.emit("upload-pause",a,i),i}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!0};e[n]=i}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(n=>!e[n].progress.uploadComplete&&e[n].progress.uploadStarted).forEach(n=>{const i={...e[n],isPaused:!1,error:null};e[n]=i}),this.setState({files:e}),this.emit("resume-all")}retryAll(){const e={...this.getState().files},a=Object.keys(e).filter(i=>e[i].error);if(a.forEach(i=>{const r={...e[i],isPaused:!1,error:null};e[i]=r}),this.setState({files:e,error:null}),this.emit("retry-all",Object.values(e)),a.length===0)return Promise.resolve({successful:[],failed:[]});const n=he(this,ra)[ra](a,{forceAllowNewUpload:!0});return he(this,sa)[sa](n)}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),a=Object.keys(e);a.length&&this.removeFiles(a),this.setState(Fi)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const a=he(this,ra)[ra]([e],{forceAllowNewUpload:!0});return he(this,sa)[sa](a)}logout(){this.iteratePlugins(e=>{var a;(a=e.provider)==null||a.logout==null||a.logout()})}calculateTotalProgress(){const a=this.getFiles().filter(u=>u.progress.uploadStarted||u.progress.preprocess||u.progress.postprocess);if(a.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}const n=a.filter(u=>u.progress.bytesTotal!=null),i=a.filter(u=>u.progress.bytesTotal==null);if(n.length===0){const u=a.length*100,c=i.reduce((p,m)=>p+m.progress.percentage,0),d=Math.round(c/u*100);this.setState({totalProgress:d});return}let r=n.reduce((u,c)=>{var d;return u+((d=c.progress.bytesTotal)!=null?d:0)},0);const s=r/n.length;r+=s*i.length;let o=0;n.forEach(u=>{o+=u.progress.bytesUploaded}),i.forEach(u=>{o+=s*(u.progress.percentage||0)/100});let l=r===0?0:Math.round(o/r*100);l>100&&(l=100),this.setState({totalProgress:l}),this.emit("progress",l)}updateOnlineStatus(){var e;((e=window.navigator.onLine)!=null?e:!0)?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e){if(typeof e!="function"){const l=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(l)}for(var a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];const r=new e(this,...n),s=r.id;if(!s)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const o=this.getPlugin(s);if(o){const l=`Already found a plugin named '${o.id}'. Tried to use: '${s}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(l)}return e.VERSION&&this.log(`Using ${s} v${e.VERSION}`),r.type in he(this,st)[st]?he(this,st)[st][r.type].push(r):he(this,st)[st][r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(e){for(const a of Object.values(he(this,st)[st])){const n=a.find(i=>i.id===e);if(n!=null)return n}}[Symbol.for("uppy test: getPlugins")](e){return he(this,st)[st][e]}iteratePlugins(e){Object.values(he(this,st)[st]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const a=he(this,st)[st][e.type],n=a.findIndex(s=>s.id===e.id);n!==-1&&a.splice(n,1);const r={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(r)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),he(this,Rn)[Rn](),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",he(this,jt)[jt]),window.removeEventListener("offline",he(this,jt)[jt]))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,a,n){a===void 0&&(a="info"),n===void 0&&(n=3e3);const i=typeof e=="object";this.setState({info:[...this.getState().info,{type:a,message:i?e.message:e,details:i?e.details:null}]}),setTimeout(()=>this.hideInfo(),n),this.emit("info-visible")}log(e,a){const{logger:n}=this.opts;switch(a){case"error":n.error(e);break;case"warning":n.warn(e);break;default:n.debug(e);break}}registerRequestClient(e,a){he(this,Un)[Un].set(e,a)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const a=he(this,Un)[Un].get(e.remote.requestClientId);if(a==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return a}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?he(this,sa)[sa](e):(he(this,Ja)[Ja](e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](){return he(this,ra)[ra](...arguments)}addResultData(e,a){if(!he(this,Or)[Or](e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:n}=this.getState(),i={...n[e],result:{...n[e].result,...a}};this.setState({currentUploads:{...n,[e]:i}})}upload(){var e;(e=he(this,st)[st].uploader)!=null&&e.length||this.log("No uploader type plugins are used","warning");let{files:a}=this.getState();const n=this.opts.onBeforeUpload(a);return n===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(n&&typeof n=="object"&&(a=n,this.setState({files:a})),Promise.resolve().then(()=>he(this,yt)[yt].validateMinNumberOfFiles(a)).catch(i=>{throw he(this,Ot)[Ot]([i]),i}).then(()=>{if(!he(this,xr)[xr](a))throw new Lt(this.i18n("missingRequiredMetaField"))}).catch(i=>{throw i}).then(()=>{const{currentUploads:i}=this.getState(),r=Object.values(i).flatMap(l=>l.fileIDs),s=[];Object.keys(a).forEach(l=>{const u=this.getFile(l);!u.progress.uploadStarted&&r.indexOf(l)===-1&&s.push(u.id)});const o=he(this,ra)[ra](s);return he(this,sa)[sa](o)}).catch(i=>{throw this.emit("error",i),this.log(i,"error"),i}))}}function gv(t){for(const r of t)r.isRestriction?this.emit("restriction-failed",r.file,r):this.emit("error",r,r.file),this.log(r,"warning");const e=t.filter(r=>r.isUserFacing),a=4,n=e.slice(0,a),i=e.slice(a);n.forEach(r=>{let{message:s,details:o=""}=r;this.info({message:s,details:o},"error",this.opts.infoTimeout)}),i.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:i.length})})}function yv(t){const{missingFields:e,error:a}=he(this,yt)[yt].getMissingRequiredMetaFields(t);return e.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:e}),this.log(a.message),this.emit("restriction-failed",t,a),!1):!0}function bv(t){let e=!0;for(const a of Object.values(t))he(this,ui)[ui](a)||(e=!1);return e}function wv(t){const{allowNewUpload:e}=this.getState();if(e===!1){const a=new Lt(this.i18n("noMoreFilesAllowed"),{file:t});throw he(this,Ot)[Ot]([a]),a}}function _v(t){const e=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,a=_u(e),n=nv(a,e),i=wu(n).extension,r=tv(e,this.getID()),s=e.meta||{};s.name=n,s.type=a;const o=Number.isFinite(e.data.size)?e.data.size:null;return{source:e.source||"",id:r,name:n,extension:i||"",meta:{...this.getState().meta,...s},type:a,data:e.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:o,uploadComplete:!1,uploadStarted:null},size:o,isGhost:!1,isRemote:e.isRemote||!1,remote:e.remote,preview:e.preview}}function kv(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))}function Pv(t){const{files:e}=this.getState(),a={...e},n=[],i=[];for(const o of t)try{var r;let l=he(this,ls)[ls](o);const u=(r=e[l.id])==null?void 0:r.isGhost;u&&(l={...e[l.id],isGhost:!1,data:o.data},this.log(`Replaced the blob in the restored ghost file: ${l.name}, ${l.id}`));const c=this.opts.onBeforeFileAdded(l,a);if(!c&&this.checkIfFileAlreadyExists(l.id)){var s;throw new Lt(this.i18n("noDuplicates",{fileName:(s=l.name)!=null?s:this.i18n("unnamed")}),{file:o})}if(c===!1&&!u)throw new Lt("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:o});typeof c=="object"&&c!==null&&(l=c),he(this,yt)[yt].validateSingleFile(l),a[l.id]=l,n.push(l)}catch(l){i.push(l)}try{he(this,yt)[yt].validateAggregateRestrictions(Object.values(e),n)}catch(o){return i.push(o),{nextFilesState:e,validFilesToAdd:[],errors:i}}return{nextFilesState:a,validFilesToAdd:n,errors:i}}function Tv(){const t=(n,i,r)=>{let s=n.message||"Unknown error";n.details&&(s+=` ${n.details}`),this.setState({error:s}),i!=null&&i.id in this.getState().files&&this.setFileState(i.id,{error:s,response:r})};this.on("error",t),this.on("upload-error",(n,i,r)=>{if(t(i,n,r),typeof i=="object"&&i.message){var s;this.log(i.message,"error");const o=new Error(this.i18n("failedToUpload",{file:(s=n==null?void 0:n.name)!=null?s:""}));o.isUserFacing=!0,o.details=i.message,i.details&&(o.details+=` ${i.details}`),he(this,Ot)[Ot]([o])}else he(this,Ot)[Ot]([i])});let e=null;this.on("upload-stalled",(n,i)=>{const{message:r}=n,s=i.map(o=>o.meta.name).join(", ");e||(this.info({message:r,details:s},"warning",this.opts.infoTimeout),e=setTimeout(()=>{e=null},this.opts.infoTimeout)),this.log(`${r} ${s}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const a=n=>{const i=n.filter(s=>{const o=s!=null&&this.getFile(s.id);return o||this.log(`Not setting progress for a file that has been removed: ${s==null?void 0:s.id}`),o}),r=Object.fromEntries(i.map(s=>[s.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:s.size}}]));this.patchFilesState(r)};this.on("upload-start",a),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(n,i)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const r=this.getFile(n.id).progress;this.setFileState(n.id,{progress:{...r,postprocess:he(this,fa)[fa].size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:r.bytesTotal},response:i,uploadURL:i.uploadURL,isPaused:!1}),n.size==null&&this.setFileState(n.id,{size:i.bytesUploaded||r.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(n,i)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{...this.getFile(n.id).progress,preprocess:i}})}),this.on("preprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const i={...this.getState().files};i[n.id]={...i[n.id],progress:{...i[n.id].progress}},delete i[n.id].progress.preprocess,this.setState({files:i})}),this.on("postprocess-progress",(n,i)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{...this.getState().files[n.id].progress,postprocess:i}})}),this.on("postprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}const i={...this.getState().files};i[n.id]={...i[n.id],progress:{...i[n.id].progress}},delete i[n.id].progress.postprocess,this.setState({files:i})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",n=>{n&&he(this,ui)[ui](n)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",he(this,jt)[jt]),window.addEventListener("offline",he(this,jt)[jt]),setTimeout(he(this,jt)[jt],3e3))}function Sv(t,e){e===void 0&&(e={});const{forceAllowNewUpload:a=!1}=e,{allowNewUpload:n,currentUploads:i}=this.getState();if(!n&&!a)throw new Error("Cannot create a new upload: already uploading.");const r=js();return this.emit("upload",r,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...i,[r]:{fileIDs:t,step:0,result:{}}}}),r}function Fv(t){const{currentUploads:e}=this.getState();return e[t]}function xv(t){const e={...this.getState().currentUploads};delete e[t],this.setState({currentUploads:e})}async function Dv(t){const e=()=>{const{currentUploads:r}=this.getState();return r[t]};let a=e();const n=[...he(this,Va)[Va],...he(this,Wa)[Wa],...he(this,fa)[fa]];try{for(let r=a.step||0;r<n.length&&a;r++){const s=n[r];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...a,step:r}}});const{fileIDs:o}=a;await s(o,t),a=e()}}catch(r){throw he(this,Ja)[Ja](t),r}if(a){a.fileIDs.forEach(l=>{const u=this.getFile(l);u&&u.progress.postprocess&&this.emit("postprocess-complete",u)});const r=a.fileIDs.map(l=>this.getFile(l)),s=r.filter(l=>!l.error),o=r.filter(l=>l.error);this.addResultData(t,{successful:s,failed:o,uploadID:t}),a=e()}let i;return a&&(i=a.result,this.emit("complete",i),he(this,Ja)[Ja](t)),i==null&&this.log(`Not setting result for an upload that has been removed: ${t}`),i}Ys.VERSION=vv.version;var bi,He,Pu,Ga,$o,Tu,us,Vs,ds,cs,di={},Su=[],Ov=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ar=Array.isArray;function ya(t,e){for(var a in e)t[a]=e[a];return t}function Fu(t){var e=t.parentNode;e&&e.removeChild(t)}function h(t,e,a){var n,i,r,s={};for(r in e)r=="key"?n=e[r]:r=="ref"?i=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?bi.call(arguments,2):a),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)s[r]===void 0&&(s[r]=t.defaultProps[r]);return ai(t,s,n,i,null)}function ai(t,e,a,n,i){var r={type:t,props:e,key:a,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Pu,__i:-1,__u:0};return i==null&&He.vnode!=null&&He.vnode(r),r}function Av(){return{current:null}}function tn(t){return t.children}function ba(t,e){this.props=t,this.context=e}function rn(t,e){if(e==null)return t.__?rn(t.__,t.__i+1):null;for(var a;e<t.__k.length;e++)if((a=t.__k[e])!=null&&a.__e!=null)return a.__e;return typeof t.type=="function"?rn(t):null}function xu(t){var e,a;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((a=t.__k[e])!=null&&a.__e!=null){t.__e=t.__c.base=a.__e;break}return xu(t)}}function Ro(t){(!t.__d&&(t.__d=!0)&&Ga.push(t)&&!Yi.__r++||$o!==He.debounceRendering)&&(($o=He.debounceRendering)||Tu)(Yi)}function Yi(){var t,e,a,n,i,r,s,o;for(Ga.sort(us);t=Ga.shift();)t.__d&&(e=Ga.length,n=void 0,r=(i=(a=t).__v).__e,s=[],o=[],a.__P&&((n=ya({},i)).__v=i.__v+1,He.vnode&&He.vnode(n),Ws(a.__P,n,i,a.__n,a.__P.namespaceURI,32&i.__u?[r]:null,s,r??rn(i),!!(32&i.__u),o),n.__v=i.__v,n.__.__k[n.__i]=n,Au(s,n,o),n.__e!=r&&xu(n)),Ga.length>e&&Ga.sort(us));Yi.__r=0}function Du(t,e,a,n,i,r,s,o,l,u,c){var d,p,m,b,w,M=n&&n.__k||Su,x=e.length;for(a.__d=l,Cv(a,e,M),l=a.__d,d=0;d<x;d++)(m=a.__k[d])!=null&&typeof m!="boolean"&&typeof m!="function"&&(p=m.__i===-1?di:M[m.__i]||di,m.__i=d,Ws(t,m,p,i,r,s,o,l,u,c),b=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&Gs(p.ref,null,m),c.push(m.ref,m.__c||b,m)),w==null&&b!=null&&(w=b),65536&m.__u||p.__k===m.__k?l=Ou(m,l,t):typeof m.type=="function"&&m.__d!==void 0?l=m.__d:b&&(l=b.nextSibling),m.__d=void 0,m.__u&=-196609);a.__d=l,a.__e=w}function Cv(t,e,a){var n,i,r,s,o,l=e.length,u=a.length,c=u,d=0;for(t.__k=[],n=0;n<l;n++)s=n+d,(i=t.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?ai(null,i,null,null,null):ar(i)?ai(tn,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?ai(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,o=Mv(i,a,s,c),i.__i=o,r=null,o!==-1&&(c--,(r=a[o])&&(r.__u|=131072)),r==null||r.__v===null?(o==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):o!==s&&(o==s-1?d=o-s:o==s+1?d++:o>s?c>l-s?d+=o-s:d--:o<s&&d++,o!==n+d&&(i.__u|=65536))):(r=a[s])&&r.key==null&&r.__e&&!(131072&r.__u)&&(r.__e==t.__d&&(t.__d=rn(r)),hs(r,r,!1),a[s]=null,c--);if(c)for(n=0;n<u;n++)(r=a[n])!=null&&!(131072&r.__u)&&(r.__e==t.__d&&(t.__d=rn(r)),hs(r,r))}function Ou(t,e,a){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=Ou(n[i],e,a));return e}t.__e!=e&&(e&&t.type&&!a.contains(e)&&(e=rn(t)),a.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Fa(t,e){return e=e||[],t==null||typeof t=="boolean"||(ar(t)?t.some(function(a){Fa(a,e)}):e.push(t)),e}function Mv(t,e,a,n){var i=t.key,r=t.type,s=a-1,o=a+1,l=e[a];if(l===null||l&&i==l.key&&r===l.type&&!(131072&l.__u))return a;if(n>(l!=null&&!(131072&l.__u)?1:0))for(;s>=0||o<e.length;){if(s>=0){if((l=e[s])&&!(131072&l.__u)&&i==l.key&&r===l.type)return s;s--}if(o<e.length){if((l=e[o])&&!(131072&l.__u)&&i==l.key&&r===l.type)return o;o++}}return-1}function Io(t,e,a){e[0]==="-"?t.setProperty(e,a??""):t[e]=a==null?"":typeof a!="number"||Ov.test(e)?a:a+"px"}function xi(t,e,a,n,i){var r;e:if(e==="style")if(typeof a=="string")t.style.cssText=a;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)a&&e in a||Io(t.style,e,"");if(a)for(e in a)n&&a[e]===n[e]||Io(t.style,e,a[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=a,a?n?a.u=n.u:(a.u=Vs,t.addEventListener(e,r?cs:ds,r)):t.removeEventListener(e,r?cs:ds,r);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=a??"";break e}catch{}typeof a=="function"||(a==null||a===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&a==1?"":a))}}function No(t){return function(e){if(this.l){var a=this.l[e.type+t];if(e.t==null)e.t=Vs++;else if(e.t<a.u)return;return a(He.event?He.event(e):e)}}}function Ws(t,e,a,n,i,r,s,o,l,u){var c,d,p,m,b,w,M,x,S,P,E,q,D,_,L,U,R=e.type;if(e.constructor!==void 0)return null;128&a.__u&&(l=!!(32&a.__u),r=[o=e.__e=a.__e]),(c=He.__b)&&c(e);e:if(typeof R=="function")try{if(x=e.props,S="prototype"in R&&R.prototype.render,P=(c=R.contextType)&&n[c.__c],E=c?P?P.props.value:c.__:n,a.__c?M=(d=e.__c=a.__c).__=d.__E:(S?e.__c=d=new R(x,E):(e.__c=d=new ba(x,E),d.constructor=R,d.render=$v),P&&P.sub(d),d.props=x,d.state||(d.state={}),d.context=E,d.__n=n,p=d.__d=!0,d.__h=[],d._sb=[]),S&&d.__s==null&&(d.__s=d.state),S&&R.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ya({},d.__s)),ya(d.__s,R.getDerivedStateFromProps(x,d.__s))),m=d.props,b=d.state,d.__v=e,p)S&&R.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),S&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(S&&R.getDerivedStateFromProps==null&&x!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(x,E),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(x,d.__s,E)===!1||e.__v===a.__v)){for(e.__v!==a.__v&&(d.props=x,d.state=d.__s,d.__d=!1),e.__e=a.__e,e.__k=a.__k,e.__k.forEach(function(te){te&&(te.__=e)}),q=0;q<d._sb.length;q++)d.__h.push(d._sb[q]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(x,d.__s,E),S&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,b,w)})}if(d.context=E,d.props=x,d.__P=t,d.__e=!1,D=He.__r,_=0,S){for(d.state=d.__s,d.__d=!1,D&&D(e),c=d.render(d.props,d.state,d.context),L=0;L<d._sb.length;L++)d.__h.push(d._sb[L]);d._sb=[]}else do d.__d=!1,D&&D(e),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++_<25);d.state=d.__s,d.getChildContext!=null&&(n=ya(ya({},n),d.getChildContext())),S&&!p&&d.getSnapshotBeforeUpdate!=null&&(w=d.getSnapshotBeforeUpdate(m,b)),Du(t,ar(U=c!=null&&c.type===tn&&c.key==null?c.props.children:c)?U:[U],e,a,n,i,r,s,o,l,u),d.base=e.__e,e.__u&=-161,d.__h.length&&s.push(d),M&&(d.__E=d.__=null)}catch(te){if(e.__v=null,l||r!=null){for(e.__u|=l?160:32;o&&o.nodeType===8&&o.nextSibling;)o=o.nextSibling;r[r.indexOf(o)]=null,e.__e=o}else e.__e=a.__e,e.__k=a.__k;He.__e(te,e,a)}else r==null&&e.__v===a.__v?(e.__k=a.__k,e.__e=a.__e):e.__e=Ev(a.__e,e,a,n,i,r,s,l,u);(c=He.diffed)&&c(e)}function Au(t,e,a){e.__d=void 0;for(var n=0;n<a.length;n++)Gs(a[n],a[++n],a[++n]);He.__c&&He.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(r){r.call(i)})}catch(r){He.__e(r,i.__v)}})}function Ev(t,e,a,n,i,r,s,o,l){var u,c,d,p,m,b,w,M=a.props,x=e.props,S=e.type;if(S==="svg"?i="http://www.w3.org/2000/svg":S==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),r!=null){for(u=0;u<r.length;u++)if((m=r[u])&&"setAttribute"in m==!!S&&(S?m.localName===S:m.nodeType===3)){t=m,r[u]=null;break}}if(t==null){if(S===null)return document.createTextNode(x);t=document.createElementNS(i,S,x.is&&x),r=null,o=!1}if(S===null)M===x||o&&t.data===x||(t.data=x);else{if(r=r&&bi.call(t.childNodes),M=a.props||di,!o&&r!=null)for(M={},u=0;u<t.attributes.length;u++)M[(m=t.attributes[u]).name]=m.value;for(u in M)if(m=M[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=m;else if(u!=="key"&&!(u in x)){if(u=="value"&&"defaultValue"in x||u=="checked"&&"defaultChecked"in x)continue;xi(t,u,null,m,i)}}for(u in x)m=x[u],u=="children"?p=m:u=="dangerouslySetInnerHTML"?c=m:u=="value"?b=m:u=="checked"?w=m:u==="key"||o&&typeof m!="function"||M[u]===m||xi(t,u,m,M[u],i);if(c)o||d&&(c.__html===d.__html||c.__html===t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(d&&(t.innerHTML=""),Du(t,ar(p)?p:[p],e,a,n,S==="foreignObject"?"http://www.w3.org/1999/xhtml":i,r,s,r?r[0]:a.__k&&rn(a,0),o,l),r!=null)for(u=r.length;u--;)r[u]!=null&&Fu(r[u]);o||(u="value",b!==void 0&&(b!==t[u]||S==="progress"&&!b||S==="option"&&b!==M[u])&&xi(t,u,b,M[u],i),u="checked",w!==void 0&&w!==t[u]&&xi(t,u,w,M[u],i))}return t}function Gs(t,e,a){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){He.__e(i,a)}}function hs(t,e,a){var n,i;if(He.unmount&&He.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Gs(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(r){He.__e(r,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&hs(n[i],e,a||typeof t.type!="function");a||t.__e==null||Fu(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function $v(t,e,a){return this.constructor(t,a)}function Bo(t,e,a){var n,i,r,s;He.__&&He.__(t,e),i=(n=typeof a=="function")?null:e.__k,r=[],s=[],Ws(e,t=(!n&&a||e).__k=h(tn,null,[t]),i||di,di,e.namespaceURI,!n&&a?[a]:i?null:e.firstChild?bi.call(e.childNodes):null,r,!n&&a?a:i?i.__e:e.firstChild,n,s),Au(r,t,s)}function Cu(t,e,a){var n,i,r,s,o=ya({},t.props);for(r in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)r=="key"?n=e[r]:r=="ref"?i=e[r]:o[r]=e[r]===void 0&&s!==void 0?s[r]:e[r];return arguments.length>2&&(o.children=arguments.length>3?bi.call(arguments,2):a),ai(t.type,o,n||t.key,i||t.ref,null)}bi=Su.slice,He={__e:function(t,e,a,n){for(var i,r,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),s=i.__d),s)return i.__E=i}catch(o){t=o}throw t}},Pu=0,ba.prototype.setState=function(t,e){var a;a=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ya({},this.state),typeof t=="function"&&(t=t(ya({},a),this.props)),t&&ya(a,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ro(this))},ba.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ro(this))},ba.prototype.render=tn,Ga=[],Tu=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,us=function(t,e){return t.__v.__b-e.__v.__b},Yi.__r=0,Vs=0,ds=No(!1),cs=No(!0);function Mu(t){return typeof t!="object"||t===null||!("nodeType"in t)?!1:t.nodeType===Node.ELEMENT_NODE}function Rv(t,e){return e===void 0&&(e=document),typeof t=="string"?e.querySelector(t):Mu(t)?t:null}function Eu(t){for(var e;t&&!t.dir;)t=t.parentNode;return(e=t)==null?void 0:e.dir}class $u{constructor(e,a){this.uppy=e,this.opts=a??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:a}=this.uppy.getState();this.uppy.setState({plugins:{...a,[this.id]:{...a[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new pu([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function Uo(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Iv=0;function Nv(t){return"__private_"+Iv+++"_"+t}function Bv(t){let e=null,a;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return a=i,e||(e=Promise.resolve().then(()=>(e=null,t(...a)))),e}}var Ln=Nv("updateUI");class na extends $u{constructor(){super(...arguments),Object.defineProperty(this,Ln,{writable:!0,value:void 0})}getTargetPlugin(e){let a;if(typeof(e==null?void 0:e.addTarget)=="function")a=e,a instanceof na||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:a,UIPlugin:na}}));else if(typeof e=="function"){const n=e;this.uppy.iteratePlugins(i=>{i instanceof n&&(a=i)})}return a}mount(e,a){const n=a.id,i=Rv(e);if(i){this.isTargetDOMEl=!0;const o=document.createElement("div");return o.classList.add("uppy-Root"),Uo(this,Ln)[Ln]=Bv(l=>{this.uppy.getPlugin(this.id)&&(Bo(this.render(l),o),this.afterUpdate())}),this.uppy.log(`Installing ${n} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(i.innerHTML=""),Bo(this.render(this.uppy.getState()),o),this.el=o,i.appendChild(o),o.dir=this.opts.direction||Eu(o)||"ltr",this.onMount(),this.el}const r=this.getTargetPlugin(e);if(r)return this.uppy.log(`Installing ${n} to ${r.id}`),this.parent=r,this.el=r.addTarget(a),this.onMount(),this.el;this.uppy.log(`Not installing ${n}`);let s=`Invalid target option given to ${n}.`;throw typeof e=="function"?s+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":s+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(s)}render(e){throw new Error("Extend the render method to add your plugin to a DOM element")}update(e){if(this.el!=null){var a,n;(a=(n=Uo(this,Ln))[Ln])==null||a.call(n,e)}}unmount(){if(this.isTargetDOMEl){var e;(e=this.el)==null||e.remove()}this.onUnmount()}onMount(){}onUnmount(){}}function Lo(t,e,a,n){return t===e?t:n===0?e:t+(e-t)*2**(-n/a)}const Jt={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};var Ru={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function a(){for(var r="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(r=i(r,n(o)))}return r}function n(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return a.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var s="";for(var o in r)e.call(r,o)&&r[o]&&(s=i(s,o));return s}function i(r,s){return s?r?r+" "+s:r+s:r}t.exports?(a.default=a,t.exports=a):window.classNames=a})()})(Ru);var Uv=Ru.exports;const Gt=kn(Uv);function Ar(t){const e=[];let a="indeterminate",n;for(const{progress:r}of Object.values(t)){const{preprocess:s,postprocess:o}=r;n==null&&(s||o)&&({mode:a,message:n}=s||o),(s==null?void 0:s.mode)==="determinate"&&e.push(s.value),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value)}const i=e.reduce((r,s)=>r+s/e.length,0);return{mode:a,message:n,value:i}}function Lv(t){const e=Math.floor(t/3600)%24,a=Math.floor(t/60)%60,n=Math.floor(t%60);return{hours:e,minutes:a,seconds:n}}function zv(t){const e=Lv(t),a=e.hours===0?"":`${e.hours}h`,n=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,i=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${a}${n}${i}`}const Hv="",zo=()=>` ${Hv} `;function jv(t){const{newFiles:e,isUploadStarted:a,recoveredState:n,i18n:i,uploadState:r,isSomeGhost:s,startUpload:o}=t,l=Gt("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":r===Jt.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":s}),u=e&&a&&!n?i("uploadXNewFiles",{smart_count:e}):i("uploadXFiles",{smart_count:e});return h("button",{type:"button",className:l,"aria-label":i("uploadXFiles",{smart_count:e}),onClick:o,disabled:s,"data-uppy-super-focusable":!0},u)}function qv(t){const{i18n:e,uppy:a}=t;return h("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>a.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry"},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},h("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),e("retry"))}function Yv(t){const{i18n:e,uppy:a}=t;return h("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>a.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},h("g",{fill:"none",fillRule:"evenodd"},h("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),h("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function Vv(t){const{isAllPaused:e,i18n:a,isAllComplete:n,resumableUploads:i,uppy:r}=t,s=a(e?"resume":"pause");function o(){if(!n){if(!i){r.cancelAll();return}if(e){r.resumeAll();return}r.pauseAll()}}return h("button",{title:s,"aria-label":s,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:o,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},h("g",{fill:"none",fillRule:"evenodd"},h("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),h("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function Wv(t){const{i18n:e,doneButtonHandler:a}=t;return h("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:a,"data-uppy-super-focusable":!0},e("done"))}function Iu(){return h("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},h("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function Gv(t){const{progress:e}=t,{value:a,mode:n,message:i}=e;return h("div",{className:"uppy-StatusBar-content"},h(Iu,null),n==="determinate"?`${Math.round(a*100)}%  `:"",i)}function Kv(t){const{numUploads:e,complete:a,totalUploadedSize:n,totalSize:i,totalETA:r,i18n:s}=t,o=e>1;return h("div",{className:"uppy-StatusBar-statusSecondary"},o&&s("filesUploadedOfTotal",{complete:a,smart_count:e}),h("span",{className:"uppy-StatusBar-additionalInfo"},o&&zo(),s("dataUploadedOfTotal",{complete:Qa(n),total:Qa(i)}),zo(),s("xTimeLeft",{time:zv(r)})))}function Nu(t){const{i18n:e,complete:a,numUploads:n}=t;return h("div",{className:"uppy-StatusBar-statusSecondary"},e("filesUploadedOfTotal",{complete:a,smart_count:n}))}function Xv(t){const{i18n:e,newFiles:a,startUpload:n}=t,i=Gt("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return h("div",{className:"uppy-StatusBar-statusSecondary"},h("div",{className:"uppy-StatusBar-statusSecondaryHint"},e("xMoreFilesAdded",{smart_count:a})),h("button",{type:"button",className:i,"aria-label":e("uploadXFiles",{smart_count:a}),onClick:n},e("upload")))}function Qv(t){const{i18n:e,supportsUploadProgress:a,totalProgress:n,showProgressDetails:i,isUploadStarted:r,isAllComplete:s,isAllPaused:o,newFiles:l,numUploads:u,complete:c,totalUploadedSize:d,totalSize:p,totalETA:m,startUpload:b}=t,w=l&&r;if(!r||s)return null;const M=e(o?"paused":"uploading");function x(){return!o&&!w&&i?a?h(Kv,{numUploads:u,complete:c,totalUploadedSize:d,totalSize:p,totalETA:m,i18n:e}):h(Nu,{i18n:e,complete:c,numUploads:u}):null}return h("div",{className:"uppy-StatusBar-content","aria-label":M,title:M},o?null:h(Iu,null),h("div",{className:"uppy-StatusBar-status"},h("div",{className:"uppy-StatusBar-statusPrimary"},a?`${M}: ${n}%`:M),x(),w?h(Xv,{i18n:e,newFiles:l,startUpload:b}):null))}function Jv(t){const{i18n:e}=t;return h("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete")},h("div",{className:"uppy-StatusBar-status"},h("div",{className:"uppy-StatusBar-statusPrimary"},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},h("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),e("complete"))))}function Zv(t){const{error:e,i18n:a,complete:n,numUploads:i}=t;function r(){const s=`${a("uploadFailed")} 

 ${e}`;alert(s)}return h("div",{className:"uppy-StatusBar-content",title:a("uploadFailed")},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},h("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),h("div",{className:"uppy-StatusBar-status"},h("div",{className:"uppy-StatusBar-statusPrimary"},a("uploadFailed"),h("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":a("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:r,type:"button"},"?")),h(Nu,{i18n:a,complete:n,numUploads:i})))}const{STATE_ERROR:Ho,STATE_WAITING:eg,STATE_PREPROCESSING:Cr,STATE_UPLOADING:Di,STATE_POSTPROCESSING:Mr,STATE_COMPLETE:Oi}=Jt;function tg(t){let{newFiles:e,allowNewUpload:a,isUploadInProgress:n,isAllPaused:i,resumableUploads:r,error:s,hideUploadButton:o=void 0,hidePauseResumeButton:l=!1,hideCancelButton:u=!1,hideRetryButton:c=!1,recoveredState:d,uploadState:p,totalProgress:m,files:b,supportsUploadProgress:w,hideAfterFinish:M=!1,isSomeGhost:x,doneButtonHandler:S=void 0,isUploadStarted:P,i18n:E,startUpload:q,uppy:D,isAllComplete:_,showProgressDetails:L=void 0,numUploads:U,complete:R,totalSize:te,totalETA:ue,totalUploadedSize:fe}=t;function B(){switch(p){case Mr:case Cr:{const ye=Ar(b);return ye.mode==="determinate"?ye.value*100:m}case Ho:return null;case Di:return w?m:null;default:return m}}function O(){switch(p){case Mr:case Cr:{const{mode:ye}=Ar(b);return ye==="indeterminate"}case Di:return!w;default:return!1}}const F=B(),H=F??100,re=!s&&e&&!n&&!i&&a&&!o,Y=!u&&p!==eg&&p!==Oi,se=r&&!l&&p===Di,ve=s&&!_&&!c,k=S&&p===Oi,T=Gt("uppy-StatusBar-progress",{"is-indeterminate":O()}),f=Gt("uppy-StatusBar",`is-${p}`,{"has-ghosts":x}),C=(()=>{switch(p){case Cr:case Mr:return h(Gv,{progress:Ar(b)});case Oi:return h(Jv,{i18n:E});case Ho:return h(Zv,{error:s,i18n:E,numUploads:U,complete:R});case Di:return h(Qv,{i18n:E,supportsUploadProgress:w,totalProgress:m,showProgressDetails:L,isUploadStarted:P,isAllComplete:_,isAllPaused:i,newFiles:e,numUploads:U,complete:R,totalUploadedSize:fe,totalSize:te,totalETA:ue,startUpload:q});default:return null}})();return h("div",{className:f,"aria-hidden":!(re||ve||se||Y||k)&&!C||p===Oi&&M},h("div",{className:T,style:{width:`${H}%`},role:"progressbar","aria-label":`${H}%`,"aria-valuetext":`${H}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":F}),C,h("div",{className:"uppy-StatusBar-actions"},re?h(jv,{newFiles:e,isUploadStarted:P,recoveredState:d,i18n:E,isSomeGhost:x,startUpload:q,uploadState:p}):null,ve?h(qv,{i18n:E,uppy:D}):null,se?h(Vv,{isAllPaused:i,i18n:E,isAllComplete:_,resumableUploads:r,uppy:D}):null,Y?h(Yv,{i18n:E,uppy:D}):null,k?h(Wv,{i18n:E,doneButtonHandler:S}):null))}const ag={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function Le(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var ng=0;function Tn(t){return"__private_"+ng+++"_"+t}const ig={version:"4.0.1"},rg=2e3,sg=2e3;function og(t,e,a,n){if(t)return Jt.STATE_ERROR;if(e)return Jt.STATE_COMPLETE;if(a)return Jt.STATE_WAITING;let i=Jt.STATE_WAITING;const r=Object.keys(n);for(let s=0;s<r.length;s++){const{progress:o}=n[r[s]];if(o.uploadStarted&&!o.uploadComplete)return Jt.STATE_UPLOADING;o.preprocess&&(i=Jt.STATE_PREPROCESSING),o.postprocess&&i!==Jt.STATE_PREPROCESSING&&(i=Jt.STATE_POSTPROCESSING)}return i}const lg={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var Nt=Tn("lastUpdateTime"),zt=Tn("previousUploadedBytes"),pa=Tn("previousSpeed"),xt=Tn("previousETA"),Er=Tn("computeSmoothETA"),zn=Tn("onUploadStart");class Bu extends na{constructor(e,a){super(e,{...lg,...a}),Object.defineProperty(this,Er,{value:ug}),Object.defineProperty(this,Nt,{writable:!0,value:void 0}),Object.defineProperty(this,zt,{writable:!0,value:void 0}),Object.defineProperty(this,pa,{writable:!0,value:void 0}),Object.defineProperty(this,xt,{writable:!0,value:void 0}),this.startUpload=()=>this.uppy.upload().catch(()=>{}),Object.defineProperty(this,zn,{writable:!0,value:()=>{const{recoveredState:n}=this.uppy.getState();if(Le(this,pa)[pa]=null,Le(this,xt)[xt]=null,n){Le(this,zt)[zt]=Object.values(n.files).reduce((i,r)=>{let{progress:s}=r;return i+s.bytesUploaded},0),this.uppy.emit("restore-confirmed");return}Le(this,Nt)[Nt]=performance.now(),Le(this,zt)[zt]=0}}),this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=ag,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){const{capabilities:a,files:n,allowNewUpload:i,totalProgress:r,error:s,recoveredState:o}=e,{newFiles:l,startedFiles:u,completeFiles:c,isUploadStarted:d,isAllComplete:p,isAllPaused:m,isUploadInProgress:b,isSomeGhost:w}=this.uppy.getObjectOfFilesPerState(),M=o?Object.values(n):l,x=!!a.resumableUploads,S=a.uploadProgress!==!1;let P=0,E=0;u.forEach(D=>{P+=D.progress.bytesTotal||0,E+=D.progress.bytesUploaded||0});const q=Le(this,Er)[Er]({uploaded:E,total:P,remaining:P-E});return tg({error:s,uploadState:og(s,p,o,e.files||{}),allowNewUpload:i,totalProgress:r,totalSize:P,totalUploadedSize:E,isAllComplete:!1,isAllPaused:m,isUploadStarted:d,isUploadInProgress:b,isSomeGhost:w,recoveredState:o,complete:c.length,newFiles:M.length,numUploads:u.length,totalETA:q,files:n,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:x,supportsUploadProgress:S,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const e=this.el;Eu(e)||(e.dir="ltr")}install(){const{target:e}=this.opts;e&&this.mount(e,this),this.uppy.on("upload",Le(this,zn)[zn]),Le(this,Nt)[Nt]=performance.now(),Le(this,zt)[zt]=this.uppy.getFiles().reduce((a,n)=>a+n.progress.bytesUploaded,0)}uninstall(){this.unmount(),this.uppy.off("upload",Le(this,zn)[zn])}}function ug(t){var e,a;if(t.total===0||t.remaining===0)return 0;(a=(e=Le(this,Nt))[Nt])!=null||(e[Nt]=performance.now());const n=performance.now()-Le(this,Nt)[Nt];if(n===0){var i;return Math.round(((i=Le(this,xt)[xt])!=null?i:0)/100)/10}const r=t.uploaded-Le(this,zt)[zt];if(Le(this,zt)[zt]=t.uploaded,r<=0){var s;return Math.round(((s=Le(this,xt)[xt])!=null?s:0)/100)/10}const o=r/n,l=Le(this,pa)[pa]==null?o:Lo(o,Le(this,pa)[pa],rg,n);Le(this,pa)[pa]=l;const u=t.remaining/l,c=Math.max(Le(this,xt)[xt]-n,0),d=Le(this,xt)[xt]==null?u:Lo(u,c,sg,n);return Le(this,xt)[xt]=d,Le(this,Nt)[Nt]=performance.now(),Math.round(d/100)/10}Bu.VERSION=ig.version;const jo=300;class dg extends ba{constructor(){super(...arguments),this.ref=Av()}componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,jo)}componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,jo)}render(){const{children:e}=this.props;return h("div",{className:"uppy-Informer-animated",ref:this.ref},e)}}function cg(t,e){return Object.assign(t,e)}function hg(t,e){var a;return(a=t==null?void 0:t.key)!=null?a:e}function pg(t,e){const a=t._ptgLinkedRefs||(t._ptgLinkedRefs={});return a[e]||(a[e]=n=>{t.refs[e]=n})}function Hn(t){const e={};for(let a=0;a<t.length;a++)if(t[a]!=null){const n=hg(t[a],a.toString(36));e[n]=t[a]}return e}function fg(t,e){t=t||{},e=e||{};const a=s=>e.hasOwnProperty(s)?e[s]:t[s],n={};let i=[];for(const s in t)e.hasOwnProperty(s)?i.length&&(n[s]=i,i=[]):i.push(s);const r={};for(const s in e){if(n.hasOwnProperty(s))for(let o=0;o<n[s].length;o++){const l=n[s][o];r[n[s][o]]=a(l)}r[s]=a(s)}for(let s=0;s<i.length;s++)r[i[s]]=a(i[s]);return r}const mg=t=>t;class Uu extends ba{constructor(e,a){super(e,a),this.refs={},this.state={children:Hn(Fa(Fa(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const a in e)e[a]&&this.performAppear(a)}componentWillReceiveProps(e){const a=Hn(Fa(e.children)||[]),n=this.state.children;this.setState(r=>({children:fg(r.children,a)}));let i;for(i in a)if(a.hasOwnProperty(i)){const r=n&&n.hasOwnProperty(i);a[i]&&r&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):a[i]&&!r&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in n)if(n.hasOwnProperty(i)){const r=a&&a.hasOwnProperty(i);n[i]&&!r&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:a}=this;this.keysToLeave=[],a.forEach(this.performLeave)}_finishAbort(e){const a=this.keysToAbortLeave.indexOf(e);a!==-1&&this.keysToAbortLeave.splice(a,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const a=this.refs[e];a!=null&&a.componentWillAppear?a.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const a=this.refs[e];a!=null&&a.componentDidAppear&&a.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Hn(Fa(this.props.children)||[]);(!n||!n.hasOwnProperty(e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const a=this.refs[e];a!=null&&a.componentWillEnter?a.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const a=this.refs[e];a!=null&&a.componentDidEnter&&a.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const n=Hn(Fa(this.props.children)||[]);(!n||!n.hasOwnProperty(e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const n=this.refs[e];n!=null&&n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const n=this.refs[e];n!=null&&n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const i=Hn(Fa(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{const r=cg({},this.state.children);delete r[e],this.setState({children:r})}}render(e,a){let{childFactory:n,transitionLeave:i,transitionName:r,transitionAppear:s,transitionEnter:o,transitionLeaveTimeout:l,transitionEnterTimeout:u,transitionAppearTimeout:c,component:d,...p}=e,{children:m}=a;const b=Object.entries(m).map(w=>{let[M,x]=w;if(!x)return;const S=pg(this,M);return Cu(n(x),{ref:S,key:M})}).filter(Boolean);return h(d,p,b)}}Uu.defaultProps={component:"span",childFactory:mg};const vg={version:"4.0.0"};class Lu extends na{constructor(e,a){super(e,a),this.render=n=>h("div",{className:"uppy uppy-Informer"},h(Uu,null,n.info.map(i=>h(dg,{key:i.message},h("p",{role:"alert"},i.message," ",i.details&&h("span",{"aria-label":i.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${i.message} 

 ${i.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:e}=this.opts;e&&this.mount(e,this)}}Lu.VERSION=vg.version;const gg=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function yg(t,e,a){var n,i;const r=gg.exec(t),s=(n=(i=e.mimeType)!=null?i:r==null?void 0:r[1])!=null?n:"plain/text";let o;if((r==null?void 0:r[2])!=null){const l=atob(decodeURIComponent(r[3])),u=new Uint8Array(l.length);for(let c=0;c<l.length;c++)u[c]=l.charCodeAt(c);o=[u]}else(r==null?void 0:r[3])!=null&&(o=[decodeURIComponent(r[3])]);return new Blob(o,{type:s})}function qo(t){return t.startsWith("blob:")}function Yo(t){return t?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(t):!1}function Ee(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var zu=typeof self<"u"?self:global;const ci=typeof navigator<"u",bg=ci&&typeof HTMLImageElement>"u",Vo=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),Hu=zu.Buffer,ju=!!Hu,wg=t=>t!==void 0;function qu(t){return t===void 0||(t instanceof Map?t.size===0:Object.values(t).filter(wg).length===0)}function it(t){let e=new Error(t);throw delete e.stack,e}function Wo(t){let e=function(a){let n=0;return a.ifd0.enabled&&(n+=1024),a.exif.enabled&&(n+=2048),a.makerNote&&(n+=2048),a.userComment&&(n+=1024),a.gps.enabled&&(n+=512),a.interop.enabled&&(n+=100),a.ifd1.enabled&&(n+=1024),n+2048}(t);return t.jfif.enabled&&(e+=50),t.xmp.enabled&&(e+=2e4),t.iptc.enabled&&(e+=14e3),t.icc.enabled&&(e+=6e3),e}const $r=t=>String.fromCharCode.apply(null,t),Go=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;let hi=class hn{static from(e,a){return e instanceof this&&e.le===a?e:new hn(e,void 0,void 0,a)}constructor(e,a=0,n,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){n===void 0&&(n=e.byteLength-a);let r=new DataView(e,a,n);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof hn){n===void 0&&(n=e.byteLength-a),(a+=e.byteOffset)+n>e.byteOffset+e.byteLength&&it("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,a,n);this._swapDataView(r)}else if(typeof e=="number"){let r=new DataView(new ArrayBuffer(e));this._swapDataView(r)}else it("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,a,n=hn){return e instanceof DataView||e instanceof hn?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||it("BufferView.set(): Invalid data argument."),this.toUint8().set(e,a),new n(this,a,e.byteLength)}subarray(e,a){return a=a||this._lengthToEnd(e),new hn(this,e,a)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,a){return new Uint8Array(this.buffer,this.byteOffset+e,a)}getString(e=0,a=this.byteLength){return i=this.getUint8Array(e,a),Go?Go.decode(i):ju?Buffer.from(i).toString("utf8"):decodeURIComponent(escape($r(i)));var i}getLatin1String(e=0,a=this.byteLength){let n=this.getUint8Array(e,a);return $r(n)}getUnicodeString(e=0,a=this.byteLength){const n=[];for(let i=0;i<a&&e+i<this.byteLength;i+=2)n.push(this.getUint16(e+i));return $r(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,a=this.le){return this.dataView.getInt16(e,a)}getInt32(e,a=this.le){return this.dataView.getInt32(e,a)}getUint16(e,a=this.le){return this.dataView.getUint16(e,a)}getUint32(e,a=this.le){return this.dataView.getUint32(e,a)}getFloat32(e,a=this.le){return this.dataView.getFloat32(e,a)}getFloat64(e,a=this.le){return this.dataView.getFloat64(e,a)}getFloat(e,a=this.le){return this.dataView.getFloat32(e,a)}getDouble(e,a=this.le){return this.dataView.getFloat64(e,a)}getUintBytes(e,a,n){switch(a){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,a,n){switch(a){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}};function ps(t,e){it(`${t} '${e}' was not loaded, try using full build of exifr.`)}class Ks extends Map{constructor(e){super(),this.kind=e}get(e,a){return this.has(e)||ps(this.kind,e),a&&(e in a||function(n,i){it(`Unknown ${n} '${i}'.`)}(this.kind,e),a[e].enabled||ps(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Yu=new Ks("file parser"),Ht=new Ks("segment parser"),Xs=new Ks("file reader");let _g=zu.fetch;function Ko(t,e){return(a=t).startsWith("data:")||a.length>1e4?ms(t,e,"base64"):Vo&&t.includes("://")?fs(t,e,"url",Xo):Vo?ms(t,e,"fs"):ci?fs(t,e,"url",Xo):void it("Invalid input argument");var a}async function fs(t,e,a,n){return Xs.has(a)?ms(t,e,a):n?async function(i,r){let s=await r(i);return new hi(s)}(t,n):void it(`Parser ${a} is not loaded`)}async function ms(t,e,a){let n=new(Xs.get(a))(t,e);return await n.read(),n}const Xo=t=>_g(t).then(e=>e.arrayBuffer()),vs=t=>new Promise((e,a)=>{let n=new FileReader;n.onloadend=()=>e(n.result||new ArrayBuffer),n.onerror=a,n.readAsArrayBuffer(t)}),Qs=new Map,kg=new Map,Pg=new Map,Ai=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],Vu=["jfif","xmp","icc","iptc","ihdr"],gs=["tiff",...Vu],et=["ifd0","ifd1","exif","gps","interop"],Ci=[...gs,...et],Mi=["makerNote","userComment"],Wu=["translateKeys","translateValues","reviveValues","multiSegment"],Ei=[...Wu,"sanitize","mergeOutput","silentErrors"];class Gu{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}let jn=class extends Gu{get needed(){return this.enabled||this.deps.size>0}constructor(e,a,n,i){if(super(),Ee(this,"enabled",!1),Ee(this,"skip",new Set),Ee(this,"pick",new Set),Ee(this,"deps",new Set),Ee(this,"translateKeys",!1),Ee(this,"translateValues",!1),Ee(this,"reviveValues",!1),this.key=e,this.enabled=a,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=et.includes(e),this.canBeFiltered&&(this.dict=Qs.get(e)),n!==void 0)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if(typeof n=="object"){if(this.enabled=!0,this.parse=n.parse!==!1,this.canBeFiltered){let{pick:r,skip:s}=n;r&&r.length>0&&this.translateTagSet(r,this.pick),s&&s.length>0&&this.translateTagSet(s,this.skip)}this.applyInheritables(n)}else n===!0||n===!1?this.parse=this.enabled=n:it(`Invalid options argument: ${n}`)}applyInheritables(e){let a,n;for(a of Wu)n=e[a],n!==void 0&&(this[a]=n)}translateTagSet(e,a){if(this.dict){let n,i,{tagKeys:r,tagValues:s}=this.dict;for(n of e)typeof n=="string"?(i=s.indexOf(n),i===-1&&(i=r.indexOf(Number(n))),i!==-1&&a.add(Number(r[i]))):a.add(n)}else for(let n of e)a.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Vi(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Vi(this.pick,this.deps)}};var gt={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Qo=new Map;class Js extends Gu{static useCached(e){let a=Qo.get(e);return a!==void 0||(a=new this(e),Qo.set(e,a)),a}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):it(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=ci?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of Ai)this[e]=gt[e];for(e of Ei)this[e]=gt[e];for(e of Mi)this[e]=gt[e];for(e of Ci)this[e]=new jn(e,gt[e],void 0,this)}setupFromTrue(){let e;for(e of Ai)this[e]=gt[e];for(e of Ei)this[e]=gt[e];for(e of Mi)this[e]=!0;for(e of Ci)this[e]=new jn(e,!0,void 0,this)}setupFromArray(e){let a;for(a of Ai)this[a]=gt[a];for(a of Ei)this[a]=gt[a];for(a of Mi)this[a]=gt[a];for(a of Ci)this[a]=new jn(a,!1,void 0,this);this.setupGlobalFilters(e,void 0,et)}setupFromObject(e){let a;for(a of(et.ifd0=et.ifd0||et.image,et.ifd1=et.ifd1||et.thumbnail,Object.assign(this,e),Ai))this[a]=Rr(e[a],gt[a]);for(a of Ei)this[a]=Rr(e[a],gt[a]);for(a of Mi)this[a]=Rr(e[a],gt[a]);for(a of gs)this[a]=new jn(a,gt[a],e[a],this);for(a of et)this[a]=new jn(a,gt[a],e[a],this.tiff);this.setupGlobalFilters(e.pick,e.skip,et,Ci),e.tiff===!0?this.batchEnableWithBool(et,!0):e.tiff===!1?this.batchEnableWithUserValue(et,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,et):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,et)}batchEnableWithBool(e,a){for(let n of e)this[n].enabled=a}batchEnableWithUserValue(e,a){for(let n of e){let i=a[n];this[n].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(e,a,n,i=n){if(e&&e.length){for(let s of i)this[s].enabled=!1;let r=Jo(e,n);for(let[s,o]of r)Vi(this[s].pick,o),this[s].enabled=!0}else if(a&&a.length){let r=Jo(a,n);for(let[s,o]of r)Vi(this[s].skip,o)}}filterNestedSegmentTags(){let{ifd0:e,exif:a,xmp:n,iptc:i,icc:r}=this;this.makerNote?a.deps.add(37500):a.skip.add(37500),this.userComment?a.deps.add(37510):a.skip.add(37510),n.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),r.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:a,gps:n,interop:i}=this;i.needed&&(a.deps.add(40965),e.deps.add(40965)),a.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=et.some(r=>this[r].enabled===!0)||this.makerNote||this.userComment;for(let r of et)this[r].finalizeFilters()}get onlyTiff(){return!Vu.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of gs)this[e].enabled&&!Ht.has(e)&&ps("segment parser",e)}}function Jo(t,e){let a,n,i,r,s=[];for(i of e){for(r of(a=Qs.get(i),n=[],a))(t.includes(r[0])||t.includes(r[1]))&&n.push(r[0]);n.length&&s.push([i,n])}return s}function Rr(t,e){return t!==void 0?t:e!==void 0?e:void 0}function Vi(t,e){for(let a of e)t.add(a)}Ee(Js,"default",gt);class Tg{constructor(e){Ee(this,"parsers",{}),Ee(this,"output",{}),Ee(this,"errors",[]),Ee(this,"pushToErrors",a=>this.errors.push(a)),this.options=Js.useCached(e)}async read(e){this.file=await function(a,n){return typeof a=="string"?Ko(a,n):ci&&!bg&&a instanceof HTMLImageElement?Ko(a.src,n):a instanceof Uint8Array||a instanceof ArrayBuffer||a instanceof DataView?new hi(a):ci&&a instanceof Blob?fs(a,n,"blob",vs):void it("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,a=e.getUint16(0);for(let[n,i]of Yu)if(i.canHandle(e,a))return this.fileParser=new i(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),it("Unknown file format")}async parse(){let{output:e,errors:a}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),a.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&a.length>0&&(e.errors=a),qu(n=e)?void 0:n;var n}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let a=Object.values(this.parsers).map(async n=>{let i=await n.parse();n.assignToOutput(e,i)});this.options.silentErrors&&(a=a.map(n=>n.catch(this.pushToErrors))),await Promise.all(a)}async extractThumbnail(){this.setup();let{options:e,file:a}=this,n=Ht.get("tiff",e);var i;if(a.tiff?i={start:0,type:"tiff"}:a.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let r=await this.fileParser.ensureSegmentChunk(i),s=this.parsers.tiff=new n(r,e,a),o=await s.extractThumbnail();return a.close&&a.close(),o}}class fn{static findPosition(e,a){let n=e.getUint16(a+2)+2,i=typeof this.headerLength=="function"?this.headerLength(e,a,n):this.headerLength,r=a+i,s=n-i;return{offset:a,length:n,headerLength:i,start:r,size:s,end:r+s}}static parse(e,a={}){return new this(e,new Js({[this.type]:a}),e).parse()}normalizeInput(e){return e instanceof hi?e:new hi(e)}constructor(e,a={},n){Ee(this,"errors",[]),Ee(this,"raw",new Map),Ee(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=a,this.localOptions=a[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,a){let n=Pg.get(a),i=kg.get(a),r=Qs.get(a),s=this.options[a],o=s.reviveValues&&!!n,l=s.translateValues&&!!i,u=s.translateKeys&&!!r,c={};for(let[d,p]of e)o&&n.has(d)?p=n.get(d)(p):l&&i.has(d)&&(p=this.translateValue(p,i.get(d))),u&&r.has(d)&&(d=r.get(d)||d),c[d]=p;return c}translateValue(e,a){return a[e]||a.DEFAULT||e}assignToOutput(e,a){this.assignObjectToOutput(e,this.constructor.type,a)}assignObjectToOutput(e,a,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[a]?Object.assign(e[a],n):e[a]=n}}Ee(fn,"headerLength",4),Ee(fn,"type",void 0),Ee(fn,"multiSegment",!1),Ee(fn,"canHandle",()=>!1);function Sg(t){return t===192||t===194||t===196||t===219||t===221||t===218||t===254}function Fg(t){return t>=224&&t<=239}function xg(t,e,a){for(let[n,i]of Ht)if(i.canHandle(t,e,a))return n}class Zo extends class{constructor(e,a,n){Ee(this,"errors",[]),Ee(this,"ensureSegmentChunk",async i=>{let r=i.start,s=i.size||65536;if(this.file.chunked)if(this.file.available(r,s))i.chunk=this.file.subarray(r,s);else try{i.chunk=await this.file.readChunk(r,s)}catch(o){it(`Couldn't read segment: ${JSON.stringify(i)}. ${o.message}`)}else this.file.byteLength>r+s?i.chunk=this.file.subarray(r,s):i.size===void 0?i.chunk=this.file.subarray(r):it("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=a,this.parsers=n}injectSegment(e,a){this.options[e].enabled&&this.createParser(e,a)}createParser(e,a){let n=new(Ht.get(e))(a,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let a of e){let{type:n,chunk:i}=a,r=this.options[n];if(r&&r.enabled){let s=this.parsers[n];s&&s.append||s||this.createParser(n,i)}}}async readSegments(e){let a=e.map(this.ensureSegmentChunk);await Promise.all(a)}}{constructor(...e){super(...e),Ee(this,"appSegments",[]),Ee(this,"jpegSegments",[]),Ee(this,"unknownSegments",[])}static canHandle(e,a){return a===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(Ht.keyList())):(e=e===void 0?Ht.keyList().filter(a=>this.options[a].enabled):e.filter(a=>this.options[a].enabled&&Ht.has(a)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,a){this.setupSegmentFinderArgs(a);let{file:n,findAll:i,wanted:r,remaining:s}=this;if(!i&&this.file.chunked&&(i=Array.from(r).some(o=>{let l=Ht.get(o),u=this.options[o];return l.multiSegment&&u.multiSegment}),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let o=!1;for(;s.size>0&&!o&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:l}=n,u=this.appSegments.some(c=>!this.file.available(c.offset||c.start,c.length||c.size));if(o=e>l&&!u?!await n.readNextChunk(e):!await n.readNextChunk(l),(e=this.findAppSegmentsInRange(e,n.byteLength))===void 0)return}}}findAppSegmentsInRange(e,a){a-=2;let n,i,r,s,o,l,{file:u,findAll:c,wanted:d,remaining:p,options:m}=this;for(;e<a;e++)if(u.getUint8(e)===255){if(n=u.getUint8(e+1),Fg(n)){if(i=u.getUint16(e+2),r=xg(u,e,i),r&&d.has(r)&&(s=Ht.get(r),o=s.findPosition(u,e),l=m[r],o.type=r,this.appSegments.push(o),!c&&(s.multiSegment&&l.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||p.delete(r)):p.delete(r),p.size===0)))break;m.recordUnknownSegments&&(o=fn.findPosition(u,e),o.marker=n,this.unknownSegments.push(o)),e+=i+1}else if(Sg(n)){if(i=u.getUint16(e+2),n===218&&m.stopAfterSos!==!1)return;m.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:n}),e+=i+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(a=>a.multiSegment))return;let e=function(a,n){let i,r,s,o=new Map;for(let l=0;l<a.length;l++)i=a[l],r=i[n],o.has(r)?s=o.get(r):o.set(r,s=[]),s.push(i);return Array.from(o)}(this.appSegments,"type");this.mergedAppSegments=e.map(([a,n])=>{let i=Ht.get(a,this.options);return i.handleMultiSegments?{type:a,chunk:i.handleMultiSegments(n)}:n[0]})}getSegment(e){return this.appSegments.find(a=>a.type===e)}async getOrFindSegment(e){let a=this.getSegment(e);return a===void 0&&(await this.findAppSegments(0,[e]),a=this.getSegment(e)),a}}Ee(Zo,"type","jpeg"),Yu.set("jpeg",Zo);const Dg=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Og extends fn{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,a,n=new Map){let{pick:i,skip:r}=this.options[a];i=new Set(i);let s=i.size>0,o=r.size===0,l=this.chunk.getUint16(e);e+=2;for(let u=0;u<l;u++){let c=this.chunk.getUint16(e);if(s){if(i.has(c)&&(n.set(c,this.parseTag(e,c,a)),i.delete(c),i.size===0))break}else!o&&r.has(c)||n.set(c,this.parseTag(e,c,a));e+=12}return n}parseTag(e,a,n){let{chunk:i}=this,r=i.getUint16(e+2),s=i.getUint32(e+4),o=Dg[r];if(o*s<=4?e+=8:e=i.getUint32(e+8),(r<1||r>13)&&it(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${a.toString(16)}, type: ${r}, offset ${e}`),e>i.byteLength&&it(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${a.toString(16)}, type: ${r}, offset ${e} is outside of chunk size ${i.byteLength}`),r===1)return i.getUint8Array(e,s);if(r===2)return(l=function(u){for(;u.endsWith("\0");)u=u.slice(0,-1);return u}(l=i.getString(e,s)).trim())===""?void 0:l;var l;if(r===7)return i.getUint8Array(e,s);if(s===1)return this.parseTagValue(r,e);{let u=new(function(d){switch(d){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(r))(s),c=o;for(let d=0;d<s;d++)u[d]=this.parseTagValue(r,e),e+=c;return u}}parseTagValue(e,a){let{chunk:n}=this;switch(e){case 1:return n.getUint8(a);case 3:return n.getUint16(a);case 4:return n.getUint32(a);case 5:return n.getUint32(a)/n.getUint32(a+4);case 6:return n.getInt8(a);case 8:return n.getInt16(a);case 9:return n.getInt32(a);case 10:return n.getInt32(a)/n.getInt32(a+4);case 11:return n.getFloat(a);case 12:return n.getDouble(a);case 13:return n.getUint32(a);default:it(`Invalid tiff type ${e}`)}}}class Ir extends Og{static canHandle(e,a){return e.getUint8(a+1)===225&&e.getUint32(a+4)===1165519206&&e.getUint16(a+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let a=this[e]();return a.catch!==void 0&&(a=a.catch(this.handleError)),a}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),a=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(a)}}parseBlock(e,a){let n=new Map;return this[a]=n,this.parseTags(e,a,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&it("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&it(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Wo(this.options));let a=this.parseBlock(this.ifd0Offset,"ifd0");return a.size!==0?(this.exifOffset=a.get(34665),this.interopOffset=a.get(40965),this.gpsOffset=a.get(34853),this.xmp=a.get(700),this.iptc=a.get(33723),this.icc=a.get(34675),this.options.sanitize&&(a.delete(34665),a.delete(40965),a.delete(34853),a.delete(700),a.delete(33723),a.delete(34675)),a):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Wo(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,a){let n=e.get(a);n&&n.length===1&&e.set(a,n[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",el(...e.get(2),e.get(1))),e.set("longitude",el(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),a=this.ifd1.get(514);return this.chunk.getUint8Array(e,a)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,a,n,i={};for(a of et)if(e=this[a],!qu(e))if(n=this.canTranslate?this.translateBlock(e,a):Object.fromEntries(e),this.options.mergeOutput){if(a==="ifd1")continue;Object.assign(i,n)}else i[a]=n;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,a){if(this.globalOptions.mergeOutput)Object.assign(e,a);else for(let[n,i]of Object.entries(a))this.assignObjectToOutput(e,n,i)}}function el(t,e,a,n){var i=t+e/60+a/3600;return n!=="S"&&n!=="W"||(i*=-1),i}Ee(Ir,"type","tiff"),Ee(Ir,"headerLength",10),Ht.set("tiff",Ir);const Zs={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Zs,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},Zs,{tiff:!1,ifd1:!0,mergeOutput:!1});const Ag=Object.assign({},Zs,{firstChunkSize:4e4,ifd0:[274]});async function Cg(t){let e=new Tg(Ag);await e.read(t);let a=await e.parse();if(a&&a.ifd0)return a.ifd0[274]}const Mg=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Jn=!0,Zn=!0;if(typeof navigator=="object"){let t=navigator.userAgent;if(t.includes("iPad")||t.includes("iPhone")){let e=t.match(/OS (\d+)_(\d+)/);if(e){let[,a,n]=e;Jn=Number(a)+.1*Number(n)<13.4,Zn=!1}}else if(t.includes("OS X 10")){let[,e]=t.match(/OS X 10[_.](\d+)/);Jn=Zn=Number(e)<15}if(t.includes("Chrome/")){let[,e]=t.match(/Chrome\/(\d+)/);Jn=Zn=Number(e)<81}else if(t.includes("Firefox/")){let[,e]=t.match(/Firefox\/(\d+)/);Jn=Zn=Number(e)<77}}async function Eg(t){let e=await Cg(t);return Object.assign({canvas:Jn,css:Zn},Mg[e])}class $g extends hi{constructor(...e){super(...e),Ee(this,"ranges",new Rg),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,a,n){if(e===0&&this.byteLength===0&&n){let i=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(i)}else{let i=e+a;if(i>this.byteLength){let{dataView:r}=this._extend(i);this._swapDataView(r)}}}_extend(e){let a;a=ju?Hu.allocUnsafe(e):new Uint8Array(e);let n=new DataView(a.buffer,a.byteOffset,a.byteLength);return a.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:a,dataView:n}}subarray(e,a,n=!1){return a=a||this._lengthToEnd(e),n&&this._tryExtend(e,a),this.ranges.add(e,a),super.subarray(e,a)}set(e,a,n=!1){n&&this._tryExtend(a,e.byteLength,e);let i=super.set(e,a);return this.ranges.add(a,i.byteLength),i}async ensureChunk(e,a){this.chunked&&(this.ranges.available(e,a)||await this.readChunk(e,a))}available(e,a){return this.ranges.available(e,a)}}class Rg{constructor(){Ee(this,"list",[])}get length(){return this.list.length}add(e,a,n=0){let i=e+a,r=this.list.filter(s=>tl(e,s.offset,i)||tl(e,s.end,i));if(r.length>0){e=Math.min(e,...r.map(o=>o.offset)),i=Math.max(i,...r.map(o=>o.end)),a=i-e;let s=r.shift();s.offset=e,s.length=a,s.end=i,this.list=this.list.filter(o=>!r.includes(o))}else this.list.push({offset:e,length:a,end:i})}available(e,a){let n=e+a;return this.list.some(i=>i.offset<=e&&n<=i.end)}}function tl(t,e,a){return t<=e&&e<=a}class Ig extends $g{constructor(e,a){super(0),Ee(this,"chunksRead",0),this.input=e,this.options=a}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let a=this.options.chunkSize,n=await this.readChunk(e,a);return!!n&&n.byteLength===a}async readChunk(e,a){if(this.chunksRead++,(a=this.safeWrapAddress(e,a))!==0)return this._readChunk(e,a)}safeWrapAddress(e,a){return this.size!==void 0&&e+a>this.size?Math.max(0,this.size-e):a}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}Xs.set("blob",class extends Ig{async readWhole(){this.chunked=!1;let t=await vs(this.input);this._swapArrayBuffer(t)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(t,e){let a=e?t+e:void 0,n=this.input.slice(t,a),i=await vs(n);return this.set(i,t,!0)}});const Ng={strings:{generatingThumbnails:"Generating thumbnails..."}},Bg={version:"4.0.0"};function Ug(t,e,a){try{t.getContext("2d").getImageData(0,0,1,1)}catch(n){if(n.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return t.toBlob?new Promise(n=>{t.toBlob(n,e,a)}).then(n=>{if(n===null)throw new Error("cannot read image, probably an svg with external resources");return n}):Promise.resolve().then(()=>yg(t.toDataURL(e,a),{})).then(n=>{if(n===null)throw new Error("could not extract blob, probably an old browser");return n})}function Lg(t,e){let a=t.width,n=t.height;(e.deg===90||e.deg===270)&&(a=t.height,n=t.width);const i=document.createElement("canvas");i.width=a,i.height=n;const r=i.getContext("2d");return r.translate(a/2,n/2),e.canvas&&(r.rotate(e.rad),r.scale(e.scaleX,e.scaleY)),r.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),i}function zg(t){const e=t.width/t.height,a=5e6,n=4096;let i=Math.floor(Math.sqrt(a*e)),r=Math.floor(a/Math.sqrt(a*e));if(i>n&&(i=n,r=Math.round(i/e)),r>n&&(r=n,i=Math.round(e*r)),t.width>i){const s=document.createElement("canvas");return s.width=i,s.height=r,s.getContext("2d").drawImage(t,0,0,i,r),s}return t}const Hg={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class Ku extends na{constructor(e,a){if(super(e,{...Hg,...a}),this.onFileAdded=n=>{!n.preview&&n.data&&Yo(n.type)&&!n.isRemote&&this.addToQueue(n.id)},this.onCancelRequest=n=>{const i=this.queue.indexOf(n.id);i!==-1&&this.queue.splice(i,1)},this.onFileRemoved=n=>{const i=this.queue.indexOf(n.id);i!==-1&&this.queue.splice(i,1),n.preview&&qo(n.preview)&&URL.revokeObjectURL(n.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(i=>i.isRestored).forEach(i=>{(!i.preview||qo(i.preview))&&this.addToQueue(i.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=n=>{n.forEach(r=>{const s=this.uppy.getFile(r);this.uppy.emit("preprocess-progress",s,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const i=()=>{n.forEach(r=>{const s=this.uppy.getFile(r);this.uppy.emit("preprocess-complete",s)})};return new Promise(r=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{i(),r()}):(i(),r())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Ng,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(e,a,n){const i=URL.createObjectURL(e.data),r=new Promise((o,l)=>{const u=new Image;u.src=i,u.addEventListener("load",()=>{URL.revokeObjectURL(i),o(u)}),u.addEventListener("error",c=>{URL.revokeObjectURL(i),l(c.error||new Error("Could not create thumbnail"))})}),s=Eg(e.data).catch(()=>1);return Promise.all([r,s]).then(o=>{let[l,u]=o;const c=this.getProportionalDimensions(l,a,n,u.deg),d=Lg(l,u),p=this.resizeImage(d,c.width,c.height);return Ug(p,this.thumbnailType,80)}).then(o=>URL.createObjectURL(o))}getProportionalDimensions(e,a,n,i){let r=e.width/e.height;return(i===90||i===270)&&(r=e.height/e.width),a!=null?{width:a,height:Math.round(a/r)}:n!=null?{width:Math.round(n*r),height:n}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/r)}}resizeImage(e,a,n){let i=zg(e),r=Math.ceil(Math.log2(i.width/a));r<1&&(r=1);let s=a*2**(r-1),o=n*2**(r-1);const l=2;for(;r--;){const u=document.createElement("canvas");u.width=s,u.height=o,u.getContext("2d").drawImage(i,0,0,s,o),i=u,s=Math.round(s/l),o=Math.round(o/l)}return i}setPreviewURL(e,a){this.uppy.setFileState(e,{preview:a})}addToQueue(e){this.queue.push(e),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(e){return Yo(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(a=>{this.setPreviewURL(e.id,a),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${e.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(e.id),a)}).catch(a=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${e.id}:`,"warning"),this.uppy.log(a,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(e.id),a)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}Ku.VERSION=Bg.version;function al(t){if(typeof t=="string"){const e=document.querySelectorAll(t);return e.length===0?null:Array.from(e)}return typeof t=="object"&&Mu(t)?[t]:null}const an=Array.from;function Xu(t,e,a,n){let{onSuccess:i}=n;t.readEntries(r=>{const s=[...e,...r];r.length?queueMicrotask(()=>{Xu(t,s,a,{onSuccess:i})}):i(s)},r=>{a(r),i(e)})}function Qu(t,e){return t==null?t:{kind:t.isFile?"file":t.isDirectory?"directory":void 0,name:t.name,getFile(){return new Promise((a,n)=>t.file(a,n))},async*values(){const a=t.createReader();yield*await new Promise(i=>{Xu(a,[],e,{onSuccess:r=>i(r.map(s=>Qu(s,e)))})})},isSameEntry:void 0}}function Ju(t,e,a){try{return a===void 0&&(a=void 0),async function*(){const n=()=>`${e}/${t.name}`;if(t.kind==="file"){const i=await t.getFile();i!=null?(i.relativePath=e?n():null,yield i):a!=null&&(yield a)}else if(t.kind==="directory")for await(const i of t.values())yield*Ju(i,e?n():t.name);else a!=null&&(yield a)}()}catch(n){return Promise.reject(n)}}async function*jg(t,e){const a=await Promise.all(Array.from(t.items,async n=>{var i;let r;const s=()=>typeof n.getAsEntry=="function"?n.getAsEntry():n.webkitGetAsEntry();return(i=r)!=null||(r=Qu(s(),e)),{fileSystemHandle:r,lastResortFile:n.getAsFile()}}));for(const{lastResortFile:n,fileSystemHandle:i}of a)if(i!=null)try{yield*Ju(i,"",n)}catch(r){n!=null?yield n:e(r)}else n!=null&&(yield n)}function qg(t){const e=an(t.files);return Promise.resolve(e)}async function Zu(t,e){var a;const n=(a=e==null?void 0:e.logDropError)!=null?a:Function.prototype;try{const i=[];for await(const r of jg(t,n))i.push(r);return i}catch{return qg(t)}}var pi,We,Nr,nl,fi=0,ed=[],Je=He,il=Je.__b,rl=Je.__r,sl=Je.diffed,ol=Je.__c,ll=Je.unmount,ul=Je.__;function eo(t,e){Je.__h&&Je.__h(We,t,fi||e),fi=0;var a=We.__H||(We.__H={__:[],__h:[]});return t>=a.__.length&&a.__.push({}),a.__[t]}function Wi(t){return fi=1,Yg(ad,t)}function Yg(t,e,a){var n=eo(pi++,2);if(n.t=t,!n.__c&&(n.__=[ad(void 0,e),function(o){var l=n.__N?n.__N[0]:n.__[0],u=n.t(l,o);l!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=We,!We.u)){var i=function(o,l,u){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(p){return!!p.__c});if(c.every(function(p){return!p.__N}))return!r||r.call(this,o,l,u);var d=!1;return c.forEach(function(p){if(p.__N){var m=p.__[0];p.__=p.__N,p.__N=void 0,m!==p.__[0]&&(d=!0)}}),!(!d&&n.__c.props===o)&&(!r||r.call(this,o,l,u))};We.u=!0;var r=We.shouldComponentUpdate,s=We.componentWillUpdate;We.componentWillUpdate=function(o,l,u){if(this.__e){var c=r;r=void 0,i(o,l,u),r=c}s&&s.call(this,o,l,u)},We.shouldComponentUpdate=i}return n.__N||n.__}function ys(t,e){var a=eo(pi++,3);!Je.__s&&td(a.__H,e)&&(a.__=t,a.i=e,We.__H.__h.push(a))}function Br(t){return fi=5,to(function(){return{current:t}},[])}function to(t,e){var a=eo(pi++,7);return td(a.__H,e)&&(a.__=t(),a.__H=e,a.__h=t),a.__}function Vg(t,e){return fi=8,to(function(){return t},e)}function Wg(){for(var t;t=ed.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(zi),t.__H.__h.forEach(bs),t.__H.__h=[]}catch(e){t.__H.__h=[],Je.__e(e,t.__v)}}Je.__b=function(t){We=null,il&&il(t)},Je.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ul&&ul(t,e)},Je.__r=function(t){rl&&rl(t),pi=0;var e=(We=t.__c).__H;e&&(Nr===We?(e.__h=[],We.__h=[],e.__.forEach(function(a){a.__N&&(a.__=a.__N),a.i=a.__N=void 0})):(e.__h.forEach(zi),e.__h.forEach(bs),e.__h=[],pi=0)),Nr=We},Je.diffed=function(t){sl&&sl(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ed.push(e)!==1&&nl===Je.requestAnimationFrame||((nl=Je.requestAnimationFrame)||Gg)(Wg)),e.__H.__.forEach(function(a){a.i&&(a.__H=a.i),a.i=void 0})),Nr=We=null},Je.__c=function(t,e){e.some(function(a){try{a.__h.forEach(zi),a.__h=a.__h.filter(function(n){return!n.__||bs(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],Je.__e(n,a.__v)}}),ol&&ol(t,e)},Je.unmount=function(t){ll&&ll(t);var e,a=t.__c;a&&a.__H&&(a.__H.__.forEach(function(n){try{zi(n)}catch(i){e=i}}),a.__H=void 0,e&&Je.__e(e,a.__v))};var dl=typeof requestAnimationFrame=="function";function Gg(t){var e,a=function(){clearTimeout(n),dl&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(a,100);dl&&(e=requestAnimationFrame(a))}function zi(t){var e=We,a=t.__c;typeof a=="function"&&(t.__c=void 0,a()),We=e}function bs(t){var e=We;t.__c=t.__(),We=e}function td(t,e){return!t||t.length!==e.length||e.some(function(a,n){return a!==t[n]})}function ad(t,e){return typeof e=="function"?e(t):e}function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ws.apply(null,arguments)}const Kg={position:"relative",width:"100%",minHeight:"100%"},Xg={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class Qg extends ba{constructor(e){super(e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:e}=this.state;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(e){let{data:a,rowHeight:n,renderRow:i,overscanCount:r=10,...s}=e;const{offset:o,height:l}=this.state;let u=Math.floor(o/n),c=Math.floor(l/n);r&&(u=Math.max(0,u-u%r),c+=r);const d=u+c+4,p=a.slice(u,d),m={...Kg,height:a.length*n},b={...Xg,top:u*n};return h("div",ws({onScroll:this.handleScroll},s),h("div",{role:"presentation",style:m},h("div",{role:"presentation",style:b},p.map(i))))}}function Jg(){return h("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},h("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}var cl=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Zg(t,e){return!!(t===e||cl(t)&&cl(e))}function ey(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(!Zg(t[a],e[a]))return!1;return!0}function hl(t,e){e===void 0&&(e=ey);var a=null;function n(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(a&&a.lastThis===this&&e(i,a.lastArgs))return a.lastResult;var s=t.apply(this,i);return a={lastResult:s,lastArgs:i,lastThis:this},s}return n.clear=function(){a=null},n}const nd=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function id(t,e){if(e){const a=t.querySelector(`[data-uppy-paneltype="${e}"]`);if(a)return a}return t}function pl(t,e){const a=e[0];a&&(a.focus(),t.preventDefault())}function ty(t,e){const a=e[e.length-1];a&&(a.focus(),t.preventDefault())}function ay(t){return t.contains(document.activeElement)}function rd(t,e,a){const n=id(a,e),i=an(n.querySelectorAll(nd)),r=i.indexOf(document.activeElement);ay(n)?t.shiftKey&&r===0?ty(t,i):!t.shiftKey&&r===i.length-1&&pl(t,i):pl(t,i)}function ny(t,e,a){e===null||rd(t,e,a)}function iy(){let t=!1;return Hm((a,n)=>{const i=id(a,n),r=i.contains(document.activeElement);if(r&&t)return;const s=i.querySelector("[data-uppy-super-focusable]");if(!(r&&!s))if(s)s.focus({preventScroll:!0}),t=!0;else{const o=i.querySelector(nd);o==null||o.focus({preventScroll:!0}),t=!1}},260)}function sd(){const t=document.body;return!(!("draggable"in t)||!("ondragstart"in t&&"ondrop"in t)||!("FormData"in window)||!("FileReader"in window))}function od(t,e){if(t===e)return!0;if(!t||!e)return!1;const a=Object.keys(t),n=Object.keys(e),i=a.length;if(n.length!==i)return!1;for(let r=0;r<i;r++){const s=a[r];if(t[s]!==e[s]||!Object.prototype.hasOwnProperty.call(e,s))return!1}return!0}function ry(){return h("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},h("g",{fill:"#686DE0",fillRule:"evenodd"},h("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),h("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),h("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function sy(){return h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},h("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function oy(){return h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},h("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function ly(){return h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},h("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function uy(){return h("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},h("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function dy(){return h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},h("g",{fill:"#A7AFB7",fillRule:"nonzero"},h("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),h("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function cy(){return h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},h("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}function ao(t){const e={color:"#838999",icon:dy()};if(!t)return e;const a=t.split("/")[0],n=t.split("/")[1];return a==="text"?{color:"#5a5e69",icon:cy()}:a==="image"?{color:"#686de0",icon:ry()}:a==="audio"?{color:"#068dbb",icon:sy()}:a==="video"?{color:"#19af67",icon:oy()}:a==="application"&&n==="pdf"?{color:"#e25149",icon:ly()}:a==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(n)!==-1?{color:"#00C469",icon:uy()}:e}function ld(t){const{file:e}=t;if(e.preview)return h("img",{className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:a,icon:n}=ao(e.type);return h("div",{className:"uppy-Dashboard-Item-previewIconWrap"},h("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:a}},n),h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},h("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}const hy=(t,e)=>(typeof e=="function"?e():e).filter(i=>i.id===t)[0].name;function ud(t){const{file:e,toggleFileCard:a,i18n:n,metaFields:i}=t,{missingRequiredMetaFields:r}=e;if(!(r!=null&&r.length))return null;const s=r.map(o=>hy(o,i)).join(", ");return h("div",{className:"uppy-Dashboard-Item-errorMessage"},n("missingRequiredMetaFields",{smart_count:r.length,fields:s})," ",h("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>a(!0,e.id)},n("editFile")))}function py(t){const{file:e,i18n:a,toggleFileCard:n,metaFields:i,showLinkToFileUploadResult:r}=t,o=e.preview?"rgba(255, 255, 255, 0.5)":ao(e.type).color;return h("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:o}},r&&e.uploadURL&&h("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name},h("span",{hidden:!0},e.meta.name)),h(ld,{file:e}),h(ud,{file:e,i18n:a,toggleFileCard:n,metaFields:i}))}function fy(t){if(!t.isUploaded){if(t.error&&!t.hideRetryButton){t.uppy.retryUpload(t.file.id);return}t.resumableUploads&&!t.hidePauseResumeButton?t.uppy.pauseResume(t.file.id):t.individualCancellation&&!t.hideCancelButton&&t.uppy.removeFile(t.file.id)}}function fl(t){return t.isUploaded?t.i18n("uploadComplete"):t.error?t.i18n("retryUpload"):t.resumableUploads?t.file.isPaused?t.i18n("resumeUpload"):t.i18n("pauseUpload"):t.individualCancellation?t.i18n("cancelUpload"):""}function Ur(t){return h("div",{className:"uppy-Dashboard-Item-progress"},h("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":fl(t),title:fl(t),onClick:()=>fy(t)},t.children))}function $i(t){let{children:e}=t;return h("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},e)}function Lr(t){let{progress:e}=t;const a=2*Math.PI*15;return h("g",null,h("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),h("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":a,"stroke-dashoffset":a-a/100*e}))}function my(t){return!t.file.progress.uploadStarted||t.file.progress.percentage===void 0?null:t.isUploaded?h("div",{className:"uppy-Dashboard-Item-progress"},h("div",{className:"uppy-Dashboard-Item-progressIndicator"},h($i,null,h("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),h("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):t.recoveredState?null:t.error&&!t.hideRetryButton?h(Ur,t,h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},h("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),h("path",{d:"M7.9 3H10v2H7.9z"}),h("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),h("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):t.resumableUploads&&!t.hidePauseResumeButton?h(Ur,t,h($i,null,h(Lr,{progress:t.file.progress.percentage}),t.file.isPaused?h("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):h("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},h("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),h("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!t.resumableUploads&&t.individualCancellation&&!t.hideCancelButton?h(Ur,t,h($i,null,h(Lr,{progress:t.file.progress.percentage}),h("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):h("div",{className:"uppy-Dashboard-Item-progress"},h("div",{className:"uppy-Dashboard-Item-progressIndicator"},h($i,null,h(Lr,{progress:t.file.progress.percentage}))))}const zr="...";function dd(t,e){if(e===0)return"";if(t.length<=e)return t;if(e<=zr.length+1)return`${t.slice(0,e-1)}`;const a=e-zr.length,n=Math.ceil(a/2),i=Math.floor(a/2);return t.slice(0,n)+zr+t.slice(-i)}const vy=t=>{const{author:e,name:a}=t.file.meta;function n(){return t.isSingleFile&&t.containerHeight>=350?90:t.containerWidth<=352?35:t.containerWidth<=576?60:e?20:30}return h("div",{className:"uppy-Dashboard-Item-name",title:a},dd(a,n()))},gy=t=>{var e;const{author:a}=t.file.meta,n=(e=t.file.remote)==null?void 0:e.providerName,i="";return a?h("div",{className:"uppy-Dashboard-Item-author"},h("a",{href:`${a.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},dd(a.name,13)),n?h(Fragment,null,` ${i} `,n,` ${i} `):null):null},yy=t=>t.file.size&&h("div",{className:"uppy-Dashboard-Item-statusSize"},Qa(t.file.size)),by=t=>t.file.isGhost&&h("span",null,"  ",h("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>t.toggleAddFilesPanel(!0)},t.i18n("reSelect"))),wy=t=>{let{file:e,onClick:a}=t;return e.error?h("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:a,type:"button"},"?"):null};function _y(t){const{file:e,i18n:a,toggleFileCard:n,metaFields:i,toggleAddFilesPanel:r,isSingleFile:s,containerHeight:o,containerWidth:l}=t;return h("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source},h("div",{className:"uppy-Dashboard-Item-fileName"},vy({file:e,isSingleFile:s,containerHeight:o,containerWidth:l}),h(wy,{file:e,onClick:()=>alert(e.error)})),h("div",{className:"uppy-Dashboard-Item-status"},gy({file:e}),yy({file:e}),by({file:e,toggleAddFilesPanel:r,i18n:a})),h(ud,{file:e,i18n:a,toggleFileCard:n,metaFields:i}))}function ky(t,e){return e===void 0&&(e="Copy the URL below"),new Promise(a=>{const n=document.createElement("textarea");n.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),n.value=t,document.body.appendChild(n),n.select();const i=()=>{document.body.removeChild(n),window.prompt(e,t),a()};try{return document.execCommand("copy")?(document.body.removeChild(n),a()):i()}catch{return document.body.removeChild(n),i()}})}function Py(t){let{file:e,uploadInProgressOrComplete:a,metaFields:n,canEditFile:i,i18n:r,onClick:s}=t;return!a&&n&&n.length>0||!a&&i(e)?h("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":r("editFileWithFilename",{file:e.meta.name}),title:r("editFileWithFilename",{file:e.meta.name}),onClick:()=>s()},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},h("g",{fillRule:"evenodd"},h("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),h("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),h("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function Ty(t){let{i18n:e,onClick:a,file:n}=t;return h("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:()=>a()},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},h("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),h("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}function Sy(t){let{file:e,uppy:a,i18n:n}=t;const i=r=>{ky(e.uploadURL,n("copyLinkToClipboardFallback")).then(()=>{a.log("Link copied to clipboard."),a.info(n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(a.log).then(()=>r.target.focus({preventScroll:!0}))};return h("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:r=>i(r)},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},h("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function Fy(t){const{uppy:e,file:a,uploadInProgressOrComplete:n,canEditFile:i,metaFields:r,showLinkToFileUploadResult:s,showRemoveButton:o,i18n:l,toggleFileCard:u,openFileEditor:c}=t;return h("div",{className:"uppy-Dashboard-Item-actionWrapper"},h(Py,{i18n:l,file:a,uploadInProgressOrComplete:n,canEditFile:i,metaFields:r,onClick:()=>{r&&r.length>0?u(!0,a.id):c(a)}}),s&&a.uploadURL?h(Sy,{file:a,uppy:e,i18n:l}):null,o?h(Ty,{i18n:l,file:a,onClick:()=>e.removeFile(a.id)}):null)}class xy extends ba{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!od(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,a=e.progress.preprocess||e.progress.postprocess,n=!!e.progress.uploadComplete&&!a&&!e.error,i=!!e.progress.uploadStarted||!!a,r=e.progress.uploadStarted&&!e.progress.uploadComplete||a,s=e.error||!1,{isGhost:o}=e;let l=(this.props.individualCancellation||!r)&&!n;n&&this.props.showRemoveButtonAfterComplete&&(l=!0);const u=Gt({"uppy-Dashboard-Item":!0,"is-inprogress":r&&!this.props.recoveredState,"is-processing":a,"is-complete":n,"is-error":!!s,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":o});return h("div",{className:u,id:`uppy_${e.id}`,role:this.props.role},h("div",{className:"uppy-Dashboard-Item-preview"},h(py,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),h(my,{uppy:this.props.uppy,file:e,error:s,isUploaded:n,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),h("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},h(_y,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),h(Fy,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:l,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}}function Dy(t,e){const a=[];let n=[];return t.forEach(i=>{n.length<e?n.push(i):(a.push(n),n=[i])}),n.length&&a.push(n),a}function Oy(t){let{id:e,i18n:a,uppy:n,files:i,resumableUploads:r,hideRetryButton:s,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:u,showRemoveButtonAfterComplete:c,metaFields:d,isSingleFile:p,toggleFileCard:m,handleRequestThumbnail:b,handleCancelThumbnail:w,recoveredState:M,individualCancellation:x,itemsPerRow:S,openFileEditor:P,canEditFile:E,toggleAddFilesPanel:q,containerWidth:D,containerHeight:_}=t;const L=S===1?71:200,U=to(()=>{const te=(fe,B)=>Number(i[B].isGhost)-Number(i[fe].isGhost),ue=Object.keys(i);return M&&ue.sort(te),Dy(ue,S)},[i,S,M]),R=te=>h("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:te[0]},te.map(ue=>h(xy,{key:ue,uppy:n,id:e,i18n:a,resumableUploads:r,individualCancellation:x,hideRetryButton:s,hidePauseResumeButton:o,hideCancelButton:l,showLinkToFileUploadResult:u,showRemoveButtonAfterComplete:c,metaFields:d,recoveredState:M,isSingleFile:p,containerWidth:D,containerHeight:_,toggleFileCard:m,handleRequestThumbnail:b,handleCancelThumbnail:w,role:"listitem",openFileEditor:P,canEditFile:E,toggleAddFilesPanel:q,file:i[ue]})));return p?h("div",{class:"uppy-Dashboard-files"},R(U[0])):h(Qg,{class:"uppy-Dashboard-files",role:"list",data:U,renderRow:R,rowHeight:L})}class cd extends ba{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=e=>{this.props.handleInputChange(e),e.target.value=null},this.renderHiddenInput=(e,a)=>h("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:a}),this.renderHiddenCameraInput=(e,a,n)=>{const r={photo:"image/*",video:"video/*"}[e];return h("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${e}`,onChange:this.onFileInputChange,capture:a,accept:r,ref:n})},this.renderMyDeviceAcquirer=()=>h("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},h("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},h("div",{className:"uppy-DashboardTab-inner"},h("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},h("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"}))),h("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>h("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},h("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},h("div",{className:"uppy-DashboardTab-inner"},h("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},h("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"}))),h("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>h("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},h("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},h("div",{className:"uppy-DashboardTab-inner"},h("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},h("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "}))),h("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(e,a)=>{const n=this.props.acquirers.length;return h("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:a,"data-uppy-super-focusable":n===0},e)},this.renderDropPasteBrowseTagline=e=>{const a=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),n=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),i=this.props.fileManagerSelectionType,r=i.charAt(0).toUpperCase()+i.slice(1);return h("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):e>0?this.props.i18nArray(`dropPasteImport${r}`,{browseFiles:a,browseFolders:n,browse:a}):this.props.i18nArray(`dropPaste${r}`,{browseFiles:a,browseFolders:n,browse:a}))},this.renderAcquirer=e=>{var a;return h("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},h("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":e.id,"aria-controls":`uppy-DashboardContent-panel--${e.id}`,"aria-selected":((a=this.props.activePickerPanel)==null?void 0:a.id)===e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(e.id)},h("div",{className:"uppy-DashboardTab-inner"},e.icon()),h("div",{className:"uppy-DashboardTab-name"},e.name)))},this.renderAcquirers=e=>{const a=[...e],n=a.splice(e.length-2,e.length);return h(tn,null,a.map(i=>this.renderAcquirer(i)),h("span",{role:"presentation",style:{"white-space":"nowrap"}},n.map(i=>this.renderAcquirer(i))))},this.renderSourcesList=(e,a)=>{const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:i}=this.props;let r=[];const s="myDevice";a||r.push({key:s,elements:this.renderMyDeviceAcquirer()}),n&&r.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),i&&r.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),r.push(...e.map(d=>({key:d.id,elements:this.renderAcquirer(d)}))),r.length===1&&r[0].key===s&&(r=[]);const l=[...r],u=l.splice(r.length-2,r.length),c=d=>d.map(p=>{let{key:m,elements:b}=p;return h(tn,{key:m},b)});return h(tn,null,this.renderDropPasteBrowseTagline(r.length),h("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},c(l),h("span",{role:"presentation",style:{"white-space":"nowrap"}},c(u))))}}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:e}=this.props,a=h("span",null,h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},h("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),h("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),n=e("poweredBy",{uppy:a});return h("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},n)}render(){const{showNativePhotoCameraButton:e,showNativeVideoCameraButton:a,nativeCameraFacingMode:n}=this.props;return h("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,i=>{this.fileInput=i}),this.renderHiddenInput(!0,i=>{this.folderInput=i}),e&&this.renderHiddenCameraInput("photo",n,i=>{this.mobilePhotoFileInput=i}),a&&this.renderHiddenCameraInput("video",n,i=>{this.mobileVideoFileInput=i}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),h("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&h("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}}const Ay=t=>h("div",{className:Gt("uppy-Dashboard-AddFilesPanel",t.className),"data-uppy-panelType":"AddFiles","aria-hidden":!t.showAddFilesPanel},h("div",{className:"uppy-DashboardContent-bar"},h("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18n("addingMoreFiles")),h("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>t.toggleAddFilesPanel(!1)},t.i18n("back"))),h(cd,t));function Da(t){const{tagName:e}=t.target;if(e==="INPUT"||e==="TEXTAREA"){t.stopPropagation();return}t.preventDefault(),t.stopPropagation()}function Cy(t){let{activePickerPanel:e,className:a,hideAllPanels:n,i18n:i,state:r,uppy:s}=t;return h("div",{className:Gt("uppy-DashboardContent-panel",a),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:Da,onDragLeave:Da,onDrop:Da,onPaste:Da},h("div",{className:"uppy-DashboardContent-bar"},h("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},i("importFrom",{name:e.name})),h("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n},i("cancel"))),h("div",{className:"uppy-DashboardContent-panelBody"},s.getPlugin(e.id).render(r)))}function My(t){const e=t.files[t.fileCardFor],a=()=>{t.uppy.emit("file-editor:cancel",e),t.closeFileEditor()};return h("div",{className:Gt("uppy-DashboardContent-panel",t.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},h("div",{className:"uppy-DashboardContent-bar"},h("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},t.i18nArray("editing",{file:h("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),h("button",{className:"uppy-DashboardContent-back",type:"button",onClick:a},t.i18n("cancel")),h("button",{className:"uppy-DashboardContent-save",type:"button",onClick:t.saveFileEditor},t.i18n("save"))),h("div",{className:"uppy-DashboardContent-panelBody"},t.editors.map(n=>t.uppy.getPlugin(n.id).render(t.state))))}const Qt={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function Ey(t,e,a,n){if(n===void 0&&(n={}),t)return Qt.STATE_ERROR;if(e)return Qt.STATE_COMPLETE;if(a)return Qt.STATE_PAUSED;let i=Qt.STATE_WAITING;const r=Object.keys(n);for(let s=0;s<r.length;s++){const{progress:o}=n[r[s]];if(o.uploadStarted&&!o.uploadComplete)return Qt.STATE_UPLOADING;o.preprocess&&i!==Qt.STATE_UPLOADING&&(i=Qt.STATE_PREPROCESSING),o.postprocess&&i!==Qt.STATE_UPLOADING&&i!==Qt.STATE_PREPROCESSING&&(i=Qt.STATE_POSTPROCESSING)}return i}function $y(t){let{files:e,i18n:a,isAllComplete:n,isAllErrored:i,isAllPaused:r,inProgressNotPausedFiles:s,newFiles:o,processingFiles:l}=t;switch(Ey(i,n,r,e)){case"uploading":return a("uploadingXFiles",{smart_count:s.length});case"preprocessing":case"postprocessing":return a("processingXFiles",{smart_count:l.length});case"paused":return a("uploadPaused");case"waiting":return a("xFilesSelected",{smart_count:o.length});case"complete":return a("uploadComplete");case"error":return a("error")}}function Ry(t){const{i18n:e,isAllComplete:a,hideCancelButton:n,maxNumberOfFiles:i,toggleAddFilesPanel:r,uppy:s}=t;let{allowNewUpload:o}=t;return o&&i&&(o=t.totalFileCount<t.maxNumberOfFiles),h("div",{className:"uppy-DashboardContent-bar"},!a&&!n?h("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>s.cancelAll()},e("cancel")):h("div",null),h("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},h($y,t)),o?h("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>r(!0)},h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},h("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),h("span",{className:"uppy-DashboardContent-addMoreCaption"},e("addMore"))):h("div",null))}function Iy(t){const{computedMetaFields:e,requiredMetaFields:a,updateMeta:n,form:i,formState:r}=t,s={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(o=>{const l=`uppy-Dashboard-FileCard-input-${o.id}`,u=a.includes(o.id);return h("fieldset",{key:o.id,className:"uppy-Dashboard-FileCard-fieldset"},h("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:l},o.name),o.render!==void 0?o.render({value:r[o.id],onChange:c=>n(c,o.id),fieldCSSClasses:s,required:u,form:i.id},h):h("input",{className:s.text,id:l,form:i.id,type:o.type||"text",required:u,value:r[o.id],placeholder:o.placeholder,onInput:c=>n(c.target.value,o.id),"data-uppy-super-focusable":!0}))})}function Ny(t){var e;const{files:a,fileCardFor:n,toggleFileCard:i,saveFileCard:r,metaFields:s,requiredMetaFields:o,openFileEditor:l,i18n:u,i18nArray:c,className:d,canEditFile:p}=t,m=()=>typeof s=="function"?s(a[n]):s,b=a[n],w=(e=m())!=null?e:[],M=p(b),x={};w.forEach(L=>{var U;x[L.id]=(U=b.meta[L.id])!=null?U:""});const[S,P]=Wi(x),E=Vg(L=>{L.preventDefault(),r(S,n)},[r,S,n]),q=(L,U)=>{P({...S,[U]:L})},D=()=>{i(!1)},[_]=Wi(()=>{const L=document.createElement("form");return L.setAttribute("tabindex","-1"),L.id=js(),L});return ys(()=>(document.body.appendChild(_),_.addEventListener("submit",E),()=>{_.removeEventListener("submit",E),document.body.removeChild(_)}),[_,E]),h("div",{className:Gt("uppy-Dashboard-FileCard",d),"data-uppy-panelType":"FileCard",onDragOver:Da,onDragLeave:Da,onDrop:Da,onPaste:Da},h("div",{className:"uppy-DashboardContent-bar"},h("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},c("editing",{file:h("span",{className:"uppy-DashboardContent-titleFile"},b.meta?b.meta.name:b.name)})),h("button",{className:"uppy-DashboardContent-back",type:"button",form:_.id,title:u("finishEditingFile"),onClick:D},u("cancel"))),h("div",{className:"uppy-Dashboard-FileCard-inner"},h("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:ao(b.type).color}},h(ld,{file:b}),M&&h("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:L=>{E(L),l(b)}},u("editImage"))),h("div",{className:"uppy-Dashboard-FileCard-info"},h(Iy,{computedMetaFields:w,requiredMetaFields:o,updateMeta:q,form:_,formState:S})),h("div",{className:"uppy-Dashboard-FileCard-actions"},h("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:_.id},u("saveChanges")),h("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:D,form:_.id},u("cancel")))))}const dn="uppy-transition-slideDownUp",ml=250;function Ri(t){let{children:e}=t;const[a,n]=Wi(null),[i,r]=Wi(""),s=Br(),o=Br(),l=Br(),u=()=>{r(`${dn}-enter`),cancelAnimationFrame(l.current),clearTimeout(o.current),o.current=void 0,l.current=requestAnimationFrame(()=>{r(`${dn}-enter ${dn}-enter-active`),s.current=setTimeout(()=>{r("")},ml)})},c=()=>{r(`${dn}-leave`),cancelAnimationFrame(l.current),clearTimeout(s.current),s.current=void 0,l.current=requestAnimationFrame(()=>{r(`${dn}-leave ${dn}-leave-active`),o.current=setTimeout(()=>{n(null),r("")},ml)})};return ys(()=>{const d=Fa(e)[0];a!==d&&(d&&!a?u():a&&!d&&!o.current&&c(),n(d))},[e,a]),ys(()=>()=>{clearTimeout(s.current),clearTimeout(o.current),cancelAnimationFrame(l.current)},[]),a?Cu(a,{className:Gt(i,a.props.className)}):null}function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ka.apply(null,arguments)}const vl=900,gl=700,Hr=576,yl=330;function By(t){const e=t.totalFileCount===0,a=t.totalFileCount===1,n=t.containerWidth>Hr,i=t.containerHeight>yl,r=Gt({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":t.disabled,"uppy-Dashboard--animateOpenClose":t.animateOpenClose,"uppy-Dashboard--isClosing":t.isClosing,"uppy-Dashboard--isDraggingOver":t.isDraggingOver,"uppy-Dashboard--modal":!t.inline,"uppy-size--md":t.containerWidth>Hr,"uppy-size--lg":t.containerWidth>gl,"uppy-size--xl":t.containerWidth>vl,"uppy-size--height-md":t.containerHeight>yl,"uppy-Dashboard--isAddFilesPanelVisible":t.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":t.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":t.singleFileFullScreen&&a&&i});let s=1;t.containerWidth>vl?s=5:t.containerWidth>gl?s=4:t.containerWidth>Hr&&(s=3);const o=t.showSelectedFiles&&!e,l=t.recoveredState?Object.keys(t.recoveredState.files).length:null,u=t.files?Object.keys(t.files).filter(p=>t.files[p].isGhost).length:null,c=()=>u>0?t.i18n("recoveredXFiles",{smart_count:u}):t.i18n("recoveredAllFiles");return h("div",{className:r,"data-uppy-theme":t.theme,"data-uppy-num-acquirers":t.acquirers.length,"data-uppy-drag-drop-supported":!t.disableLocalFiles&&sd(),"aria-hidden":t.inline?"false":t.isHidden,"aria-disabled":t.disabled,"aria-label":t.inline?t.i18n("dashboardTitle"):t.i18n("dashboardWindowTitle"),onPaste:t.handlePaste,onDragOver:t.handleDragOver,onDragLeave:t.handleDragLeave,onDrop:t.handleDrop},h("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:t.handleClickOutside}),h("div",{className:"uppy-Dashboard-inner","aria-modal":!t.inline&&"true",role:t.inline?void 0:"dialog",style:{width:t.inline&&t.width?t.width:"",height:t.inline&&t.height?t.height:""}},t.inline?null:h("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":t.i18n("closeModal"),title:t.i18n("closeModal"),onClick:t.closeModal},h("span",{"aria-hidden":"true"},"")),h("div",{className:"uppy-Dashboard-innerWrap"},h("div",{className:"uppy-Dashboard-dropFilesHereHint"},t.i18n("dropHint")),o&&h(Ry,t),l&&h("div",{className:"uppy-Dashboard-serviceMsg"},h("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},h("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},h("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),h("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),h("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),h("strong",{className:"uppy-Dashboard-serviceMsg-title"},t.i18n("sessionRestored")),h("div",{className:"uppy-Dashboard-serviceMsg-text"},c())),o?h(Oy,{id:t.id,i18n:t.i18n,uppy:t.uppy,files:t.files,resumableUploads:t.resumableUploads,hideRetryButton:t.hideRetryButton,hidePauseResumeButton:t.hidePauseResumeButton,hideCancelButton:t.hideCancelButton,showLinkToFileUploadResult:t.showLinkToFileUploadResult,showRemoveButtonAfterComplete:t.showRemoveButtonAfterComplete,metaFields:t.metaFields,toggleFileCard:t.toggleFileCard,handleRequestThumbnail:t.handleRequestThumbnail,handleCancelThumbnail:t.handleCancelThumbnail,recoveredState:t.recoveredState,individualCancellation:t.individualCancellation,openFileEditor:t.openFileEditor,canEditFile:t.canEditFile,toggleAddFilesPanel:t.toggleAddFilesPanel,isSingleFile:a,itemsPerRow:s,containerWidth:t.containerWidth,containerHeight:t.containerHeight}):h(cd,Ka({},t,{isSizeMD:n})),h(Ri,null,t.showAddFilesPanel?h(Ay,Ka({key:"AddFiles"},t,{isSizeMD:n})):null),h(Ri,null,t.fileCardFor?h(Ny,Ka({key:"FileCard"},t)):null),h(Ri,null,t.activePickerPanel?h(Cy,Ka({key:"Picker"},t)):null),h(Ri,null,t.showFileEditor?h(My,Ka({key:"Editor"},t)):null),h("div",{className:"uppy-Dashboard-progressindicators"},t.progressindicators.map(p=>t.uppy.getPlugin(p.id).render(t.state))))))}const Uy={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function Oe(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var Ly=0;function lt(t){return"__private_"+Ly+++"_"+t}const zy={version:"4.0.2"},jr=hl.default||hl,bl=9,Hy=27;function wl(){const t={};return t.promise=new Promise((e,a)=>{t.resolve=e,t.reject=a}),t}const jy={target:"body",metaFields:[],inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Jg,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,doneButtonHandler:void 0,onRequestCloseModal:null};var Ra=lt("disabledNodes"),oa=lt("generateLargeThumbnailIfSingleFile"),qn=lt("openFileEditorWhenFilesAdded"),Ia=lt("attachRenderFunctionToTarget"),qr=lt("isTargetSupported"),Yr=lt("getAcquirers"),Vr=lt("getProgressIndicators"),la=lt("getEditors"),Wr=lt("addSpecifiedPluginsFromOptions"),Gr=lt("autoDiscoverPlugins"),Na=lt("addSupportedPluginIfNoTarget"),Yn=lt("getStatusBarOpts"),Vn=lt("getThumbnailGeneratorOpts"),Kr=lt("getInformerOpts"),Wn=lt("getStatusBarId"),Gn=lt("getThumbnailGeneratorId"),Xr=lt("getInformerId");let hd=class extends na{constructor(e,a){var n,i,r;const s=(n=a==null?void 0:a.autoOpen)!=null?n:null;super(e,{...jy,...a,autoOpen:s}),Object.defineProperty(this,Xr,{value:Ky}),Object.defineProperty(this,Gn,{value:Gy}),Object.defineProperty(this,Wn,{value:Wy}),Object.defineProperty(this,Kr,{value:Vy}),Object.defineProperty(this,Vn,{value:Yy}),Object.defineProperty(this,Yn,{value:qy}),Object.defineProperty(this,Ra,{writable:!0,value:void 0}),this.modalName=`uppy-Dashboard-${js()}`,this.superFocus=iy(),this.ifFocusedOnUppyRecently=!1,this.removeTarget=o=>{const u=this.getPluginState().targets.filter(c=>c.id!==o.id);this.setPluginState({targets:u})},this.addTarget=o=>{const l=o.id||o.constructor.name,u=o.title||l,c=o.type;if(c!=="acquirer"&&c!=="progressindicator"&&c!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const d={id:l,name:u,type:c},m=this.getPluginState().targets.slice();return m.push(d),this.setPluginState({targets:m}),this.el},this.hideAllPanels=()=>{var o;const l=this.getPluginState(),u={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};l.activePickerPanel===u.activePickerPanel&&l.showAddFilesPanel===u.showAddFilesPanel&&l.showFileEditor===u.showFileEditor&&l.activeOverlayType===u.activeOverlayType||(this.setPluginState(u),this.uppy.emit("dashboard:close-panel",(o=l.activePickerPanel)==null?void 0:o.id))},this.showPanel=o=>{const{targets:l}=this.getPluginState(),u=l.find(c=>c.type==="acquirer"&&c.id===o);this.setPluginState({activePickerPanel:u,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",o)},this.canEditFile=o=>{const{targets:l}=this.getPluginState();return Oe(this,la)[la](l).some(c=>this.uppy.getPlugin(c.id).canEditFile(o))},this.openFileEditor=o=>{const{targets:l}=this.getPluginState(),u=Oe(this,la)[la](l);this.setPluginState({showFileEditor:!0,fileCardFor:o.id||null,activeOverlayType:"FileEditor"}),u.forEach(c=>{this.uppy.getPlugin(c.id).selectFile(o)})},this.closeFileEditor=()=>{const{metaFields:o}=this.getPluginState();o&&o.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})},this.saveFileEditor=()=>{const{targets:o}=this.getPluginState();Oe(this,la)[la](o).forEach(u=>{this.uppy.getPlugin(u.id).save()}),this.closeFileEditor()},this.openModal=()=>{const{promise:o,resolve:l}=wl();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const u=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",u,!1),l()};this.el.addEventListener("animationend",u,!1)}else this.setPluginState({isHidden:!1}),l();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),o},this.closeModal=o=>{var l;const u=(l=o==null?void 0:o.manualClose)!=null?l:!0,{isHidden:c,isClosing:d}=this.getPluginState();if(c||d)return;const{promise:p,resolve:m}=wl();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const w=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",w,!1),m()};this.el.addEventListener("animationend",w,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),m();if(document.removeEventListener("keydown",this.handleKeyDownInModal),u&&this.opts.browserBackButtonClose){var b;(b=history.state)!=null&&b[this.modalName]&&history.back()}return this.uppy.emit("dashboard:modal-closed"),p},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=o=>{const{capabilities:l}=this.uppy.getState();this.uppy.setState({capabilities:{...l,darkMode:o}})},this.handleSystemDarkModeChange=o=>{const l=o.matches;this.uppy.log(`[Dashboard] Dark mode is ${l?"on":"off"}`),this.setDarkModeCapability(l)},this.toggleFileCard=(o,l)=>{const u=this.uppy.getFile(l);o?this.uppy.emit("dashboard:file-edit-start",u):this.uppy.emit("dashboard:file-edit-complete",u),this.setPluginState({fileCardFor:o?l:null,activeOverlayType:o?"FileCard":null})},this.toggleAddFilesPanel=o=>{this.setPluginState({showAddFilesPanel:o,activeOverlayType:o?"AddFiles":null})},this.addFiles=o=>{const l=o.map(u=>({source:this.id,name:u.name,type:u.type,data:u,meta:{relativePath:u.relativePath||u.webkitRelativePath||null}}));try{this.uppy.addFiles(l)}catch(u){this.uppy.log(u)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(o=>{const l=o[0],{width:u,height:c}=l.contentRect;this.setPluginState({containerWidth:u,containerHeight:c,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const o=this.getPluginState(),l=!this.opts.inline&&o.isHidden;!o.areInsidesReadyToBeVisible&&!l&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=o=>{this.el.contains(o.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableInteractiveElements=o=>{var l;const u=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],c=(l=Oe(this,Ra)[Ra])!=null?l:an(this.el.querySelectorAll(u)).filter(d=>!d.classList.contains("uppy-Dashboard-close"));for(const d of c)d.tagName==="A"?d.setAttribute("aria-disabled",o):d.disabled=o;o?Oe(this,Ra)[Ra]=c:Oe(this,Ra)[Ra]=null,this.dashboardIsDisabled=o},this.updateBrowserHistory=()=>{var o;(o=history.state)!=null&&o[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=o=>{var l;this.isModalOpen()&&(!o.state||!o.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(l=o.state)!=null&&l[this.modalName]&&history.back()},this.handleKeyDownInModal=o=>{o.keyCode===Hy&&this.requestCloseModal(),o.keyCode===bl&&rd(o,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=o=>{this.uppy.iteratePlugins(u=>{u.type==="acquirer"&&(u.handleRootPaste==null||u.handleRootPaste(o))});const l=an(o.clipboardData.files);l.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(l))},this.handleInputChange=o=>{o.preventDefault();const l=an(o.target.files);l.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(l))},this.handleDragOver=o=>{var l,u;o.preventDefault(),o.stopPropagation();const c=()=>{let b=!0;return this.uppy.iteratePlugins(w=>{w.canHandleRootDrop!=null&&w.canHandleRootDrop(o)&&(b=!0)}),b},d=()=>{const{types:b}=o.dataTransfer;return b.some(w=>w==="Files")},p=c(),m=d();if(!p&&!m||this.opts.disabled||this.opts.disableLocalFiles&&(m||!p)||!this.uppy.getState().allowNewUpload){o.dataTransfer.dropEffect="none";return}o.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),(l=(u=this.opts).onDragOver)==null||l.call(u,o)},this.handleDragLeave=o=>{var l,u;o.preventDefault(),o.stopPropagation(),this.setPluginState({isDraggingOver:!1}),(l=(u=this.opts).onDragLeave)==null||l.call(u,o)},this.handleDrop=async o=>{var l,u;o.preventDefault(),o.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(m=>{m.type==="acquirer"&&(m.handleRootDrop==null||m.handleRootDrop(o))});let c=!1;const d=m=>{this.uppy.log(m,"error"),c||(this.uppy.info(m.message,"error"),c=!0)};this.uppy.log("[Dashboard] Processing dropped files");const p=await Zu(o.dataTransfer,{logDropError:d});p.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(p)),(l=(u=this.opts).onDrop)==null||l.call(u,o)},this.handleRequestThumbnail=o=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",o)},this.handleCancelThumbnail=o=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",o)},this.handleKeyDownInInline=o=>{o.keyCode===bl&&ny(o,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=o=>{this.el.contains(document.activeElement)&&this.handlePaste(o)},this.handleComplete=o=>{let{failed:l}=o;this.opts.closeAfterFinish&&!(l!=null&&l.length)&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,oa,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;const o=600,l=this.uppy.getFiles();if(l.length===1){const u=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);u==null||u.setOptions({thumbnailWidth:o});const c={...l[0],preview:void 0};u==null||u.requestThumbnail(c).then(()=>{u==null||u.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,qn,{writable:!0,value:o=>{const l=o[0],{metaFields:u}=this.getPluginState(),c=u&&u.length>0,d=this.canEditFile(l);c&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,l.id):d&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(l)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){const o=al(this.opts.trigger);o?o.forEach(l=>l.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",Oe(this,Na)[Na]),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",Oe(this,oa)[oa]),this.uppy.on("file-removed",Oe(this,oa)[oa]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",Oe(this,qn)[qn])},this.removeEvents=()=>{const o=al(this.opts.trigger);!this.opts.inline&&o&&o.forEach(l=>l.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",Oe(this,Na)[Na]),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",Oe(this,oa)[oa]),this.uppy.off("file-removed",Oe(this,oa)[oa]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",Oe(this,qn)[qn])},this.superFocusOnEachUpdate=()=>{const o=this.el.contains(document.activeElement),l=document.activeElement===document.body||document.activeElement===null,u=this.uppy.getState().info.length===0,c=!this.opts.inline;u&&(c||o||l&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(o,l)=>{this.uppy.setFileMeta(l,o),this.toggleFileCard(!1,l)},Object.defineProperty(this,Ia,{writable:!0,value:o=>{const l=this.uppy.getPlugin(o.id);return{...o,icon:l.icon||this.opts.defaultPickerIcon,render:l.render}}}),Object.defineProperty(this,qr,{writable:!0,value:o=>{const l=this.uppy.getPlugin(o.id);return typeof l.isSupported!="function"?!0:l.isSupported()}}),Object.defineProperty(this,Yr,{writable:!0,value:jr(o=>o.filter(l=>l.type==="acquirer"&&Oe(this,qr)[qr](l)).map(Oe(this,Ia)[Ia]))}),Object.defineProperty(this,Vr,{writable:!0,value:jr(o=>o.filter(l=>l.type==="progressindicator").map(Oe(this,Ia)[Ia]))}),Object.defineProperty(this,la,{writable:!0,value:jr(o=>o.filter(l=>l.type==="editor").map(Oe(this,Ia)[Ia]))}),this.render=o=>{const l=this.getPluginState(),{files:u,capabilities:c,allowNewUpload:d}=o,{newFiles:p,uploadStartedFiles:m,completeFiles:b,erroredFiles:w,inProgressFiles:M,inProgressNotPausedFiles:x,processingFiles:S,isUploadStarted:P,isAllComplete:E,isAllPaused:q}=this.uppy.getObjectOfFilesPerState(),D=Oe(this,Yr)[Yr](l.targets),_=Oe(this,Vr)[Vr](l.targets),L=Oe(this,la)[la](l.targets);let U;return this.opts.theme==="auto"?U=c.darkMode?"dark":"light":U=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),By({state:o,isHidden:l.isHidden,files:u,newFiles:p,uploadStartedFiles:m,completeFiles:b,erroredFiles:w,inProgressFiles:M,inProgressNotPausedFiles:x,processingFiles:S,isUploadStarted:P,isAllComplete:E,isAllPaused:q,totalFileCount:Object.keys(u).length,totalProgress:o.totalProgress,allowNewUpload:d,acquirers:D,theme:U,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:l.activePickerPanel,showFileEditor:l.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:l.isClosing,progressindicators:_,editors:L,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:o.recoveredState,metaFields:l.metaFields,resumableUploads:c.resumableUploads||!1,individualCancellation:c.individualCancellation,isMobileDevice:c.isMobileDevice,fileCardFor:l.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:l.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:l.containerWidth,containerHeight:l.containerHeight,areInsidesReadyToBeVisible:l.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:l.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},Object.defineProperty(this,Wr,{writable:!0,value:()=>{(this.opts.plugins||[]).forEach(l=>{const u=this.uppy.getPlugin(l);u?u.mount(this,u):this.uppy.log(`[Uppy] Dashboard could not find plugin '${l}', make sure to uppy.use() the plugins you are specifying`,"warning")})}}),Object.defineProperty(this,Gr,{writable:!0,value:()=>{this.uppy.iteratePlugins(Oe(this,Na)[Na])}}),Object.defineProperty(this,Na,{writable:!0,value:o=>{var l;const u=["acquirer","editor"];o&&!((l=o.opts)!=null&&l.target)&&u.includes(o.type)&&(this.getPluginState().targets.some(d=>o.id===d.id)||o.mount(this,o))}}),this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:o,closeAfterFinish:l}=this.opts;if(o&&l)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:u,allowMultipleUploadBatches:c}=this.uppy.opts;(u||c)&&l&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:d}=this.opts;d&&this.mount(d,this),this.opts.disableStatusBar||this.uppy.use(Bu,{id:Oe(this,Wn)[Wn](),target:this,...Oe(this,Yn)[Yn]()}),this.opts.disableInformer||this.uppy.use(Lu,{id:Oe(this,Xr)[Xr](),target:this,...Oe(this,Kr)[Kr]()}),this.opts.disableThumbnailGenerator||this.uppy.use(Ku,{id:Oe(this,Gn)[Gn](),...Oe(this,Vn)[Vn]()}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const p=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;if(this.uppy.log(`[Dashboard] Dark mode is ${p?"on":"off"}`),this.setDarkModeCapability(p),this.opts.theme==="auto"){var m;(m=this.darkModeMediaQuery)==null||m.addListener(this.handleSystemDarkModeChange)}Oe(this,Wr)[Wr](),Oe(this,Gr)[Gr](),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){const u=this.uppy.getPlugin(`${this.id}:Informer`);u&&this.uppy.removePlugin(u)}if(!this.opts.disableStatusBar){const u=this.uppy.getPlugin(`${this.id}:StatusBar`);u&&this.uppy.removePlugin(u)}if(!this.opts.disableThumbnailGenerator){const u=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);u&&this.uppy.removePlugin(u)}if((this.opts.plugins||[]).forEach(u=>{const c=this.uppy.getPlugin(u);c&&c.unmount()}),this.opts.theme==="auto"){var l;(l=this.darkModeMediaQuery)==null||l.removeListener(this.handleSystemDarkModeChange)}this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=Uy,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(r=(i=this.opts).onRequestCloseModal)!=null||(i.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(e){var a,n;super.setOptions(e),(a=this.uppy.getPlugin(Oe(this,Wn)[Wn]()))==null||a.setOptions(Oe(this,Yn)[Yn]()),(n=this.uppy.getPlugin(Oe(this,Gn)[Gn]()))==null||n.setOptions(Oe(this,Vn)[Vn]())}};function qy(){const{hideUploadButton:t,hideRetryButton:e,hidePauseResumeButton:a,hideCancelButton:n,showProgressDetails:i,hideProgressAfterFinish:r,locale:s,doneButtonHandler:o}=this.opts;return{hideUploadButton:t,hideRetryButton:e,hidePauseResumeButton:a,hideCancelButton:n,showProgressDetails:i,hideAfterFinish:r,locale:s,doneButtonHandler:o}}function Yy(){const{thumbnailWidth:t,thumbnailHeight:e,thumbnailType:a,waitForThumbnailsBeforeUpload:n}=this.opts;return{thumbnailWidth:t,thumbnailHeight:e,thumbnailType:a,waitForThumbnailsBeforeUpload:n,lazy:!n}}function Vy(){return{}}function Wy(){return`${this.id}:StatusBar`}function Gy(){return`${this.id}:ThumbnailGenerator`}function Ky(){return`${this.id}:Informer`}hd.VERSION=zy.version;function Xy(t,e,a,n){ot(()=>{t()}),Td(()=>{a.removePlugin(e.value)}),Ct(()=>n.value,(i,r)=>{od(i,r)||e.value.setOptions({...i})})}const N0=rt({name:"Dashboard",props:{uppy:{type:Object,required:!0},props:{type:Object}},setup(t){const e=Z(),a=Z(),n=Z(t.props);return Xy(()=>{const{uppy:r}=t,s={id:"Dashboard",inline:!0,...t.props,target:e.value};r.use(hd,s),a.value=r.getPlugin(s.id)},a,t.uppy,n),()=>Pl("div",{ref:e})}}),Qy={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},Jy={version:"4.0.1"},Zy={inputName:"files[]",width:"100%",height:"100%"};class no extends na{constructor(e,a){super(e,{...Zy,...a}),this.isDragDropSupported=sd(),this.addFiles=n=>{const i=n.map(r=>({source:this.id,name:r.name,type:r.type,data:r,meta:{relativePath:r.relativePath||null}}));try{this.uppy.addFiles(i)}catch(r){this.uppy.log(r)}},this.onInputChange=n=>{const i=an(n.target.files);i.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(i)),n.target.value=null},this.handleDragOver=n=>{var i,r;n.preventDefault(),n.stopPropagation();const{types:s}=n.dataTransfer,o=s.some(u=>u==="Files"),{allowNewUpload:l}=this.uppy.getState();if(!o||!l){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),(i=(r=this.opts).onDragOver)==null||i.call(r,n)},this.handleDragLeave=n=>{var i,r;n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),(i=(r=this.opts).onDragLeave)==null||i.call(r,n)},this.handleDrop=async n=>{var i,r;n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1});const s=l=>{this.uppy.log(l,"error")},o=await Zu(n.dataTransfer,{logDropError:s});o.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(o)),(i=(r=this.opts).onDrop)==null||i.call(r,n)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=Qy,this.i18nInit()}renderHiddenFileInput(){const{restrictions:e}=this.uppy.opts;return h("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:a=>{this.fileInputRef=a},name:this.opts.inputName,multiple:e.maxNumberOfFiles!==1,accept:e.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return h("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},h("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return h("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:h("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return h("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){const e=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,a={width:this.opts.width,height:this.opts.height};return h("button",{type:"button",className:e,style:a,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),h("div",{className:"uppy-DragDrop-inner"},no.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){const{target:e}=this.opts;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}uninstall(){this.unmount()}}no.VERSION=Jy.version;const e0={version:"4.0.0"},t0={fixed:!1,hideAfterFinish:!0};class a0 extends na{constructor(e,a){super(e,{...t0,...a}),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator",this.render=this.render.bind(this)}render(e){const a=e.totalProgress||0,n=(a===0||a===100)&&this.opts.hideAfterFinish;return h("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":n},h("div",{className:"uppy-ProgressBar-inner",style:{width:`${a}%`}}),h("div",{className:"uppy-ProgressBar-percentage"},a))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}a0.VERSION=e0.version;const n0={strings:{chooseFiles:"Choose files"}},i0={version:"4.0.0"},r0={pretty:!0,inputName:"files[]"};class s0 extends na{constructor(e,a){super(e,{...r0,...a}),this.input=null,this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=n0,this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(e){const a=e.map(n=>({source:this.id,name:n.name,type:n.type,data:n}));try{this.uppy.addFiles(a)}catch(n){this.uppy.log(n)}}handleInputChange(e){this.uppy.log("[FileInput] Something selected through input...");const a=an(e.target.files);this.addFiles(a),e.target.value=null}handleClick(){this.input.click()}render(){const e={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},{restrictions:a}=this.uppy.opts,n=a.allowedFileTypes?a.allowedFileTypes.join(","):void 0;return h("div",{className:"uppy-FileInput-container"},h("input",{className:"uppy-FileInput-input",style:this.opts.pretty?e:void 0,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:a.maxNumberOfFiles!==1,accept:n,ref:i=>{this.input=i}}),this.opts.pretty&&h("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}s0.VERSION=i0.version;function ua(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var o0=0;function pd(t){return"__private_"+o0+++"_"+t}var ft=pd("uppy"),Kn=pd("events");class l0{constructor(e){Object.defineProperty(this,ft,{writable:!0,value:void 0}),Object.defineProperty(this,Kn,{writable:!0,value:[]}),ua(this,ft)[ft]=e}on(e,a){return ua(this,Kn)[Kn].push([e,a]),ua(this,ft)[ft].on(e,a)}remove(){for(const[e,a]of ua(this,Kn)[Kn].splice(0))ua(this,ft)[ft].off(e,a)}onFilePause(e,a){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&a(i)})}onFileRemove(e,a){this.on("file-removed",n=>{e===n.id&&a(n.id)})}onPause(e,a){this.on("upload-pause",(n,i)=>{e===(n==null?void 0:n.id)&&a(i)})}onRetry(e,a){this.on("upload-retry",n=>{e===(n==null?void 0:n.id)&&a()})}onRetryAll(e,a){this.on("retry-all",()=>{ua(this,ft)[ft].getFile(e)&&a()})}onPauseAll(e,a){this.on("pause-all",()=>{ua(this,ft)[ft].getFile(e)&&a()})}onCancelAll(e,a){var n=this;this.on("cancel-all",function(){ua(n,ft)[ft].getFile(e)&&a(...arguments)})}onResumeAll(e,a){this.on("resume-all",()=>{ua(this,ft)[ft].getFile(e)&&a()})}}function be(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var u0=0;function Tt(t){return"__private_"+u0+++"_"+t}function d0(t){return new Error("Cancelled",{cause:t})}function _l(t){if(t!=null){var e;const a=()=>this.abort(t.reason);t.addEventListener("abort",a,{once:!0});const n=()=>{t.removeEventListener("abort",a)};(e=this.then)==null||e.call(this,n,n)}return this}var Dt=Tt("activeRequests"),bt=Tt("queuedHandlers"),Ft=Tt("paused"),Ba=Tt("pauseTimer"),mt=Tt("downLimit"),Ua=Tt("upperLimit"),da=Tt("rateLimitingTimer"),ni=Tt("call"),ma=Tt("queueNext"),_s=Tt("next"),Qr=Tt("queue"),ks=Tt("dequeue"),Jr=Tt("resume"),La=Tt("increaseLimit");class c0{constructor(e){Object.defineProperty(this,ks,{value:v0}),Object.defineProperty(this,Qr,{value:m0}),Object.defineProperty(this,_s,{value:f0}),Object.defineProperty(this,ma,{value:p0}),Object.defineProperty(this,ni,{value:h0}),Object.defineProperty(this,Dt,{writable:!0,value:0}),Object.defineProperty(this,bt,{writable:!0,value:[]}),Object.defineProperty(this,Ft,{writable:!0,value:!1}),Object.defineProperty(this,Ba,{writable:!0,value:void 0}),Object.defineProperty(this,mt,{writable:!0,value:1}),Object.defineProperty(this,Ua,{writable:!0,value:void 0}),Object.defineProperty(this,da,{writable:!0,value:void 0}),Object.defineProperty(this,Jr,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,La,{writable:!0,value:()=>{if(be(this,Ft)[Ft]){be(this,da)[da]=setTimeout(be(this,La)[La],0);return}be(this,mt)[mt]=this.limit,this.limit=Math.ceil((be(this,Ua)[Ua]+be(this,mt)[mt])/2);for(let a=be(this,mt)[mt];a<=this.limit;a++)be(this,ma)[ma]();be(this,Ua)[Ua]-be(this,mt)[mt]>3?be(this,da)[da]=setTimeout(be(this,La)[La],2e3):be(this,mt)[mt]=Math.floor(be(this,mt)[mt]/2)}}),typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,a){return!be(this,Ft)[Ft]&&be(this,Dt)[Dt]<this.limit?be(this,ni)[ni](e):be(this,Qr)[Qr](e,a)}wrapSyncFunction(e,a){var n=this;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];const o=n.run(()=>(e(...r),queueMicrotask(()=>o.done()),()=>{}),a);return{abortOn:_l,abort(){o.abort()}}}}wrapPromiseFunction(e,a){var n=this;return function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];let o;const l=new Promise((u,c)=>{o=n.run(()=>{let d,p;try{p=Promise.resolve(e(...r))}catch(m){p=Promise.reject(m)}return p.then(m=>{d?c(d):(o.done(),u(m))},m=>{d?c(d):(o.done(),c(m))}),m=>{d=d0(m)}},a)});return l.abort=u=>{o.abort(u)},l.abortOn=_l,l}}resume(){be(this,Ft)[Ft]=!1,clearTimeout(be(this,Ba)[Ba]);for(let e=0;e<this.limit;e++)be(this,ma)[ma]()}pause(e){e===void 0&&(e=null),be(this,Ft)[Ft]=!0,clearTimeout(be(this,Ba)[Ba]),e!=null&&(be(this,Ba)[Ba]=setTimeout(be(this,Jr)[Jr],e))}rateLimit(e){clearTimeout(be(this,da)[da]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(be(this,Ua)[Ua]=this.limit-1,this.limit=be(this,mt)[mt],be(this,da)[da]=setTimeout(be(this,La)[La],e))}get isPaused(){return be(this,Ft)[Ft]}}function h0(t){be(this,Dt)[Dt]+=1;let e=!1,a;try{a=t()}catch(n){throw be(this,Dt)[Dt]-=1,n}return{abort:n=>{e||(e=!0,be(this,Dt)[Dt]-=1,a==null||a(n),be(this,ma)[ma]())},done:()=>{e||(e=!0,be(this,Dt)[Dt]-=1,be(this,ma)[ma]())}}}function p0(){queueMicrotask(()=>be(this,_s)[_s]())}function f0(){if(be(this,Ft)[Ft]||be(this,Dt)[Dt]>=this.limit||be(this,bt)[bt].length===0)return;const t=be(this,bt)[bt].shift();if(t==null)throw new Error("Invariant violation: next is null");const e=be(this,ni)[ni](t.fn);t.abort=e.abort,t.done=e.done}function m0(t,e){const a={fn:t,priority:(e==null?void 0:e.priority)||0,abort:()=>{be(this,ks)[ks](a)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},n=be(this,bt)[bt].findIndex(i=>a.priority>i.priority);return n===-1?be(this,bt)[bt].push(a):be(this,bt)[bt].splice(n,0,a),a}function v0(t){const e=be(this,bt)[bt].indexOf(t);e!==-1&&be(this,bt)[bt].splice(e,1)}const Zr=Symbol("__queue");class Gi extends Error{constructor(e,a){a===void 0&&(a=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=e,this.isNetworkError=!0,this.request=a}}function g0(t){return t?t.readyState!==0&&t.readyState!==4||t.status===0:!1}function It(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var y0=0;function nr(t){return"__private_"+y0+++"_"+t}var ca=nr("aliveTimer"),za=nr("isDone"),Xn=nr("onTimedOut"),Ha=nr("timeout");class b0{constructor(e,a){Object.defineProperty(this,ca,{writable:!0,value:void 0}),Object.defineProperty(this,za,{writable:!0,value:!1}),Object.defineProperty(this,Xn,{writable:!0,value:void 0}),Object.defineProperty(this,Ha,{writable:!0,value:void 0}),It(this,Ha)[Ha]=e,It(this,Xn)[Xn]=()=>a(e)}progress(){It(this,za)[za]||It(this,Ha)[Ha]>0&&(clearTimeout(It(this,ca)[ca]),It(this,ca)[ca]=setTimeout(It(this,Xn)[Xn],It(this,Ha)[Ha]))}done(){It(this,za)[za]||(clearTimeout(It(this,ca)[ca]),It(this,ca)[ca]=void 0,It(this,za)[za]=!0)}}const Ii=()=>{};function w0(t,e){e===void 0&&(e={});const{body:a=null,headers:n={},method:i="GET",onBeforeRequest:r=Ii,onUploadProgress:s=Ii,shouldRetry:o=()=>!0,onAfterResponse:l=Ii,onTimeout:u=Ii,responseType:c,retries:d=3,signal:p=null,timeout:m=3e4,withCredentials:b=!1}=e,w=S=>.3*2**(S-1)*1e3,M=new b0(m,u);function x(S){return S===void 0&&(S=0),new Promise(async(P,E)=>{const q=new XMLHttpRequest;q.open(i,t,!0),q.withCredentials=b,c&&(q.responseType=c),p==null||p.addEventListener("abort",()=>{q.abort(),E(new DOMException("Aborted","AbortError"))}),q.onload=async()=>{await l(q,S),q.status>=200&&q.status<300?(M.done(),P(q)):o(q)&&S<d?setTimeout(()=>{x(S+1).then(P,E)},w(S)):(M.done(),E(new Gi(q.statusText,q)))},q.onerror=()=>{o(q)&&S<d?setTimeout(()=>{x(S+1).then(P,E)},w(S)):(M.done(),E(new Gi(q.statusText,q)))},q.upload.onprogress=D=>{M.progress(),s(D)},n&&Object.keys(n).forEach(D=>{q.setRequestHeader(D,n[D])}),await r(q,S),q.send(a)})}return x()}function _0(t){const e=a=>"error"in a&&!!a.error;return t.filter(a=>!e(a))}function k0(t){return t.filter(e=>{var a;return!((a=e.progress)!=null&&a.uploadStarted)||!e.isRestored})}function fd(t,e){return t===!0?Object.keys(e):Array.isArray(t)?t:[]}const P0={strings:{uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it."}};function va(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var T0=0;function Sn(t){return"__private_"+T0+++"_"+t}const S0={version:"4.0.2"};function F0(t,e){let a=e;return a||(a=new Error("Upload error")),typeof a=="string"&&(a=new Error(a)),a instanceof Error||(a=Object.assign(new Error("Upload error"),{data:a})),g0(t)?(a=new Gi(a,t),a):(a.request=t,a)}function kl(t){return t.data.slice(0,t.data.size,t.meta.type)}const x0={formData:!0,fieldName:"file",method:"post",allowedMetaFields:!0,bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:""};var nn=Sn("getFetcher"),Ps=Sn("uploadLocalFile"),es=Sn("uploadBundle"),Ts=Sn("getCompanionClientArgs"),ts=Sn("uploadFiles"),Qn=Sn("handleUpload");class D0 extends $u{constructor(e,a){if(super(e,{...x0,fieldName:a.bundle?"files[]":"file",...a}),Object.defineProperty(this,ts,{value:M0}),Object.defineProperty(this,Ts,{value:C0}),Object.defineProperty(this,es,{value:A0}),Object.defineProperty(this,Ps,{value:O0}),Object.defineProperty(this,nn,{writable:!0,value:void 0}),Object.defineProperty(this,Qn,{writable:!0,value:async n=>{if(n.length===0){this.uppy.log("[XHRUpload] No files to upload!");return}this.opts.limit===0&&!this.opts[Zr]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");const i=this.uppy.getFilesByIds(n),r=_0(i),s=k0(r);if(this.uppy.emit("upload-start",s),this.opts.bundle){if(r.some(l=>l.isRemote))throw new Error("Cant upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");await va(this,es)[es](r)}else await va(this,ts)[ts](r)}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.defaultLocale=P0,this.i18nInit(),Zr in this.opts?this.requests=this.opts[Zr]:this.requests=new c0(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if(this.opts.bundle&&typeof this.opts.headers=="function")throw new Error("`opts.headers` can not be a function when the `bundle: true` option is set.");if((a==null?void 0:a.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null),va(this,nn)[nn]=n=>async(i,r)=>{try{var s,o,l;const c=await w0(i,{...r,onBeforeRequest:this.opts.onBeforeRequest,shouldRetry:this.opts.shouldRetry,onAfterResponse:this.opts.onAfterResponse,onTimeout:m=>{const b=Math.ceil(m/1e3),w=new Error(this.i18n("uploadStalled",{seconds:b}));this.uppy.emit("upload-stalled",w,n)},onUploadProgress:m=>{if(m.lengthComputable)for(const w of n){var b;this.uppy.emit("upload-progress",w,{uploadStarted:(b=w.progress.uploadStarted)!=null?b:0,bytesUploaded:m.loaded/m.total*w.size,bytesTotal:w.size})}}});let d=await((s=(o=this.opts).getResponseData)==null?void 0:s.call(o,c));try{var u;(u=d)!=null||(d=JSON.parse(c.responseText))}catch(m){throw new Error("@uppy/xhr-upload expects a JSON response (with a `url` property). To parse non-JSON responses, use `getResponseData` to turn your response into JSON.",{cause:m})}const p=typeof((l=d)==null?void 0:l.url)=="string"?d.url:void 0;for(const m of n)this.uppy.emit("upload-success",m,{status:c.status,body:d,uploadURL:p});return c}catch(c){if(c.name==="AbortError")return;if(c instanceof Gi){const d=c.request;for(const p of n)this.uppy.emit("upload-error",p,F0(d,c))}throw c}}}getOptions(e){const a=this.uppy.getState().xhrUpload,{headers:n}=this.opts,i={...this.opts,...a||{},...e.xhrUpload||{},headers:{}};return typeof n=="function"?i.headers=n(e):Object.assign(i.headers,this.opts.headers),a&&Object.assign(i.headers,a.headers),e.xhrUpload&&Object.assign(i.headers,e.xhrUpload.headers),i}addMetadata(e,a,n){fd(n.allowedMetaFields,a).forEach(r=>{const s=a[r];Array.isArray(s)?s.forEach(o=>e.append(r,o)):e.append(r,s)})}createFormDataUpload(e,a){const n=new FormData;this.addMetadata(n,e.meta,a);const i=kl(e);return e.name?n.append(a.fieldName,i,e.meta.name):n.append(a.fieldName,i),n}createBundledUpload(e,a){const n=new FormData,{meta:i}=this.uppy.getState();return this.addMetadata(n,i,a),e.forEach(r=>{const s=this.getOptions(r),o=kl(r);r.name?n.append(s.fieldName,o,r.name):n.append(s.fieldName,o)}),n}install(){if(this.opts.bundle){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!1}})}this.uppy.addUploader(va(this,Qn)[Qn])}uninstall(){if(this.opts.bundle){const{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!0}})}this.uppy.removeUploader(va(this,Qn)[Qn])}}async function O0(t){const e=new l0(this.uppy),a=new AbortController,n=this.requests.wrapPromiseFunction(async()=>{const i=this.getOptions(t),r=va(this,nn)[nn]([t]),s=i.formData?this.createFormDataUpload(t,i):t.data;return r(i.endpoint,{...i,body:s,signal:a.signal})});e.onFileRemove(t.id,()=>a.abort()),e.onCancelAll(t.id,()=>{a.abort()});try{await n().abortOn(a.signal)}catch(i){if(i.message!=="Cancelled")throw i}finally{e.remove()}}async function A0(t){const e=new AbortController,a=this.requests.wrapPromiseFunction(async()=>{var i;const r=(i=this.uppy.getState().xhrUpload)!=null?i:{},s=va(this,nn)[nn](t),o=this.createBundledUpload(t,{...this.opts,...r});return s(this.opts.endpoint,{...this.opts,body:o,signal:e.signal})});function n(){e.abort()}this.uppy.once("cancel-all",n);try{await a().abortOn(e.signal)}catch(i){if(i.message!=="Cancelled")throw i}finally{this.uppy.off("cancel-all",n)}}function C0(t){var e;const a=this.getOptions(t),n=fd(a.allowedMetaFields,t.meta);return{...(e=t.remote)==null?void 0:e.body,protocol:"multipart",endpoint:a.endpoint,size:t.data.size,fieldname:a.fieldName,metadata:Object.fromEntries(n.map(i=>[i,t.meta[i]])),httpMethod:a.method,useFormData:a.formData,headers:a.headers}}async function M0(t){await Promise.allSettled(t.map(e=>{if(e.isRemote){const a=()=>this.requests,n=new AbortController,i=s=>{s.id===e.id&&n.abort()};this.uppy.on("file-removed",i);const r=this.uppy.getRequestClientForFile(e).uploadRemoteFile(e,va(this,Ts)[Ts](e),{signal:n.signal,getQueue:a});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",i)},{priority:-1})(),r}return va(this,Ps)[Ps](e)}))}D0.VERSION=S0.version;export{N0 as D,Ys as U,D0 as X,cu as a};
