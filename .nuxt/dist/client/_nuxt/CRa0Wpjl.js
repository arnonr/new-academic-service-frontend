import{h as p,i as h}from"./DxzZJF1W.js";function E(t){const{effect:i,swiper:e,on:n,setTranslate:d,setTransition:f,overwriteParams:r,perspective:a,recreateShadows:s,getEffectParams:c}=t;n("beforeInit",()=>{if(e.params.effect!==i)return;e.classNames.push(`${e.params.containerModifierClass}${i}`),a&&a()&&e.classNames.push(`${e.params.containerModifierClass}3d`);const o=r?r():{};Object.assign(e.params,o),Object.assign(e.originalParams,o)}),n("setTranslate",()=>{e.params.effect===i&&d()}),n("setTransition",(o,m)=>{e.params.effect===i&&f(m)}),n("transitionEnd",()=>{if(e.params.effect===i&&s){if(!c||!c().slideShadows)return;e.slides.forEach(o=>{o.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(m=>m.remove())}),s()}});let l;n("virtualUpdate",()=>{e.params.effect===i&&(e.slides.length||(l=!0),requestAnimationFrame(()=>{l&&e.slides&&e.slides.length&&(d(),l=!1)}))})}function g(t,i){const e=p(i);return e!==i&&(e.style.backfaceVisibility="hidden",e.style["-webkit-backface-visibility"]="hidden"),e}function T({swiper:t,duration:i,transformElements:e,allSlides:n}){const{activeIndex:d}=t,f=r=>r.parentElement?r.parentElement:t.slides.filter(s=>s.shadowEl&&s.shadowEl===r.parentNode)[0];if(t.params.virtualTranslate&&i!==0){let r=!1,a;n?a=e:a=e.filter(s=>{const c=s.classList.contains("swiper-slide-transform")?f(s):s;return t.getSlideIndex(c)===d}),a.forEach(s=>{h(s,()=>{if(r||!t||t.destroyed)return;r=!0,t.animating=!1;const c=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(c)})})}}function b({swiper:t,extendParams:i,on:e}){i({fadeEffect:{crossFade:!1}}),E({effect:"fade",swiper:t,on:e,setTranslate:()=>{const{slides:f}=t,r=t.params.fadeEffect;for(let a=0;a<f.length;a+=1){const s=t.slides[a];let l=-s.swiperSlideOffset;t.params.virtualTranslate||(l-=t.translate);let o=0;t.isHorizontal()||(o=l,l=0);const m=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(s.progress),0):1+Math.min(Math.max(s.progress,-1),0),u=g(r,s);u.style.opacity=m,u.style.transform=`translate3d(${l}px, ${o}px, 0px)`}},setTransition:f=>{const r=t.slides.map(a=>p(a));r.forEach(a=>{a.style.transitionDuration=`${f}ms`}),T({swiper:t,duration:f,transformElements:r,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}export{b as E};
