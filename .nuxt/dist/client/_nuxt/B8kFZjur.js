import{_ as L,f as B,g as O,s as j,h as z,i as w,j as A,u as F,c,b as s,l as t,e as h,w as d,x as p,D as _,F as m,d as b,E as G,m as q,p as Y,o as n,q as k,G as v,H as J,I as K}from"./OmrnE3d5.js";import{_ as Q}from"./B-r68-ay.js";import{u as U}from"./I6A_oj8C.js";import{S as C,a as $}from"./DxzZJF1W.js";import{N as W}from"./B7LnlEtV.js";import{P as X}from"./4w4g0O59.js";import{S as Z}from"./BFgDA0qX.js";import{A as ss}from"./DRypW5s4.js";import{f as ts,T as es}from"./CnhZG9AX.js";import{S as os,b as M}from"./BKZYPkvF.js";import"./CFABdoD6.js";const e=r=>(J("data-v-a75907b7"),r=r(),K(),r),as={class:"breadcrumb__area include-bg pb-40 pt-30 grey-bg-4"},ns={class:"container"},ls={class:"row"},is={key:0,class:"col-xxl-12"},cs={class:"breadcrumb__content p-relative z-index-1"},ds={class:"breadcrumb__list"},_s=e(()=>s("span",null," จัดการข้อมูล ",-1)),rs=e(()=>s("span",{class:"dvdr"},[s("i",{class:"fa-solid fa-circle-small"})],-1)),us={class:"postbox__area pt-40 pb-120"},hs={class:"container"},ps={class:"row"},ms={class:"col-xxl-12"},fs={key:0,class:"postbox__wrapper"},ws={class:"postbox__main"},bs={class:"row"},vs={class:"col-lg-12"},gs={class:"postbox__main-wrapper"},xs={class:"postbox__details-content-wrapper"},ys={class:"text-end"},Ss={class:"postbox__details-content-wrapper mt-20"},Bs={class:"row"},ks={class:"col-12"},Cs=e(()=>s("span",{class:"fw-bold"},"หัวข้อข่าว : ",-1)),$s=e(()=>s("hr",null,null,-1)),Ms={class:"col-12"},Ts=e(()=>s("span",{class:"fw-bold"},"หน่วยงาน : ",-1)),Is=e(()=>s("hr",null,null,-1)),Ns={class:"col-12"},Rs=e(()=>s("span",{class:"fw-bold"},"ประเภทข่าว : ",-1)),Ds=e(()=>s("hr",null,null,-1)),Vs={class:"col-12"},Es=e(()=>s("span",{class:"fw-bold"},"ประเภทการบริการวิชาการ : ",-1)),Ps=e(()=>s("hr",null,null,-1)),Hs={class:"col-12"},Ls=e(()=>s("span",{class:"fw-bold"},"รูปภาพปกข่าว : ",-1)),Os=["src"],js=e(()=>s("hr",null,null,-1)),zs={class:"col-12"},As=e(()=>s("span",{class:"fw-bold"},"เนื้อหาข่าว : ",-1)),Fs=["innerHTML"],Gs=e(()=>s("hr",null,null,-1)),qs={class:"col-12"},Ys=e(()=>s("span",{class:"fw-bold"},"วันที่ลงข้อมูล : ",-1)),Js=e(()=>s("hr",null,null,-1)),Ks={class:"col-12"},Qs=e(()=>s("span",{class:"fw-bold"},"สถานะ : ",-1)),Us=e(()=>s("hr",null,null,-1)),Ws={class:"col-12"},Xs=e(()=>s("span",{class:"fw-bold"},"แกลลอรี่ : ",-1)),Zs={class:"mx-auto"},st=["src"],tt=["src"],et=e(()=>s("hr",null,null,-1)),ot={__name:"[id]",setup(r){B.extend(O);const T=q(),{apiBase:f}=T.public,g=j(),I=z(),x=[ss,ts,W,X,Z,es],u=w([]),y=w(null),o=w(null),N=l=>{y.value=l},R=async()=>{let l=await $fetch(`${f}/news-gallery`,{params:{is_publish:1,news_id:g.params.id}}).catch(a=>a.data);u.value=l.data},D=async()=>{let l=await $fetch(`${f}/news/${g.params.id}`,{params:{}}).catch(a=>a.data);o.value=l.data};A(()=>{R(),D()});const V=async l=>{os.fire({title:"ยืนยันการลบข้อมูล",text:"หลังจากลบข้อมูลแล้วไม่สามารถกลับมาแก้ไขได้",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Cancle it!"}).then(a=>{a.isConfirmed&&E(l)})},E=async l=>{await $fetch(`${f}/news/${l}`,{method:"delete"}).then(a=>{if(a.msg=="success")U("ลบรายการเสร็จสิ้น","success"),I.push({path:"/admin/news"});else throw new Error("ERROR")}).catch(a=>a.data)};return F({title:"ข่าวประชาสัมพันธ์"}),(l,a)=>{const S=Y,P=Q;return n(),c(m,null,[s("section",as,[s("div",ns,[s("div",ls,[t(o)!=null?(n(),c("div",is,[s("div",cs,[s("div",ds,[_s,rs,s("span",null,[h(S,{href:"/admin/news"},{default:d(()=>[k(" รายการข่าว ")]),_:1})])])])])):p("",!0)])])]),s("section",us,[s("div",hs,[s("div",ps,[s("div",ms,[t(o)!=null?(n(),c("div",fs,[s("div",ws,[s("div",bs,[s("div",vs,[s("div",gs,[s("div",xs,[s("div",ys,[h(S,{to:{name:"admin-news-edit-id",params:{id:t(o).id}},class:"btn btn-warning"},{default:d(()=>[k("แก้ไขข้อมูล")]),_:1},8,["to"]),s("button",{class:"btn btn-danger ml-5",onClick:a[0]||(a[0]=i=>V(t(o).id))}," ลบ ")])]),s("div",Ss,[s("div",Bs,[s("div",ks,[Cs,s("span",null,_(t(o).title_th),1),$s]),s("div",Ms,[Ts,s("span",null,_(t(o).department.name_th),1),Is]),s("div",Ns,[Rs,s("span",null,_(t(o).news_type.name),1),Ds]),s("div",Vs,[Es,(n(!0),c(m,null,b(t(o).service_categories,(i,H)=>(n(),c("span",{key:H},_(i.service_category.name_th+", "),1))),128)),Ps]),s("div",Hs,[Ls,s("div",null,[s("img",{src:t(o).news_file,class:"mt-20",style:{"max-height":"400px"}},null,8,Os)]),js]),s("div",zs,[As,s("div",{innerHTML:t(o).detail_th},null,8,Fs),Gs]),s("div",qs,[Ys,s("span",null,_(t(B)(t(o).created_news).locale("th").format("DD MMM BBBB")),1),Js]),s("div",Ks,[Qs,t(o).is_publish!=null?(n(),c("span",{key:0,class:G("badge rounded-pill bg-"+t(M).data().publishes[t(o).is_publish].color)},_(t(M).data().publishes[t(o).is_publish].name_th),3)):p("",!0),Us]),s("div",Ws,[Xs,s("div",Zs,[h(P,null,{default:d(()=>[t(u).length!=0?(n(),v(t($),{key:0,slidesPerView:1,spaceBetween:10,loop:!0,thumbs:{swiper:t(y)},navigation:!0,modules:x,speed:5e3,autoplay:{delay:5e3,disableOnInteraction:!0},class:"mySwiper2 mb-10"},{default:d(()=>[(n(!0),c(m,null,b(t(u),i=>(n(),v(t(C),{key:i.id},{default:d(()=>[s("img",{src:i.news_gallery_file,style:{"max-width":"800px","margin-left":"auto","margin-right":"auto",display:"block"}},null,8,st)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"])):p("",!0),h(t($),{onSwiper:N,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:x,class:"mySwiper"},{default:d(()=>[(n(!0),c(m,null,b(t(u),i=>(n(),v(t(C),{key:i.id},{default:d(()=>[s("img",{src:i.news_gallery_file,style:{"max-width":"200px",cursor:"pointer"}},null,8,tt)]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])]),_:1})]),et])])])])])])])])):p("",!0)])])])])],64)}}},mt=L(ot,[["__scopeId","data-v-a75907b7"]]);export{mt as default};
