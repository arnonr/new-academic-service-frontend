import{_ as E,i as v,ab as $,y as k,r as A,o as s,c as o,G as D,w as C,F as g,d as N,E as T,b as e,x as b,m as H,H as P,I as V,t as S,l as m,e as h,D as x,p as F,z,q as G,ac as L,u as q,j as O}from"./OmrnE3d5.js";import{a as R,S as J}from"./DxzZJF1W.js";import{M as K}from"./D15JK5qq.js";import{N as Q}from"./B7LnlEtV.js";import{P as U}from"./4w4g0O59.js";import{A as W}from"./DRypW5s4.js";import{E as X}from"./CRa0Wpjl.js";import{N as Y}from"./D4lBNCpG.js";import{u as Z}from"./I6A_oj8C.js";import"./CFABdoD6.js";const ee={components:{Swiper:R,SwiperSlide:J},async setup(){const t=H(),a=(n,r)=>`<span class="${n}"></span>
                <span class="tp-swiper-fraction-divide"></span>
              <span class="${r}"></span>`,l=v([]),{data:c}=await $("banner",async()=>await $fetch(`${t.public.apiBase}/banner`,{params:{is_publish:1,lang:k("lang").value}}));return l.value=c.value.data,{items:l,renderFraction:a,modules:[X,K,Q,U,W]}}},M=t=>(P("data-v-49f0b6f9"),t=t(),V(),t),te={key:0,class:"slider__area p-relative"},ae=["href"],se=["src","alt"],ne=M(()=>e("div",{class:"slider-pagination-12 tp-swiper-fraction"},null,-1)),oe=M(()=>e("div",{class:"slider__nav-arrow-12 d-flex flex-column d-none d-md-block"},[e("button",{class:"slider-button-12-next"},[e("i",{class:"fa-regular fa-chevron-right"})]),e("button",{class:"slider-button-12-prev"},[e("i",{class:"fa-regular fa-chevron-left"})])],-1));function ce(t,a,l,c,n,r){const f=A("swiper-slide"),u=A("swiper");return c.items.length!=0?(s(),o("section",te,[c.items.length!=0?(s(),D(u,{key:0,class:"slider__active-12 slider__height-12 swiper-container",slidesPerView:1,spaceBetween:0,effect:"fade",loop:!0,modules:c.modules,autoplay:{delay:5e3,disableOnInteraction:!0},pagination:{clickable:!0},navigation:{nextEl:".slider-button-12-next",prevEl:".slider-button-12-prev"}},{default:C(()=>[(s(!0),o(g,null,N(c.items,i=>(s(),D(f,{key:i.id,class:T(`slider__item-12 slider__bg-12 ${i.bg} d-flex align-items-center`)},{default:C(()=>[e("a",{href:i.banner_url},[e("img",{src:i.banner_file,alt:i.title,style:{width:"100%"}},null,8,se)],8,ae)]),_:2},1032,["class"]))),128)),ne,oe]),_:1},8,["modules"])):b("",!0)])):b("",!0)}const le=E(ee,[["render",ce],["__scopeId","data-v-49f0b6f9"]]),j=t=>(P("data-v-da309e3c"),t=t(),V(),t),re={class:"container"},ie=j(()=>e("div",{class:"row"},[e("div",{class:"col-xxl-12 mb-20"},[e("h3",null,x("ประเภทงานบริการวิชาการ"))])],-1)),_e={key:0,class:"row"},de=["src"],ue={class:"ms-3"},pe=j(()=>e("hr",{style:{"border-top":"dotted 1px"}},null,-1)),me={__name:"Category",props:{el_style:{type:Boolean,default:!0}},async setup(t){let a,l;const c=H(),n=v([]),{data:r}=([a,l]=S(async()=>$("serviceCategory",async()=>await $fetch(`${c.public.apiBase}/service-category`,{params:{is_publish:1,lang:k("lang").value,orderBy:"created_at"}}))),a=await a,l(),a);return n.value=r.value.data,(f,u)=>{const i=F;return s(),o("section",{class:T(`brand__area ${t.el_style?"pt-30":""} bg-grey`)},[e("div",re,[ie,m(n).length!=0?(s(),o("div",_e,[(s(!0),o(g,null,N(m(n),(p,B)=>(s(),o("div",{key:B,class:"col-md-6"},[h(i,{to:`/serve?service_category_id=${p.id}`},{default:C(()=>[e("img",{src:`images/icon/icon_${p.id}.jpg`,style:{width:"70px"},alt:""},null,8,de),e("span",ue,x(p.name),1)]),_:2},1032,["to"]),pe]))),128))])):b("",!0)])],2)}}},fe=E(me,[["__scopeId","data-v-da309e3c"]]),ve=t=>(P("data-v-ae0d31f4"),t=t(),V(),t),he={class:"portfolio__area pt-40 pb-40"},we={class:"container"},ye={class:"row"},ge=ve(()=>e("div",{class:"col-xxl-12 mb-20"},[e("h3",null,x("ข่าว"))],-1)),be={key:0,class:"col-xxl-12"},xe={class:"portfolio__masonary-btn-2 text-start mb-50"},$e={key:0,class:"masonary-menu filter-button-group"},ke=["onClick"],Ce={class:"row gx-2 grid"},Ne={class:"div-btn-news"},Be={class:"col"},Ie={class:"tp-button-demo text-end"},Se={__name:"News",async setup(t){let a,l;const c=H(),n=v([]),r=v([]),f=v("news-all"),u=v({news_type_id:void 0,is_publish:1}),{data:i}=([a,l]=S(async()=>$("newsType",async()=>{let d=await $fetch(`${c.public.apiBase}/news-type`,{params:{is_publish:1,lang:k("lang").value,orderBy:"created_at"}}),w=d.data.map(y=>(y.category="news-"+y.name,y));return w.unshift({id:null,name:"ข่าวทั้งหมด",category:"news-all"}),{...d,data:w}})),a=await a,l(),a);r.value=i.value.data;const{data:p}=([a,l]=S(async()=>$("news",async()=>{let d=await $fetch(`${c.public.apiBase}/news`,{params:{...u.value,news_type_id:u.value.news_type_id==null?void 0:u.value.news_type_id,perPage:8,currentPage:1,lang:k("lang").value}});return d?{data:d.data}:{data:[]}})),a=await a,l(),a);p.value!=null?n.value=p.value.data:n.value=[];const B=async(d,w)=>{u.value.news_type_id=d,await L("news"),f.value=w,n.value=p.value.data};return z([i],()=>{r.value=i.value.data}),(d,w)=>{const y=F;return s(),o("section",he,[e("div",we,[e("div",ye,[ge,m(r).length!=0?(s(),o("div",be,[e("div",xe,[m(r).length!=0?(s(),o("div",$e,[(s(!0),o(g,null,N(m(r),(_,I)=>(s(),o("button",{key:I,onClick:Te=>B(_.id,_.category),class:T(`${_.category===m(f)?"active":""} text-uppercase`)},x(_.name),11,ke))),128))])):b("",!0)])])):b("",!0)]),e("div",Ce,[(s(!0),o(g,null,N(m(n),(_,I)=>(s(),o("div",{key:I,class:"col-xxl-3 col-xl-3 col-lg-6 col-md-6"},[h(Y,{item:{link:"news/",id:_.id,title:_.title,file:_.news_file,type_name:_.news_type.name}},null,8,["item"])]))),128))]),e("div",Ne,[e("div",Be,[e("div",Ie,[h(y,{to:"/news",class:"tp-btn-border-brown text-uppercase"},{default:C(()=>[G(x("ข่าวทั้งหมด"))]),_:1})])])])])])}}},Ee=E(Se,[["__scopeId","data-v-ae0d31f4"]]),Le={__name:"index",setup(t){return q({title:"งานบริการวิชาการ มจพ.",meta:[{name:"งานบริการวิชาการ มจพ.",content:"งานบริการวิชาการ มจพ."}]}),O(()=>{}),localStorage.getItem("login")&&(Z("เข้าสู่ระบบเสร็จสิ้น","success"),localStorage.removeItem("login")),(a,l)=>{const c=le,n=fe,r=Ee;return s(),o(g,null,[h(c),h(n),h(r)],64)}}};export{Le as default};
