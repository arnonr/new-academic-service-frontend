{"version":3,"file":"login-Cw2OKliB.js","sources":["../../../../assets/img/bg/bg-login.jpeg","../../../../components/login-register/LoginArea.vue","../../../../pages/login.vue"],"sourcesContent":["export default \"__VITE_ASSET__Cnlg4fDP__\"","<template>\r\n    <section class=\"login__area pt-180 pb-110\">\r\n        <div class=\"container\">\r\n            <div class=\"login__inner p-relative z-index-1\">\r\n                <login-shapes />\r\n                <div class=\"row justify-content-center\">\r\n                    <div class=\"col-xl-6 col-lg-8 col-md-10\">\r\n                        <div class=\"login__wrapper\">\r\n                            <div class=\"login__top mb-30 text-center\">\r\n                                <img\r\n                                    src=\"~/assets/img/logo/logo-kmutnb-final.jpg\"\r\n                                    alt=\"shape\"\r\n                                    style=\"width: 60%\"\r\n                                />\r\n                                <img\r\n                                    class=\"offcanvas__shape-1\"\r\n                                    src=\"~/assets/img/bg/bg-login.jpeg\"\r\n                                    alt=\"shape\"\r\n                                />\r\n                            </div>\r\n                            <div class=\"login__form\">\r\n                                <!-- form start -->\r\n                                <form @submit.prevent=\"handleSubmit\">\r\n                                    <div class=\"login__input-wrapper\">\r\n                                        <div class=\"login__input-item\">\r\n                                            <div class=\"login__input\">\r\n                                                <label for=\"email\">Email</label>\r\n                                                <input\r\n                                                    v-model=\"login.email\"\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Email or Username\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"login__input-item\">\r\n                                            <div class=\"login__input\">\r\n                                                <label for=\"email\"\r\n                                                    >Password</label\r\n                                                >\r\n                                                <input\r\n                                                    v-model=\"login.password\"\r\n                                                    type=\"password\"\r\n                                                    placeholder=\"Password\"\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div\r\n                                        class=\"login__option mb-25 d-sm-flex justify-content-between\"\r\n                                    >\r\n                                        <div class=\"login__remember\">\r\n                                            <input\r\n                                                v-model=\"login.isChecked\"\r\n                                                type=\"checkbox\"\r\n                                                id=\"tp-remember\"\r\n                                            />\r\n                                            <label for=\"tp-remember\"\r\n                                                >Remember me</label\r\n                                            >\r\n                                        </div>\r\n                                        <div class=\"login__forgot\">\r\n                                            <nuxt-link href=\"/forgot\"\r\n                                                >ลืมรหัสผ่าน</nuxt-link\r\n                                            >\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"login__btn\">\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            class=\"tp-btn w-100\"\r\n                                        >\r\n                                            เข้าสู่ระบบ\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class=\"register\">\r\n                                        <nuxt-link href=\"/register\"\r\n                                            >ลงทะเบียนเข้าใช้งาน</nuxt-link\r\n                                        >\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script setup>\r\n// import LoginForm from \"../forms/LoginForm.vue\";\r\n\r\nimport LoginShapes from \"./LoginShapes.vue\";\r\n// import LoginWithSocial from \"./LoginWithSocial.vue\";\r\nimport { storeToRefs } from \"pinia\"; // import storeToRefs helper hook from pinia\r\nimport { useAuthStore } from \"~/store/auth\"; // import the auth store we just created\r\nconst { authenticateUser, logUserOut } = useAuthStore(); // use authenticateUser action from  auth store\r\nconst { authenticated } = storeToRefs(useAuthStore()); // make authenticated state reactive with storeToRefs\r\nconst router = useRouter();\r\n\r\nconst login = ref({\r\n    email: \"\",\r\n    password: \"\",\r\n    isChecked: false,\r\n});\r\n\r\nconst handleSubmit = async () => {\r\n    login.value.username = login.value.email;\r\n    await authenticateUser(login.value); // call authenticateUser and pass the user object\r\n    // redirect to homepage if user is authenticated\r\n    if (authenticated.value == true) {\r\n        localStorage.setItem(\"login\", true);\r\n        router.push(\"/\");\r\n    } else {\r\n        useToast(\"Invalid credential\", \"error\");\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <div>\r\n        <login-area />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport LoginArea from \"~~/components/login-register/LoginArea.vue\";\r\n\r\nexport default {\r\n    components: {\r\n        LoginArea,\r\n    },\r\n    setup() {\r\n        useHead({\r\n            title: \"เข้าสู่ระบบจัดการเว็บไซต์งานบริการวิชาการ มจพ.\",\r\n        });\r\n        definePageMeta({\r\n            layout: false,\r\n        });\r\n    },\r\n};\r\n</script>\r\n"],"names":["login","LoginArea","_ssrRenderAttrs","_ssrRenderComponent"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAe,aAAA,KAAA,iBAAA,wBAAA;;;;;ACgG0B,iBAAe;AAC9B,gBAAY,aAAY,CAAE;AACrC,cAAY;AAE3B,UAAMA,SAAQ,IAAI;AAAA,MACd,OAAO;AAAA,MACP,UAAU;AAAA,MACV,WAAW;AAAA,IACf,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FD,MAAK,YAAU;AAAA,EACX,YAAY;AAAA,IACR,WAAAC;AAAAA,EACH;AAAA,EACD,QAAQ;AACJ,YAAQ;AAAA,MACJ,OAAO;AAAA,IACX,CAAC;AAAA,EAIJ;AACL;;;AArBA,QAAA,OAAAC,eAAA,MAAA,CAAA,GAAA;AAAA,QAAAC,mBAAA,uBAAA,MAAA,MAAA,OAAA,CAAA;AAAA,QAAA,QAAA;;;;;;;;;"}