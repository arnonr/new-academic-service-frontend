{"version":3,"file":"register-D97Hacsa.js","sources":["../../../../components/forms/RegisterForm.vue","../../../../components/login-register/LoginWithSocial.vue","../../../../components/login-register/RegisterArea.vue","../../../../pages/register.vue"],"sourcesContent":["<template>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n        <div class=\"login__input-wrapper\">\r\n            <div class=\"login__input-item\">\r\n                <div class=\"login__input\">\r\n                    <label for=\"form-control\">ICIT Account</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        v-model=\"item.username\"\r\n                        placeholder=\"ระบุ ICIT Account\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"login__input-item\">\r\n                <div class=\"login__input\">\r\n                    <label for=\"form-control\">Email</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        v-model=\"item.email\"\r\n                        placeholder=\"ระบุ EMAIL\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div class=\"login__input-item\">\r\n                <div\r\n                    class=\"\"\r\n                    v-for=\"(select, index) in selectOptionsFields\"\r\n                    :key=\"index\"\r\n                >\r\n                    <label for=\"form-control\">หน่วยงาน</label>\r\n                    <client-only>\r\n                        <v-select\r\n                            v-model=\"item[select.model]\"\r\n                            :label=\"select.label\"\r\n                            :placeholder=\"select.placeholder\"\r\n                            :options=\"selectOptions[select.options]\"\r\n                            class=\"v-select-no-border\"\r\n                            :clearable=\"true\"\r\n                        />\r\n                    </client-only>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"login__btn\">\r\n            <button type=\"submit\" class=\"tp-btn w-100\">ลงทะเบียน</button>\r\n        </div>\r\n    </form>\r\n</template>\r\n\r\n<script setup>\r\nimport vSelect from \"vue-select\";\r\nimport \"vue-select/dist/vue-select.css\";\r\nimport { useRuntimeConfig } from \"#app\";\r\n\r\nconst config = useRuntimeConfig();\r\nconst { apiBase } = config.public;\r\nconst router = useRouter();\r\n\r\nconst item = ref({\r\n    department_id: null,\r\n    username: \"\",\r\n    email: \"\",\r\n    isChecked: false,\r\n});\r\n\r\nconst selectOptionsFields = [\r\n    {\r\n        options: \"departments\",\r\n        model: \"department_id\",\r\n        label: \"title\",\r\n        placeholder: \"เลือกหน่วยงาน\",\r\n    },\r\n];\r\n\r\nconst selectOptions = ref({\r\n    departments: [],\r\n});\r\n\r\n// Function Fetch\r\n\r\n// fetch\r\nconst fetchDepartments = async () => {\r\n    let data = await $fetch(`${apiBase}/department`, {\r\n        params: {\r\n            is_publish: 1,\r\n        },\r\n    }).catch((error) => error.data);\r\n\r\n    selectOptions.value.departments = data.data.map((e) => {\r\n        return { title: e.name_th, id: e.id };\r\n    });\r\n};\r\n\r\nconst handleSubmit = async () => {\r\n    if (\r\n        item.value.department_id == null ||\r\n        item.value.username == null ||\r\n        item.value.email == null\r\n    ) {\r\n        useToast(\"โปรดระบุข้อมูลให้ครบถ้วน\", \"error\");\r\n        return;\r\n    }\r\n\r\n    let data = {\r\n        username: item.value.username,\r\n        email: item.value.email,\r\n        department_id: item.value.department_id.id,\r\n    };\r\n\r\n    await $fetch(`${apiBase}/user/register`, {\r\n        method: \"post\",\r\n        body: { ...data },\r\n    })\r\n        .then((res) => {\r\n            if (res.msg == \"success\") {\r\n                useToast(\r\n                    \"ลงทะเบียนเสร็จสิ้น โปรดรอการตรวจสอบข้อมูล\",\r\n                    \"success\"\r\n                );\r\n                router.push({ path: \"/\" });\r\n            } else {\r\n                throw new Error(res.msg);\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            useToast(error.data.msg, \"error\");\r\n        });\r\n};\r\n\r\nonMounted(async () => {\r\n    await fetchDepartments();\r\n});\r\n</script>\r\n","<template>\r\n  <div class=\"login__social-item d-flex flex-wrap justify-content-sm-center\">\r\n    <a href=\"#\">\r\n        <span class=\"login-social-icon\"><svg width=\"18\" height=\"19\" viewBox=\"0 0 18 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M17.9978 9.69089C17.9978 9.04696 17.9472 8.39954 17.8393 7.76605H9.17969V11.4138H14.1386C13.9328 12.5903 13.2717 13.6311 12.3035 14.2924V16.6593H15.262C16.9993 15.0094 17.9978 12.5729 17.9978 9.69089Z\" fill=\"#4285F4\"/>\r\n          <path d=\"M9.18072 18.9462C11.6568 18.9462 13.745 18.1074 15.2664 16.6594L12.3079 14.2925C11.4848 14.8703 10.4221 15.1975 9.1841 15.1975C6.78897 15.1975 4.75817 13.5302 4.02951 11.2886H0.976562V13.7286C2.53508 16.9274 5.70947 18.9462 9.18072 18.9462Z\" fill=\"#34A853\"/>\r\n          <path d=\"M4.02618 11.2886C3.64161 10.1122 3.64161 8.83821 4.02618 7.66173V5.22174H0.976605C-0.325535 7.89841 -0.325535 11.0519 0.976605 13.7286L4.02618 11.2886Z\" fill=\"#FBBC04\"/>\r\n          <path d=\"M9.18072 3.74937C10.4896 3.72849 11.7546 4.23668 12.7026 5.16951L15.3237 2.46499C13.664 0.856896 11.4612 -0.0272074 9.18072 0.00063836C5.70947 0.00063836 2.53508 2.01946 0.976562 5.22172L4.02613 7.6617C4.75142 5.41664 6.78559 3.74937 9.18072 3.74937Z\" fill=\"#EA4335\"/>\r\n          </svg>\r\n        </span>\r\n        <span>Google</span>\r\n    </a>\r\n    <a href=\"#\">\r\n        <span class=\"login-social-icon\">\r\n          <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M18 9C18 4.02944 13.9706 0 9 0C4.02943 0 0 4.02944 0 9C0 13.4921 3.29115 17.2155 7.59375 17.8907V11.6016H5.30859V9H7.59375V7.01719C7.59375 4.76156 8.93742 3.51563 10.9932 3.51563C11.9776 3.51563 13.0078 3.69141 13.0078 3.69141V5.90625H11.873C10.755 5.90625 10.4062 6.60006 10.4062 7.3125V9H12.9023L12.5033 11.6016H10.4062V17.8907C14.7088 17.2155 18 13.4921 18 9Z\" fill=\"#4285F4\"/>\r\n              <path d=\"M12.4994 11.6016L12.8984 9H10.4023V7.3125C10.4023 6.60076 10.7511 5.90625 11.8691 5.90625H13.0039V3.69141C13.0039 3.69141 11.974 3.51562 10.9893 3.51562C8.93352 3.51562 7.58984 4.76156 7.58984 7.01719V9H5.30469V11.6016H7.58984V17.8907C8.52168 18.0364 9.47051 18.0364 10.4023 17.8907V11.6016H12.4994Z\" fill=\"white\"/>\r\n          </svg>                                          \r\n        </span>\r\n        <span>Facebook</span>\r\n    </a>\r\n    <a href=\"#\">\r\n        <span class=\"login-social-icon\">\r\n          <svg width=\"18\" height=\"15\" viewBox=\"0 0 18 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18 1.7311C17.3382 2.02466 16.6255 2.22316 15.8789 2.313C16.6414 1.85542 17.227 1.13247 17.5023 0.270582C16.7886 0.693692 15.9986 1.00084 15.1567 1.1659C14.4832 0.448184 13.5238 0 12.4617 0C10.4222 0 8.76809 1.65274 8.76809 3.69203C8.76809 3.98246 8.80198 4.26349 8.86445 4.53407C5.79562 4.3805 3.07519 2.90954 1.25379 0.675932C0.935051 1.22127 0.753971 1.85542 0.753971 2.5324C0.753971 3.81322 1.40628 4.9436 2.3964 5.60491C1.79068 5.5861 1.22097 5.41999 0.72432 5.14314C0.72432 5.15881 0.72432 5.17449 0.72432 5.19016C0.72432 6.97871 1.99612 8.47057 3.6862 8.8101C3.37593 8.89472 3.05083 8.93965 2.71303 8.93965C2.47582 8.93965 2.24391 8.91666 2.01836 8.87279C2.48853 10.3396 3.85245 11.4073 5.46841 11.4376C4.20402 12.4269 2.61137 13.0172 0.881045 13.0172C0.58348 13.0172 0.289093 13.0005 0 12.966C1.63396 14.0138 3.57501 14.625 5.66114 14.625C12.4532 14.625 16.168 8.9992 16.168 4.12037C16.168 3.95948 16.1638 3.80173 16.1574 3.64293C16.8786 3.12266 17.5055 2.4718 18 1.73214V1.7311Z\" fill=\"#387CFF\"/>\r\n          </svg>                                          \r\n        </span>\r\n        <span>Twitter</span>\r\n    </a>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    \r\n  }\r\n</script>\r\n","<template>\r\n    <section class=\"login__area pt-110 pb-110\">\r\n        <div class=\"container\">\r\n            <div class=\"login__inner p-relative z-index-1\">\r\n                <login-shapes />\r\n                <div class=\"row justify-content-center\">\r\n                    <div class=\"col-xl-6 col-lg-8 col-md-10\">\r\n                        <div class=\"login__wrapper\">\r\n                            <div class=\"login__top mb-30 text-center\">\r\n                                <h3 class=\"login__title\">\r\n                                    ลงทะเบียนเข้าใช้งาน\r\n                                </h3>\r\n                            </div>\r\n                            <div class=\"login__form\">\r\n                                <!-- form start -->\r\n                                <register-form />\r\n                                <div class=\"login__register-now\">\r\n                                    <p>\r\n                                        กลับไปหน้า\r\n                                        <nuxt-link href=\"/login\"\r\n                                            >เข้าสู่ระบบ</nuxt-link\r\n                                        >\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport RegisterForm from \"../forms/RegisterForm.vue\";\r\nimport LoginShapes from \"./LoginShapes.vue\";\r\nimport LoginWithSocial from \"./LoginWithSocial.vue\";\r\n\r\nexport default {\r\n    components: { LoginShapes, RegisterForm, LoginWithSocial },\r\n};\r\n</script>\r\n","<template>\r\n    <div>\r\n        <register-area />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport RegisterArea from \"~~/components/login-register/RegisterArea.vue\";\r\n\r\nexport default {\r\n    components: {\r\n        RegisterArea,\r\n    },\r\n    setup() {\r\n        useHead({\r\n            title: \"สมัคใช้งานระบบจัดการเว็บไซต์งานบริการวิชาการ มจพ.\",\r\n        });\r\n\r\n        definePageMeta({\r\n            layout: false,\r\n        });\r\n    },\r\n};\r\n</script>\r\n"],"names":["_sfc_main","_ssrRenderAttrs","_mergeProps","RegisterForm","_ssrRenderComponent","_withCtx","_push","_parent","_createTextVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,UAAM,SAAS,iBAAgB;AACX,WAAO;AACZ,cAAY;AAE3B,UAAM,OAAO,IAAI;AAAA,MACb,eAAe;AAAA,MACf,UAAU;AAAA,MACV,OAAO;AAAA,MACP,WAAW;AAAA,IACf,CAAC;AAED,UAAM,sBAAsB;AAAA,MACxB;AAAA,QACI,SAAS;AAAA,QACT,OAAO;AAAA,QACP,OAAO;AAAA,QACP,aAAa;AAAA,MAChB;AAAA,IACL;AAEsB,QAAI;AAAA,MACtB,aAAa,CAAE;AAAA,IACnB,CAAC;;;;;;;;;;;;;;;;;;;AC5CC,MAAKA,cAAU,CAEf;;AAnCF,QAAA,OAAAC,eAAAC,WAAA,EACO,OAAM,mEADb,MAAA,CAAA,CAAA,+tGAAA;;;;;;;;;ACsCA,MAAKF,cAAU;AAAA,EACX,YAAY,EAAE,2BAAaG,aAAc,gBAAiB;AAC9D;;;;;AAxCA,QAAA,WAAAF,eAAAC,WAAA,EACa,OAAM,+BADnB,MAAA,CAAA,CAAA,yEAAA;AAAA,QAAAE,mBAAA,yBAAA,MAAA,MAAA,OAAA,CAAA;AAAA,QAAA,2OAAA;AAAA,QAAAA,mBAAA,0BAAA,MAAA,MAAA,OAAA,CAAA;AAAA,QAAA,kDAAA;AAAA,QAAAA,mBAAA,sBAAA,EAmBmD,MAAK,SAAQ,GAAA;AAAA,IAnBhE,SAAAC,QAmBwC,CACsE,GAAAC,QAAAC,UAAA,aAAA;AApB9G,UAAAD,QAAA;AAAA,QAAAA,OAAA,aAAA;AAAA;;UAAAE,gBAoB6C,aAAW;AAAA;;;IApBxD,GAAA;AAAA;AAAA,QAAA,0DAAA;;;;;;;;;ACSA,MAAK,YAAU;AAAA,EACX,YAAY;AAAA,IACR;AAAA,EACH;AAAA,EACD,QAAQ;AACJ,YAAQ;AAAA,MACJ,OAAO;AAAA,IACX,CAAC;AAAA,EAKJ;AACL;;;AAtBA,QAAA,OAAAP,eAAA,MAAA,CAAA,GAAA;AAAA,QAAAG,mBAAA,0BAAA,MAAA,MAAA,OAAA,CAAA;AAAA,QAAA,QAAA;;;;;;;;;"}