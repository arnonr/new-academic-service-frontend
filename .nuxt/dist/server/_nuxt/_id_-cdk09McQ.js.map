{"version":3,"file":"_id_-cdk09McQ.js","sources":["../../../../pages/news/[id].vue"],"sourcesContent":["<template>\n    <section class=\"breadcrumb__area include-bg pb-40 pt-30 grey-bg-4\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-xxl-12\" v-if=\"item != null\">\n                    <div class=\"breadcrumb__content p-relative z-index-1\">\n                        <div class=\"postbox__category\">\n                            <NuxtLink\n                                :to=\"{\n                                    path: '/news',\n                                    query: { news_type_id: item.news_type_id },\n                                }\"\n                                style=\"padding: 10px\"\n                            >\n                                {{ item.news_type.name }}\n                            </NuxtLink>\n                        </div>\n                        <div class=\"breadcrumb__list\">\n                            <span class=\"breadcrumb-item-1\">\n                                <NuxtLink\n                                    :to=\"{\n                                        path: '/',\n                                    }\"\n                                >\n                                    หน้าหลัก\n                                </NuxtLink>\n                            </span>\n                            <span class=\"dvdr breadcrumb-item-1\"\n                                ><i class=\"fa-solid fa-circle-small\"></i\n                            ></span>\n                            <span class=\"breadcrumb-item-1\">\n                                <NuxtLink href=\"/news\"> ข่าวทั้งหมด</NuxtLink>\n                            </span>\n                            <span class=\"dvdr breadcrumb-item-1\"\n                                ><i class=\"fa-solid fa-circle-small\"></i\n                            ></span>\n                            <span> {{ item.title }} </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    <!--  -->\n    <section class=\"postbox__area pt-40 pb-120\">\n        <div class=\"container\">\n            <div class=\"row\">\n                <div class=\"col-xxl-12\">\n                    <div class=\"postbox__wrapper\" v-if=\"item\">\n                        <div class=\"postbox__main\">\n                            <div class=\"row\">\n                                <div class=\"col-lg-12\">\n                                    <div class=\"postbox__main-wrapper\">\n                                        <div\n                                            class=\"postbox__details-content-wrapper\"\n                                        >\n                                            <h3>{{ item.title }}</h3>\n                                            <hr />\n                                        </div>\n\n                                        <div\n                                            class=\"postbox__meta-wrapper d-flex align-items-center flex-wrap\"\n                                        >\n                                            <div class=\"postbox__meta-item\">\n                                                <div\n                                                    class=\"postbox__meta-content\"\n                                                >\n                                                    <span\n                                                        class=\"postbox__meta-type\"\n                                                    >\n                                                        <i\n                                                            class=\"fa-regular fa-calendar\"\n                                                        ></i>\n                                                        {{\n                                                            dayjs(\n                                                                item.created_news\n                                                            )\n                                                                .locale(\"th\")\n                                                                .format(\n                                                                    \"DD MMM BB\"\n                                                                )\n                                                        }}\n                                                    </span>\n                                                </div>\n                                            </div>\n\n                                            <div class=\"postbox__meta-item\">\n                                                <div\n                                                    class=\"postbox__meta-content\"\n                                                >\n                                                    <span\n                                                        class=\"postbox__meta-type\"\n                                                    >\n                                                        <i\n                                                            class=\"fa-regular fa-tag\"\n                                                        ></i>\n                                                        {{\n                                                            item.news_type\n                                                                ? item.news_type\n                                                                      .name\n                                                                : \"\"\n                                                        }}\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"postbox__thumb m-img mt-20\">\n                                            <div\n                                                class=\"news_gallery mt-2\"\n                                                v-if=\"newsGallery.length != 0\"\n                                            >\n                                                <div class=\"container\">\n                                                    <div\n                                                        class=\"row justify-content-center\"\n                                                    >\n                                                        <div\n                                                            class=\"col-xxl-8 col-xl-8 col-lg-8 col-md-8 col-sm-10 mx-auto\"\n                                                        >\n                                                            <div\n                                                                class=\"portfolio__slider-6\"\n                                                            >\n                                                                <ClientOnly>\n                                                                    <!--  -->\n\n                                                                    <Swiper\n                                                                        :slidesPerView=\"\n                                                                            1\n                                                                        \"\n                                                                        :spaceBetween=\"\n                                                                            10\n                                                                        \"\n                                                                        :loop=\"\n                                                                            true\n                                                                        \"\n                                                                        :thumbs=\"{\n                                                                            swiper: thumbsSwiper,\n                                                                        }\"\n                                                                        :navigation=\"\n                                                                            true\n                                                                        \"\n                                                                        :modules=\"\n                                                                            modules\n                                                                        \"\n                                                                        :speed=\"\n                                                                            5000\n                                                                        \"\n                                                                        :autoplay=\"{\n                                                                            delay: 5000,\n                                                                            disableOnInteraction: true,\n                                                                        }\"\n                                                                        class=\"mySwiper2 mb-10\"\n                                                                    >\n                                                                        <SwiperSlide\n                                                                            v-for=\"ng in newsGallery\"\n                                                                            :key=\"\n                                                                                ng.id\n                                                                            \"\n                                                                        >\n                                                                            <img\n                                                                                :src=\"\n                                                                                    ng.news_gallery_file\n                                                                                \"\n                                                                                style=\"\n                                                                                    width: 100%;\n                                                                                \"\n                                                                            />\n                                                                        </SwiperSlide>\n                                                                    </Swiper>\n\n                                                                    <Swiper\n                                                                        @swiper=\"\n                                                                            setThumbsSwiper\n                                                                        \"\n                                                                        :spaceBetween=\"\n                                                                            10\n                                                                        \"\n                                                                        :slidesPerView=\"\n                                                                            4\n                                                                        \"\n                                                                        :freeMode=\"\n                                                                            true\n                                                                        \"\n                                                                        :watchSlidesProgress=\"\n                                                                            true\n                                                                        \"\n                                                                        :modules=\"\n                                                                            modules\n                                                                        \"\n                                                                        class=\"mySwiper\"\n                                                                    >\n                                                                        <SwiperSlide\n                                                                            v-for=\"ng in newsGallery\"\n                                                                            :key=\"\n                                                                                ng.id\n                                                                            \"\n                                                                        >\n                                                                            <img\n                                                                                :src=\"\n                                                                                    ng.news_gallery_file\n                                                                                \"\n                                                                                style=\"\n                                                                                    width: 100%;\n                                                                                    cursor: pointer;\n                                                                                \"\n                                                                            />\n                                                                        </SwiperSlide>\n                                                                    </Swiper>\n                                                                </ClientOnly>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n\n                                        <div\n                                            class=\"postbox__details-content-wrapper mt-60\"\n                                        >\n                                            <div\n                                                v-html=\"\n                                                    item.detail == null\n                                                        ? ''\n                                                        : item.detail\n                                                \"\n                                            ></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <image-popup\n            ref=\"image_popup\"\n            :images=\"newsGallery.map((item) => item.news_gallery_file)\"\n        />\n    </section>\n</template>\n\n<script setup>\nimport { Swiper, SwiperSlide } from \"swiper/vue\";\nimport {\n    Autoplay,\n    FreeMode,\n    Navigation,\n    Pagination,\n    Scrollbar,\n    Thumbs,\n} from \"swiper\";\nimport { useRuntimeConfig } from \"#app\";\nimport ImagePopup from \"~~/components/common/modals/ImagePopup.vue\";\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/th\";\nimport buddhistEra from \"dayjs/plugin/buddhistEra\";\ndayjs.extend(buddhistEra);\n\nconst config = useRuntimeConfig();\nconst { apiBase } = config.public;\nconst route = useRoute();\nconst modules = [Autoplay, FreeMode, Navigation, Pagination, Scrollbar, Thumbs];\nconst image_popup = ref(null);\n\nconst newsGallery = ref([]);\nconst thumbsSwiper = ref(null);\n\nconst item = ref(null);\n\nconst setThumbsSwiper = (swiper) => {\n    thumbsSwiper.value = swiper;\n};\n\n// Fetch\nconst { data: res1 } = await useAsyncData(\"news-gallery\", async () => {\n    let data = await $fetch(`${apiBase}/news-gallery`, {\n        params: {\n            is_publish: 1,\n            news_id: route.params.id,\n        },\n    });\n    return data;\n});\n\nnewsGallery.value = [...res1.value.data];\n\nconst { data: res } = await useAsyncData(\"news\", async () => {\n    let data = await $fetch(`${apiBase}/news/${route.params.id}`);\n    return data;\n});\n\nitem.value = res.value.data;\n\nuseHead({\n    title: item.value.title,\n});\n</script>\n\n<style scoped>\n.breadcrumb__title {\n    font-size: 50px;\n}\n</style>\n"],"names":["_withAsyncContext"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiQA,UAAM,OAAO,WAAW;AAExB,UAAM,SAAS,iBAAgB;AAC/B,UAAM,EAAE,QAAO,IAAK,OAAO;AAC3B,UAAM,QAAQ,SAAQ;AAEtB,UAAM,cAAc,IAAI,IAAI;AAE5B,UAAM,cAAc,IAAI,CAAA,CAAE;AACL,QAAI,IAAI;AAE7B,UAAM,OAAO,IAAI,IAAI;AAOrB,UAAM,EAAE,MAAM,KAAM,KAAG,CAAA,QAAA,SAAA,IAAAA,iBAAA,YAAM,aAAa,gBAAgB,YAAY;AAClE,UAAI,OAAO,MAAM,OAAO,GAAG,OAAO,iBAAiB;AAAA,QAC/C,QAAQ;AAAA,UACJ,YAAY;AAAA,UACZ,SAAS,MAAM,OAAO;AAAA,QACzB;AAAA,MACT,CAAK;AACD,aAAO;AAAA,IACX,CAAC,CAAA;AAED,gBAAY,QAAQ,CAAC,GAAG,KAAK,MAAM,IAAI;AAEvC,UAAM,EAAE,MAAM,IAAK,KAAG,CAAA,QAAA,SAAA,IAAAA,iBAAA,YAAM,aAAa,QAAQ,YAAY;AACzD,UAAI,OAAO,MAAM,OAAO,GAAG,OAAO,SAAS,MAAM,OAAO,EAAE,EAAE;AAC5D,aAAO;AAAA,IACX,CAAC,CAAA;AAED,SAAK,QAAQ,IAAI,MAAM;AAEvB,YAAQ;AAAA,MACJ,OAAO,KAAK,MAAM;AAAA,IACtB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}